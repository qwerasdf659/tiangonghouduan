/**
 * 餐厅积分抽奖系统 - 交易市场配置（代码层固定规则）
 *
 * @description 集中管理市场交易的固定业务规则，配置即文档
 * @version 2.0.0
 * @created 2025-12-05
 * @updated 2025-12-30 配置管理三层分离方案实施
 *
 * 配置管理三层分离原则：
 * ┌─────────────────────────────────────────────────────────────────────┐
 * │ 层级            │ 存储位置           │ 特点                          │
 * ├─────────────────────────────────────────────────────────────────────┤
 * │ 环境变量层      │ .env               │ 密钥/连接信息/部署差异        │
 * │ 数据库配置层    │ system_settings    │ 运营可调参数（需启动预检）    │
 * │ 代码配置层      │ 本文件             │ 固定业务规则（改动需重新部署）│
 * └─────────────────────────────────────────────────────────────────────┘
 *
 * 本文件仅包含【代码层固定规则】，不包含运营可调参数。
 *
 * 已迁移到 DB system_settings 的配置项：
 * - max_active_listings → marketplace/max_active_listings（运营可调）
 *
 * @see docs/配置管理三层分离与校验统一方案.md
 * @see AdminSystemService.getSettingValue('marketplace', 'max_active_listings')
 */

module.exports = {
  // ====================================
  // 💰 价格验证配置（代码层固定规则）
  // ====================================

  /**
   * 价格合理性验证配置
   *
   * @description 防止恶意定价或洗积分（固定风控规则）
   * @业务规则
   * - 最低价：物品价值的50%（防止恶意低价转移积分）
   * - 最高价：物品价值的200%（防止欺诈高价）
   * - 基于ItemInstance.meta.value或MarketListing.price_amount字段验证
   *
   * @安全考量 价格验证是风控核心规则，不允许运营调整
   *
   * @示例
   * - 物品价值500积分
   * - 允许售价范围：250-1000积分
   */
  price_validation: {
    min_ratio: 0.5, // 最低50%原值
    max_ratio: 2.0, // 最高200%原值
    enabled: true // 是否启用价格验证
  },

  // ====================================
  // 👑 VIP特权配置（当前不启用）
  // ====================================

  /**
   * VIP特权配置（可选，当前不启用）
   *
   * @description 未来如需VIP特权，可启用此配置
   * @业务规则 当前不建议启用，避免过度设计
   * @调整建议 等用户规模达到1000+再考虑VIP功能
   */
  vip_features: {
    enabled: false, // 是否启用VIP特权
    vip_listings: 20, // VIP用户上架限制
    svip_listings: 50 // SVIP用户上架限制
  }
}
