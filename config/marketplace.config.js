/**
 * 餐厅积分抽奖系统 - 交易市场配置
 *
 * @description 集中管理市场交易的业务规则，配置即文档
 * @version 1.0.0
 * @created 2025-12-05
 *
 * 核心原则：
 * 1. 实用主义：仅限制上架数量，不限制仓库持有
 * 2. 零技术债务：独立配置，不动现有代码
 * 3. 易于调整：修改配置即可调整业务规则
 * 4. 代码即文档：配置文件就是业务规则说明书
 */

module.exports = {
  // ====================================
  // 📦 上架限制配置
  // ====================================

  /**
   * 普通用户最多同时在售商品数量
   *
   * @description 限制用户同时上架的商品数量，防止刷屏和垄断
   * @业务规则
   * - 基于转转（30件）和梦幻西游（20件）的行业经验
   * - 18个用户规模，10件足够使用
   * - 预防刷屏，引导精选
   *
   * @调整建议
   * - 观察3-6个月后根据实际数据调整
   * - 如果用户投诉限制太少，可调整为15-20件
   * - 如果出现垄断问题，可降低为5-8件
   */
  max_active_listings: 10,

  // ====================================
  // 💰 价格验证配置
  // ====================================

  /**
   * 价格合理性验证配置
   *
   * @description 防止恶意定价或洗积分
   * @业务规则
   * - 最低价：物品价值的50%（防止恶意低价转移积分）
   * - 最高价：物品价值的200%（防止欺诈高价）
   * - 基于UserInventory.value字段验证
   *
   * @示例
   * - 物品价值500积分
   * - 允许售价范围：250-1000积分
   */
  price_validation: {
    min_ratio: 0.5, // 最低50%原值
    max_ratio: 2.0, // 最高200%原值
    enabled: true // 是否启用价格验证
  },

  // ====================================
  // 👑 VIP特权配置（当前不启用）
  // ====================================

  /**
   * VIP特权配置（可选，当前不启用）
   *
   * @description 未来如需VIP特权，可启用此配置
   * @业务规则 当前不建议启用，避免过度设计
   * @调整建议 等用户规模达到1000+再考虑VIP功能
   */
  vip_features: {
    enabled: false, // 是否启用VIP特权
    vip_listings: 20, // VIP用户上架限制
    svip_listings: 50 // SVIP用户上架限制
  }
}
