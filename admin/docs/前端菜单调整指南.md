# å‰ç«¯èœå•è°ƒæ•´æŒ‡å—ï¼ˆåœºæ™¯2ï¼šå½»åº•ç§»åŠ¨ï¼‰

> é€‚ç”¨äºï¼šç§»åŠ¨èœå•ä½ç½® + é‡å‘½åæ–‡ä»¶ + æ›´æ–°æ‰€æœ‰å¼•ç”¨
> 
> æ›´æ–°æ—¶é—´ï¼š2026-01-27

---

## ğŸ“‹ ç°æœ‰å‰ç«¯èœå•ç»“æ„

### ğŸ  å·¥ä½œå°
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| å·¥ä½œå° | å•é¡µé¢ |

### ğŸ“‹ æ—¥å¸¸è¿è¥
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| æ¶ˆè´¹è®°å½•å®¡æ ¸ | æ¶ˆè´¹è®°å½•ã€é’»çŸ³è´¦æˆ·ã€å•†æˆ·ç§¯åˆ†ã€å€ºåŠ¡ç®¡ç†ã€æ´»åŠ¨é¢„ç®—ã€å•†æˆ·æ—¥å¿— |
| é£æ§å‘Šè­¦ | å•é¡µé¢ |
| å®¢æœå·¥ä½œå° | å•é¡µé¢ |

### ğŸ° æŠ½å¥–æ´»åŠ¨
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| æ´»åŠ¨ç®¡ç† | æ´»åŠ¨ç®¡ç†ã€å¥–å“ç®¡ç†ã€é¢„ç®—ç®¡ç†ã€ç­–ç•¥é…ç½®ã€é…é¢ç®¡ç†ã€å®šä»·é…ç½®ã€æŠ½å¥–æŒ‡æ ‡ã€æ ¸é”€ç ç®¡ç† |
| æŠ½å¥–é¢„è®¾ | å•é¡µé¢ |

### ğŸ’ èµ„äº§ä¸­å¿ƒ
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| èµ„äº§ç®¡ç† | ææ–™èµ„äº§ç±»å‹ã€ææ–™è´¦æˆ·ã€ææ–™äº¤æ˜“ã€ç‰©å“å®ä¾‹ã€è™šæ‹Ÿè´¦æˆ·ã€è™šæ‹Ÿäº¤æ˜“ã€èµ„äº§ç»Ÿè®¡ |
| èµ„äº§è°ƒæ•´ | å•é¡µé¢ |
| å­¤å„¿å†»ç»“æ¸…ç† | å•é¡µé¢ |
| ç‰©æ–™è½¬æ¢è§„åˆ™ | å•é¡µé¢ |
| èµ„äº§ç»„åˆ | å•é¡µé¢ |

### ğŸª å¸‚åœºäº¤æ˜“
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| å…‘æ¢å¸‚åœº | å•†å“ç®¡ç†ã€è®¢å•ç®¡ç†ã€ç»Ÿè®¡åˆ†æ |
| C2Cäº¤æ˜“ | C2Cäº¤æ˜“è®¢å•ã€ä¸Šæ¶ç»Ÿè®¡ |

### ğŸ‘¥ ç”¨æˆ·é—¨åº—
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| ç”¨æˆ·ç®¡ç† | ç”¨æˆ·åˆ—è¡¨ã€è§’è‰²ç®¡ç†ã€æƒé™ç®¡ç†ã€è§’è‰²åˆ†é…ã€é«˜çº§çŠ¶æ€ã€é£æ§é…ç½®ã€è§’è‰²å˜æ›´å†å²ã€çŠ¶æ€å˜æ›´å†å²ã€ç”¨æˆ·ç»Ÿè®¡ |
| ç”¨æˆ·å±‚çº§ | å•é¡µé¢ |
| é—¨åº—ç®¡ç† | é—¨åº—åˆ—è¡¨ã€å‘˜å·¥ç®¡ç†ã€é—¨åº—ç»Ÿè®¡ |

### âš™ï¸ ç³»ç»Ÿè®¾ç½®
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| ç³»ç»Ÿé…ç½® | ç³»ç»Ÿé…ç½®ã€å­—å…¸ç®¡ç†ã€åŠŸèƒ½å¼€å…³ã€å®¡è®¡æ—¥å¿—ã€å®šä»·é…ç½® |
| å†…å®¹ç®¡ç† | å…¬å‘Šç®¡ç†ã€è½®æ’­å›¾ç®¡ç†ã€å›¾ç‰‡èµ„æº |
| ä¼šè¯ç®¡ç† | å•é¡µé¢ |
| ç‰©å“æ¨¡æ¿ | å•é¡µé¢ |
| é…ç½®å·¥å…· | å•é¡µé¢ |

### ğŸ“Š æ•°æ®åˆ†æ
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| ç»Ÿè®¡æŠ¥è¡¨ | å•é¡µé¢ |
| è¿è¥åˆ†æ | å•é¡µé¢ |

---

## ğŸ¯ æœŸæœ›èœå•ç»“æ„

### ğŸ  å·¥ä½œå°
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| å·¥ä½œå° | å•é¡µé¢ |

### ğŸ“‹ æ—¥å¸¸è¿è¥
| èœå•é¡¹ | å­åŠŸèƒ½/Tab | å˜åŒ–è¯´æ˜ |
|--------|------------|----------|
| æ¶ˆè´¹è®°å½•å®¡æ ¸ | æ¶ˆè´¹è®°å½•ã€é’»çŸ³è´¦æˆ·ã€å•†æˆ·ç§¯åˆ†ã€å€ºåŠ¡ç®¡ç†ã€æ´»åŠ¨é¢„ç®—ã€å•†æˆ·æ—¥å¿— | ä¸å˜ |
| é£æ§å‘Šè­¦ | å•é¡µé¢ | ä¸å˜ |
| å®¢æœå·¥ä½œå° | å•é¡µé¢ | ä¸å˜ |
| ç‰©å“æ¨¡æ¿ | å•é¡µé¢ | â¬…ï¸ ä»ç³»ç»Ÿè®¾ç½®ç§»å…¥ |
| å†…å®¹ç®¡ç† | å…¬å‘Šç®¡ç†ã€è½®æ’­å›¾ç®¡ç†ã€å›¾ç‰‡èµ„æº | â¬…ï¸ ä»ç³»ç»Ÿè®¾ç½®ç§»å…¥ |
| å­—å…¸ç®¡ç† | å•é¡µé¢ | ğŸ†• ä»ç³»ç»Ÿé…ç½®Tabæå‡ |
| å®šä»·é…ç½® | å•é¡µé¢ | ğŸ†• ä»ç³»ç»Ÿé…ç½®Tabæå‡ |
| åŠŸèƒ½å¼€å…³ | å•é¡µé¢ | ğŸ†• ä»ç³»ç»Ÿé…ç½®Tabæå‡ |

### ğŸ° æŠ½å¥–æ´»åŠ¨
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| æ´»åŠ¨ç®¡ç† | æ´»åŠ¨ç®¡ç†ã€å¥–å“ç®¡ç†ã€é¢„ç®—ç®¡ç†ã€ç­–ç•¥é…ç½®ã€é…é¢ç®¡ç†ã€å®šä»·é…ç½®ã€æŠ½å¥–æŒ‡æ ‡ã€æ ¸é”€ç ç®¡ç† |
| æŠ½å¥–é¢„è®¾ | å•é¡µé¢ |

### ğŸ’ èµ„äº§ä¸­å¿ƒ
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| èµ„äº§ç®¡ç† | ææ–™èµ„äº§ç±»å‹ã€ææ–™è´¦æˆ·ã€ææ–™äº¤æ˜“ã€ç‰©å“å®ä¾‹ã€è™šæ‹Ÿè´¦æˆ·ã€è™šæ‹Ÿäº¤æ˜“ã€èµ„äº§ç»Ÿè®¡ |
| èµ„äº§è°ƒæ•´ | å•é¡µé¢ |
| å­¤å„¿å†»ç»“æ¸…ç† | å•é¡µé¢ |
| ç‰©æ–™è½¬æ¢è§„åˆ™ | å•é¡µé¢ |
| èµ„äº§ç»„åˆ | å•é¡µé¢ |

### ğŸª å¸‚åœºäº¤æ˜“
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| å…‘æ¢å¸‚åœº | å•†å“ç®¡ç†ã€è®¢å•ç®¡ç†ã€ç»Ÿè®¡åˆ†æ |
| C2Cäº¤æ˜“ | C2Cäº¤æ˜“è®¢å•ã€ä¸Šæ¶ç»Ÿè®¡ |

### ğŸ‘¥ ç”¨æˆ·é—¨åº—
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| ç”¨æˆ·ç®¡ç† | ç”¨æˆ·åˆ—è¡¨ã€è§’è‰²ç®¡ç†ã€æƒé™ç®¡ç†ã€è§’è‰²åˆ†é…ã€é«˜çº§çŠ¶æ€ã€é£æ§é…ç½®ã€è§’è‰²å˜æ›´å†å²ã€çŠ¶æ€å˜æ›´å†å²ã€ç”¨æˆ·ç»Ÿè®¡ |
| ç”¨æˆ·å±‚çº§ | å•é¡µé¢ |
| é—¨åº—ç®¡ç† | é—¨åº—åˆ—è¡¨ã€å‘˜å·¥ç®¡ç†ã€é—¨åº—ç»Ÿè®¡ |

### ğŸ“Š æ•°æ®åˆ†æ
| èœå•é¡¹ | å­åŠŸèƒ½/Tab |
|--------|------------|
| ç»Ÿè®¡æŠ¥è¡¨ | å•é¡µé¢ |
| è¿è¥åˆ†æ | å•é¡µé¢ |

### âš™ï¸ ç³»ç»Ÿè®¾ç½®
| èœå•é¡¹ | å­åŠŸèƒ½/Tab | å˜åŒ–è¯´æ˜ |
|--------|------------|----------|
| ç³»ç»Ÿé…ç½® | ç³»ç»Ÿé…ç½®ã€å®¡è®¡æ—¥å¿— | ğŸ”„ ç§»é™¤å­—å…¸ç®¡ç†ã€å®šä»·é…ç½®ã€åŠŸèƒ½å¼€å…³ |
| ä¼šè¯ç®¡ç† | å•é¡µé¢ | ä¸å˜ |
| é…ç½®å·¥å…· | å•é¡µé¢ | ä¸å˜ |

### å˜åŒ–æ±‡æ€»

| å˜åŒ–ç±»å‹ | èœå•é¡¹ | åŸä½ç½® | ç›®æ ‡ä½ç½® |
|---------|--------|--------|----------|
| ç§»åŠ¨ | ç‰©å“æ¨¡æ¿ | ç³»ç»Ÿè®¾ç½® | æ—¥å¸¸è¿è¥ |
| ç§»åŠ¨ | å†…å®¹ç®¡ç† | ç³»ç»Ÿè®¾ç½® | æ—¥å¸¸è¿è¥ |
| æå‡ | å­—å…¸ç®¡ç† | ç³»ç»Ÿé…ç½®Tab | æ—¥å¸¸è¿è¥ï¼ˆç‹¬ç«‹èœå•ï¼‰ |
| æå‡ | å®šä»·é…ç½® | ç³»ç»Ÿé…ç½®Tab | æ—¥å¸¸è¿è¥ï¼ˆç‹¬ç«‹èœå•ï¼‰ |
| æå‡ | åŠŸèƒ½å¼€å…³ | ç³»ç»Ÿé…ç½®Tab | æ—¥å¸¸è¿è¥ï¼ˆç‹¬ç«‹èœå•ï¼‰ |

---

## ğŸš€ æ–¹æ¡ˆBå¢å¼ºç‰ˆæ‰§è¡Œè®¡åˆ’ï¼ˆæœ¬æ¬¡é‡‡ç”¨ï¼‰

### å¢å¼ºç‰ˆç‰¹æ€§

| ç‰¹æ€§ | åŸç‰ˆæ–¹æ¡ˆB | å¢å¼ºç‰ˆæ–¹æ¡ˆB |
|------|----------|------------|
| ä¾§è¾¹æ é«˜äº® | âœ… æ­£ç¡®é«˜äº® | âœ… æ­£ç¡®é«˜äº® |
| é¡µé¢æ ‡é¢˜ | âŒ æ˜¾ç¤º"ç³»ç»Ÿé…ç½®" | âœ… æ˜¾ç¤ºå¯¹åº”åŠŸèƒ½åç§° |
| Tabæ  | âŒ æ˜¾ç¤ºæ‰€æœ‰Tab | âœ… éšè—å…¶ä»–Tabï¼Œåªæ˜¾ç¤ºå½“å‰åŠŸèƒ½ |
| ç”¨æˆ·ä½“éªŒ | âš ï¸ æœ‰å‰²è£‚æ„Ÿ | âœ… åƒç‹¬ç«‹é¡µé¢ä¸€æ · |

### æ‰§è¡Œæ¦‚è§ˆ

| æ­¥éª¤ | æ“ä½œ | æ–‡ä»¶ |
|------|------|------|
| 1 | ç§»åŠ¨ç‰©å“æ¨¡æ¿ã€å†…å®¹ç®¡ç†åˆ°æ—¥å¸¸è¿è¥ | sidebar-nav.js |
| 2 | æ·»åŠ å­—å…¸ç®¡ç†ã€å®šä»·é…ç½®ã€åŠŸèƒ½å¼€å…³ï¼ˆURLå‚æ•°è·³è½¬ï¼‰ | sidebar-nav.js |
| 3 | ä»ç³»ç»Ÿè®¾ç½®ä¸­ç§»é™¤ç‰©å“æ¨¡æ¿ã€å†…å®¹ç®¡ç† | sidebar-nav.js |
| 4 | **å¢å¼ºï¼šæ·»åŠ ç‹¬ç«‹æ¨¡å¼é€»è¾‘ï¼ˆéšè—Tab+ä¿®æ”¹æ ‡é¢˜ï¼‰** | system-settings.js |
| 5 | éªŒè¯åŠŸèƒ½ | æµè§ˆå™¨ |

### è¯¦ç»†ä¿®æ”¹å†…å®¹

---

#### æ–‡ä»¶1ï¼š`admin/src/alpine/components/sidebar-nav.js`

##### ä¿®æ”¹1ï¼šæ—¥å¸¸è¿è¥åˆ†ç»„æ·»åŠ èœå•é¡¹

```javascript
{
  id: 'operations',
  name: 'æ—¥å¸¸è¿è¥',
  icon: 'ğŸ“‹',
  items: [
    { id: 'consumption', name: 'æ¶ˆè´¹è®°å½•å®¡æ ¸', url: '/admin/finance-management.html' },
    { id: 'risk', name: 'é£æ§å‘Šè­¦', url: '/admin/risk-alerts.html', badgeKey: 'pendingAlertCount' },
    { id: 'customer', name: 'å®¢æœå·¥ä½œå°', url: '/admin/customer-service.html' },
    // â¬‡ï¸ æ–°å¢ä»¥ä¸‹èœå•é¡¹
    { id: 'item-tpl', name: 'ç‰©å“æ¨¡æ¿', url: '/admin/item-templates.html' },
    { id: 'content', name: 'å†…å®¹ç®¡ç†', url: '/admin/content-management.html' },
    { id: 'dict', name: 'å­—å…¸ç®¡ç†', url: '/admin/system-settings.html?page=dict-management&standalone=1' },
    { id: 'pricing', name: 'å®šä»·é…ç½®', url: '/admin/system-settings.html?page=pricing-config&standalone=1' },
    { id: 'feature-flags', name: 'åŠŸèƒ½å¼€å…³', url: '/admin/system-settings.html?page=feature-flags&standalone=1' }
  ]
}
```

##### ä¿®æ”¹2ï¼šç³»ç»Ÿè®¾ç½®åˆ†ç»„ç§»é™¤èœå•é¡¹

```javascript
{
  id: 'system',
  name: 'ç³»ç»Ÿè®¾ç½®',
  icon: 'âš™ï¸',
  items: [
    { id: 'settings', name: 'ç³»ç»Ÿé…ç½®', url: '/admin/system-settings.html' },
    // âŒ åˆ é™¤: { id: 'content', name: 'å†…å®¹ç®¡ç†', url: '/admin/content-management.html' },
    { id: 'sessions', name: 'ä¼šè¯ç®¡ç†', url: '/admin/sessions.html' },
    // âŒ åˆ é™¤: { id: 'item-tpl', name: 'ç‰©å“æ¨¡æ¿', url: '/admin/item-templates.html' },
    { id: 'config-tools', name: 'é…ç½®å·¥å…·', url: '/admin/config-tools.html' }
  ]
}
```

---

#### æ–‡ä»¶2ï¼š`admin/src/modules/system/pages/system-settings.js`

##### ä¿®æ”¹3ï¼šæ·»åŠ ç‹¬ç«‹æ¨¡å¼é€»è¾‘

åœ¨ `init()` æ–¹æ³•ä¸­æ·»åŠ ç‹¬ç«‹æ¨¡å¼åˆ¤æ–­ï¼š

```javascript
init() {
  console.log('[SystemSettings] ç»„ä»¶åˆå§‹åŒ–å¼€å§‹')
  logger.debug('ç³»ç»Ÿè®¾ç½®åˆå§‹åŒ– (åˆå¹¶ç‰ˆ v4.1)')

  if (!this.checkAuth()) {
    console.warn('[SystemSettings] è®¤è¯æ£€æŸ¥å¤±è´¥')
    return
  }

  // ä» URL å‚æ•°è¯»å–å½“å‰é¡µé¢
  const urlParams = new URLSearchParams(window.location.search)
  this.currentPage = urlParams.get('page') || 'system-config'
  
  // â¬‡ï¸ æ–°å¢ï¼šç‹¬ç«‹æ¨¡å¼åˆ¤æ–­
  const isStandalone = urlParams.get('standalone') === '1'
  const standalonePages = ['dict-management', 'pricing-config', 'feature-flags']
  this.isStandaloneMode = isStandalone && standalonePages.includes(this.currentPage)
  
  if (this.isStandaloneMode) {
    // ç‹¬ç«‹æ¨¡å¼ï¼šåªæ˜¾ç¤ºå½“å‰Tabï¼Œä¿®æ”¹é¡µé¢æ ‡é¢˜
    this.visibleSubPages = this.subPages.filter(p => p.id === this.currentPage)
    this.pageTitle = this.visibleSubPages[0]?.name || 'ç³»ç»Ÿé…ç½®'
    console.log('[SystemSettings] ç‹¬ç«‹æ¨¡å¼:', this.currentPage, this.pageTitle)
  } else {
    // æ­£å¸¸æ¨¡å¼ï¼šæ˜¾ç¤ºæ‰€æœ‰Tab
    this.visibleSubPages = this.subPages
    this.pageTitle = 'ç³»ç»Ÿé…ç½®'
  }
  
  console.log('[SystemSettings] å½“å‰å­é¡µé¢:', this.currentPage)
  // ... å…¶ä½™åˆå§‹åŒ–ä»£ç 
}
```

##### ä¿®æ”¹4ï¼šæ·»åŠ ç›¸å…³å±æ€§

åœ¨ç»„ä»¶æ•°æ®å®šä¹‰ä¸­æ·»åŠ ï¼š

```javascript
Alpine.data('systemSettings', () => ({
  // ... ç°æœ‰å±æ€§
  
  // â¬‡ï¸ æ–°å¢å±æ€§
  isStandaloneMode: false,
  visibleSubPages: [],
  pageTitle: 'ç³»ç»Ÿé…ç½®',
  
  // ... å…¶ä½™ä»£ç 
}))
```

##### ä¿®æ”¹5ï¼šHTMLæ¨¡æ¿ä¸­ä½¿ç”¨æ–°å±æ€§

é¡µé¢æ ‡é¢˜éƒ¨åˆ†ï¼š
```html
<!-- ä¿®æ”¹å‰ -->
<h1>ç³»ç»Ÿé…ç½®</h1>

<!-- ä¿®æ”¹å -->
<h1 x-text="pageTitle">ç³»ç»Ÿé…ç½®</h1>
```

Tabæ éƒ¨åˆ†ï¼š
```html
<!-- ä¿®æ”¹å‰ -->
<template x-for="page in subPages" :key="page.id">

<!-- ä¿®æ”¹å -->
<template x-for="page in visibleSubPages" :key="page.id">
```

---

### å¢å¼ºç‰ˆæ•ˆæœå¯¹æ¯”

#### ä»"ç³»ç»Ÿè®¾ç½® > ç³»ç»Ÿé…ç½®"è¿›å…¥ï¼ˆæ­£å¸¸æ¨¡å¼ï¼‰

```
é¡µé¢æ ‡é¢˜: ç³»ç»Ÿé…ç½®
Tabæ : [ç³»ç»Ÿé…ç½®] [å­—å…¸ç®¡ç†] [åŠŸèƒ½å¼€å…³] [å®¡è®¡æ—¥å¿—] [å®šä»·é…ç½®]
       â†‘ æ˜¾ç¤ºæ‰€æœ‰Tab
```

#### ä»"æ—¥å¸¸è¿è¥ > å­—å…¸ç®¡ç†"è¿›å…¥ï¼ˆç‹¬ç«‹æ¨¡å¼ï¼‰

```
é¡µé¢æ ‡é¢˜: å­—å…¸ç®¡ç† â† åŠ¨æ€ä¿®æ”¹
Tabæ : [å­—å…¸ç®¡ç†] â† åªæ˜¾ç¤ºä¸€ä¸ªï¼Œå…¶ä»–éšè—
```

---

### å‰ç½®æ¡ä»¶æ£€æŸ¥ âœ… å·²ç¡®è®¤

`system-settings.js` å·²æ”¯æŒä»¥ä¸‹URLå‚æ•°ï¼ˆsubPageså·²é…ç½®ï¼‰ï¼š
- `?page=dict-management` â†’ å­—å…¸ç®¡ç† âœ…
- `?page=pricing-config` â†’ å®šä»·é…ç½® âœ…
- `?page=feature-flags` â†’ åŠŸèƒ½å¼€å…³ âœ…

**éœ€è¦é¢å¤–ä¿®æ”¹ system-settings.js æ·»åŠ ç‹¬ç«‹æ¨¡å¼é€»è¾‘ã€‚**

---

## ğŸ“Š èœå•è°ƒæ•´æ–¹æ¡ˆé€‰æ‹©

### æ–¹æ¡ˆå¯¹æ¯”

| ç»´åº¦ | æ–¹æ¡ˆAï¼ˆç‹¬ç«‹é¡µé¢ï¼‰ | æ–¹æ¡ˆBï¼ˆURLå‚æ•°å¤ç”¨ï¼‰ |
|------|------------------|---------------------|
| **å®ç°æ–¹å¼** | åˆ›å»ºæ–°çš„HTML+JSæ–‡ä»¶ | ä¿®æ”¹sidebar-nav.jsï¼ŒæŒ‡å‘ç°æœ‰é¡µé¢?page=xxx |
| **åˆæ¬¡å·¥ä½œé‡** | å¤§ï¼ˆåˆ›å»ºå¤šä¸ªæ–‡ä»¶ï¼‰ | å°ï¼ˆåªæ”¹é…ç½®ï¼‰ |
| **æŒªä½ç½®æ“ä½œ** | æ”¹sidebar-nav.jsä¸€è¡Œé…ç½® | æ”¹sidebar-nav.js + å¯èƒ½æ”¹ç›®æ ‡é¡µé¢JS |
| **å‡ºé—®é¢˜å½±å“èŒƒå›´** | åªå½±å“è¿™ä¸€ä¸ªé¡µé¢ | å¯èƒ½å½±å“å…±ç”¨JSçš„æ‰€æœ‰èœå•é¡¹ |
| **ä¿®å¤é£é™©** | æ”¹Aä¸å½±å“Bã€Cã€D | æ”¹Aå¯èƒ½å¯¼è‡´Bã€Cã€Då‡ºé—®é¢˜ |
| **ä»£ç è‡ƒè‚¿** | æ¯ä¸ªé¡µé¢ä»£ç é‡å¯æ§ | å…±ç”¨JSè¶Šæ¥è¶Šå¤§ |
| **æŠ€æœ¯å€ºåŠ¡** | **ä½** - ç‹¬ç«‹éš”ç¦» | **é«˜** - è€¦åˆä¼ æŸ“ |
| **é€‚ç”¨åœºæ™¯** | é•¿æœŸç»´æŠ¤ã€é¢‘ç¹è°ƒæ•´ | å¿«é€ŸéªŒè¯ã€åŸå‹æµ‹è¯• |

### æ¨èç­–ç•¥ï¼šå…ˆBåA

```
é˜¶æ®µ1ï¼šæ–¹æ¡ˆBåŸå‹éªŒè¯
â”œâ”€â”€ å¿«é€Ÿä¿®æ”¹é…ç½®ï¼ŒéªŒè¯èœå•å¸ƒå±€æ˜¯å¦åˆç†
â”œâ”€â”€ æ ¹æ®ä½¿ç”¨åé¦ˆè°ƒæ•´ä½ç½®ï¼ˆæ”¹åŠ¨æå°ï¼‰
â””â”€â”€ ç¡®è®¤æœ€ç»ˆèœå•ç»“æ„

é˜¶æ®µ2ï¼šæ–¹æ¡ˆAæ­£å¼å®ç°
â”œâ”€â”€ æŒ‰ç¡®è®¤çš„ç»“æ„åˆ›å»ºç‹¬ç«‹é¡µé¢
â”œâ”€â”€ æ›¿æ¢Bçš„ä¸´æ—¶é…ç½®
â””â”€â”€ è·å¾—é•¿æœŸç»´æŠ¤çš„ç‹¬ç«‹æ€§å’Œå®‰å…¨æ€§
```

**ä¼˜åŠ¿**ï¼šé¿å…"æ–¹æ¡ˆAåšå®Œå‘ç°å¸ƒå±€ä¸å¯¹ï¼Œåˆè¦é‡æ–°åˆ›å»º/åˆ é™¤é¡µé¢"çš„æƒ…å†µã€‚

---

## ğŸ…°ï¸ æ–¹æ¡ˆAï¼šåˆ›å»ºç‹¬ç«‹é¡µé¢ï¼ˆæ­£å¼å®ç°ï¼‰

### é€‚ç”¨åœºæ™¯
- ç¡®è®¤æœ€ç»ˆèœå•ç»“æ„åçš„æ­£å¼å®ç°
- éœ€è¦é•¿æœŸç»´æŠ¤ã€é¢‘ç¹è°ƒæ•´ä½ç½®
- åŠŸèƒ½è¾ƒå¤æ‚ï¼Œéœ€è¦ç‹¬ç«‹çŠ¶æ€ç®¡ç†

### å®æ–½æ­¥éª¤

#### æ­¥éª¤1ï¼šæœç´¢æ‰€æœ‰å¼•ç”¨

**åœ¨æ‰§è¡Œä»»ä½•ä¿®æ”¹å‰ï¼Œå…ˆæœç´¢æ—§æ–‡ä»¶åçš„æ‰€æœ‰å¼•ç”¨ï¼š**

```bash
cd /home/devbox/project/admin
grep -r "æ—§æ–‡ä»¶å" --include="*.html" --include="*.js" --include="*.ejs" --include="*.css"
```

**ç¤ºä¾‹ï¼š**
```bash
grep -r "system-settings" --include="*.html" --include="*.js" --include="*.ejs"
```

**é¢„æœŸæ‰¾åˆ°çš„ä½ç½®ï¼š**
| æ–‡ä»¶ç±»å‹ | å…¸å‹ä½ç½® | è¯´æ˜ |
|----------|----------|------|
| HTML | `admin/xxx.html` | é¡µé¢æ–‡ä»¶æœ¬èº« |
| JS | `admin/src/modules/*/pages/xxx.js` | é¡µé¢é€»è¾‘æ¨¡å— |
| JS | `admin/src/alpine/components/sidebar-nav.js` | ä¾§è¾¹æ èœå•é…ç½® |
| HTML | `admin/workspace.html` | å¯èƒ½çš„ç¡¬ç¼–ç é“¾æ¥ |
| EJS | `admin/src/templates/partials/*.ejs` | æ¨¡æ¿ä¸­çš„é“¾æ¥ |

---

#### æ­¥éª¤2ï¼šé‡å‘½å HTML æ–‡ä»¶

```bash
# è¯­æ³•
mv admin/æ—§æ–‡ä»¶å.html admin/æ–°æ–‡ä»¶å.html

# ç¤ºä¾‹ï¼šsystem-settings.html â†’ daily-config.html
mv admin/system-settings.html admin/daily-config.html
```

---

#### æ­¥éª¤3ï¼šç§»åŠ¨/é‡å‘½å JS æ¨¡å—

```bash
# å¦‚æœç›®æ ‡ç›®å½•ä¸å­˜åœ¨ï¼Œå…ˆåˆ›å»º
mkdir -p admin/src/modules/ç›®æ ‡æ¨¡å—/pages/

# ç§»åŠ¨æ–‡ä»¶
mv admin/src/modules/æ—§æ¨¡å—/pages/æ—§æ–‡ä»¶å.js admin/src/modules/ç›®æ ‡æ¨¡å—/pages/æ–°æ–‡ä»¶å.js

# ç¤ºä¾‹
mv admin/src/modules/system/pages/system-settings.js admin/src/modules/operations/pages/daily-config.js
```

---

#### æ­¥éª¤4ï¼šæ›´æ–° HTML æ–‡ä»¶ä¸­çš„ JS å¼•ç”¨

**æ‰“å¼€é‡å‘½ååçš„ HTML æ–‡ä»¶ï¼Œæ‰¾åˆ° `<script>` æ ‡ç­¾å¹¶æ›´æ–°ï¼š**

```html
<!-- ä¿®æ”¹å‰ -->
<script type="module" src="./src/modules/system/pages/system-settings.js"></script>

<!-- ä¿®æ”¹å -->
<script type="module" src="./src/modules/operations/pages/daily-config.js"></script>
```

---

#### æ­¥éª¤5ï¼šæ›´æ–°ä¾§è¾¹æ èœå•é…ç½®

**æ–‡ä»¶ï¼š`admin/src/alpine/components/sidebar-nav.js`**

**5.1 ä»æ—§åˆ†ç»„ä¸­åˆ é™¤èœå•é¡¹ï¼š**
```javascript
// æ‰¾åˆ°æ—§åˆ†ç»„ï¼Œåˆ é™¤å¯¹åº”çš„èœå•é¡¹
{
  id: 'system',
  name: 'ç³»ç»Ÿè®¾ç½®',
  icon: 'âš™ï¸',
  items: [
    // åˆ é™¤è¿™è¡Œ: { id: 'settings', name: 'ç³»ç»Ÿé…ç½®', url: '/admin/system-settings.html' },
    { id: 'content', name: 'å†…å®¹ç®¡ç†', url: '/admin/content-management.html' },
    // ...å…¶ä»–èœå•é¡¹
  ]
}
```

**5.2 åœ¨æ–°åˆ†ç»„ä¸­æ·»åŠ èœå•é¡¹ï¼š**
```javascript
// æ‰¾åˆ°ç›®æ ‡åˆ†ç»„ï¼Œæ·»åŠ èœå•é¡¹
{
  id: 'operations',
  name: 'æ—¥å¸¸è¿è¥',
  icon: 'ğŸ“‹',
  items: [
    { id: 'consumption', name: 'æ¶ˆè´¹è®°å½•å®¡æ ¸', url: '/admin/finance-management.html' },
    { id: 'risk', name: 'é£æ§å‘Šè­¦', url: '/admin/risk-alerts.html', badgeKey: 'pendingAlertCount' },
    { id: 'customer', name: 'å®¢æœå·¥ä½œå°', url: '/admin/customer-service.html' },
    // æ–°å¢è¿™è¡Œ:
    { id: 'daily-config', name: 'ç³»ç»Ÿé…ç½®', url: '/admin/daily-config.html' }
  ]
}
```

**æ³¨æ„äº‹é¡¹ï¼š**
- `id` å¿…é¡»å”¯ä¸€ï¼Œå»ºè®®ä¸æ–°æ–‡ä»¶åä¸€è‡´
- `url` å¿…é¡»ä»¥ `/admin/` å¼€å¤´

---

#### æ­¥éª¤6ï¼šæ£€æŸ¥å¹¶æ›´æ–°å…¶ä»–å¼•ç”¨

**6.1 æ£€æŸ¥ workspace.html**
```bash
grep "æ—§æ–‡ä»¶å" admin/workspace.html
```

å¦‚æœæ‰¾åˆ°ï¼Œæ›´æ–°å¯¹åº”çš„é“¾æ¥ï¼š
```html
<!-- ä¿®æ”¹å‰ -->
<a href="/admin/system-settings.html">ç³»ç»Ÿé…ç½®</a>

<!-- ä¿®æ”¹å -->
<a href="/admin/daily-config.html">ç³»ç»Ÿé…ç½®</a>
```

**6.2 æ£€æŸ¥æ¨¡æ¿æ–‡ä»¶**
```bash
grep "æ—§æ–‡ä»¶å" admin/src/templates/partials/*.ejs
```

å¦‚æœæ‰¾åˆ°ï¼ŒåŒæ ·æ›´æ–°é“¾æ¥ã€‚

---

#### æ­¥éª¤7ï¼šæ›´æ–° JS æ¨¡å—å†…éƒ¨æ³¨é‡Šï¼ˆå¯é€‰ï¼‰

**æ‰“å¼€ç§»åŠ¨åçš„ JS æ–‡ä»¶ï¼Œæ›´æ–°æ–‡ä»¶å¤´æ³¨é‡Šï¼š**

```javascript
/**
 * ç³»ç»Ÿé…ç½®é¡µé¢æ¨¡å—ï¼ˆæ—¥å¸¸è¿è¥ï¼‰
 * @file admin/src/modules/operations/pages/daily-config.js
 * @description å­—å…¸ç®¡ç†ã€åŠŸèƒ½å¼€å…³ã€å®¡è®¡æ—¥å¿—ã€å®šä»·é…ç½®
 */
```

---

#### æ­¥éª¤8ï¼šé‡æ–°æ„å»º

```bash
cd /home/devbox/project/admin
npm run build
```

**æ£€æŸ¥æ„å»ºè¾“å‡ºï¼š**
- ç¡®è®¤ `dist/æ–°æ–‡ä»¶å.html` å­˜åœ¨
- ç¡®è®¤æ— æŠ¥é”™ä¿¡æ¯

---

## âœ… éªŒè¯æ£€æŸ¥æ¸…å•

æ„å»ºæˆåŠŸåï¼Œé€é¡¹éªŒè¯ï¼š

- [ ] **ä¾§è¾¹æ èœå•** - æ–°ä½ç½®èƒ½çœ‹åˆ°èœå•é¡¹
- [ ] **ç‚¹å‡»èœå•** - èƒ½æ­£å¸¸æ‰“å¼€é¡µé¢ï¼ˆTab æ ‡ç­¾æ˜¾ç¤ºæ­£ç¡®ï¼‰
- [ ] **é¡µé¢åŠŸèƒ½** - é¡µé¢å†…æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] **æµè§ˆå™¨ç›´æ¥è®¿é—®** - è¾“å…¥æ–° URL èƒ½æ­£å¸¸åŠ è½½
- [ ] **æ—§ URL** - è®¿é—®æ—§ URL è¿”å› 404ï¼ˆç¡®è®¤å·²ç§»é™¤ï¼‰
- [ ] **æ§åˆ¶å°æ— æŠ¥é”™** - F12 æ£€æŸ¥æ—  JS é”™è¯¯
- [ ] **æ„å»ºè¾“å‡º** - `dist/` ç›®å½•åŒ…å«æ–°æ–‡ä»¶

---

## ğŸ·ï¸ å‘½åè§„èŒƒå»ºè®®

| èœå•åˆ†ç»„ | HTML æ–‡ä»¶å‘½åæ¨¡å¼ | JS æ¨¡å—ç›®å½• |
|----------|-------------------|-------------|
| æ—¥å¸¸è¿è¥ | `*-management.html`, `*-config.html` | `modules/operations/pages/` |
| æŠ½å¥–æ´»åŠ¨ | `lottery-*.html`, `presets.html` | `modules/lottery/pages/` |
| èµ„äº§ä¸­å¿ƒ | `asset-*.html`, `orphan-*.html` | `modules/assets/pages/` |
| å¸‚åœºäº¤æ˜“ | `*-market.html`, `trade-*.html` | `modules/market/pages/` |
| ç”¨æˆ·é—¨åº— | `user-*.html`, `store-*.html` | `modules/users/pages/` |
| ç³»ç»Ÿè®¾ç½® | `system-*.html`, `config-*.html` | `modules/system/pages/` |
| æ•°æ®åˆ†æ | `statistics.html`, `analytics.html` | `modules/analytics/pages/` |

---

## ğŸ“‹ å®Œæ•´ç¤ºä¾‹ï¼šå°†"ç³»ç»Ÿé…ç½®"ç§»åˆ°"æ—¥å¸¸è¿è¥"

```bash
# 1. æœç´¢æ‰€æœ‰å¼•ç”¨
grep -r "system-settings" admin/ --include="*.html" --include="*.js" --include="*.ejs"

# 2. é‡å‘½å HTML æ–‡ä»¶
mv admin/system-settings.html admin/daily-config.html

# 3. ç§»åŠ¨ JS æ¨¡å—
mkdir -p admin/src/modules/operations/pages/
mv admin/src/modules/system/pages/system-settings.js admin/src/modules/operations/pages/daily-config.js

# 4. æ›´æ–° HTML ä¸­çš„ script å¼•ç”¨ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ï¼‰
# daily-config.html ä¸­ï¼š
# <script type="module" src="./src/modules/operations/pages/daily-config.js"></script>

# 5. æ›´æ–° sidebar-nav.jsï¼ˆæ‰‹åŠ¨ç¼–è¾‘ï¼‰
# - ä» system.items åˆ é™¤ settings èœå•é¡¹
# - åœ¨ operations.items æ·»åŠ  daily-config èœå•é¡¹

# 6. æ›´æ–°å…¶ä»–å¼•ç”¨ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ï¼‰
# - workspace.html
# - workspace-header.ejs

# 7. é‡æ–°æ„å»º
cd admin && npm run build

# 8. éªŒè¯
# - è®¿é—® /admin/workspace.html
# - ç‚¹å‡»"æ—¥å¸¸è¿è¥" â†’ "ç³»ç»Ÿé…ç½®"
# - ç¡®è®¤åŠŸèƒ½æ­£å¸¸
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: é¡µé¢æ‰“å¼€ç©ºç™½
**åŸå› **ï¼šJS æ¨¡å—è·¯å¾„é”™è¯¯
**è§£å†³**ï¼šæ£€æŸ¥ HTML ä¸­ `<script>` æ ‡ç­¾çš„ `src` è·¯å¾„æ˜¯å¦æ­£ç¡®

### Q2: èœå•ç‚¹å‡»æ— ååº”
**åŸå› **ï¼šsidebar-nav.js ä¸­ URL æ ¼å¼é”™è¯¯
**è§£å†³**ï¼šç¡®ä¿ URL ä»¥ `/admin/` å¼€å¤´ï¼Œå¦‚ `/admin/daily-config.html`

### Q3: æ„å»ºåé¡µé¢ä¸æ›´æ–°
**åŸå› **ï¼šæµè§ˆå™¨ç¼“å­˜
**è§£å†³**ï¼šå¼ºåˆ¶åˆ·æ–° `Ctrl+Shift+R` æˆ–æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

### Q4: æ—§ URL ä»å¯è®¿é—®
**åŸå› **ï¼šæµè§ˆå™¨ç¼“å­˜äº†æ—§çš„æ„å»ºæ–‡ä»¶
**è§£å†³**ï¼šæ¸…é™¤ `dist/` ç›®å½•åé‡æ–°æ„å»º

```bash
rm -rf admin/dist
cd admin && npm run build
```

---

## ğŸ“ ç›¸å…³æ–‡ä»¶å¿«é€Ÿå®šä½

| ç”¨é€” | æ–‡ä»¶è·¯å¾„ |
|------|----------|
| ä¾§è¾¹æ èœå•é…ç½® | `admin/src/alpine/components/sidebar-nav.js` |
| å·¥ä½œå°ä¸»é¡µé¢ | `admin/workspace.html` |
| å·¥ä½œå°å¤´éƒ¨æ¨¡æ¿ | `admin/src/templates/partials/workspace-header.ejs` |
| Vite æ„å»ºé…ç½® | `admin/vite.config.js` |
| æ„å»ºè¾“å‡ºç›®å½• | `admin/dist/` |

