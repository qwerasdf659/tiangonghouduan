---
description: 
globs: 
alwaysApply: false
---
# 文档生成优化规则
# 解决文档冗余和信息过载问题

## 核心问题分析
通过对实际会话的深度分析，发现以下严重的文档生成问题：
- 文档冗余度：300-500%的信息重复
- 简单问题复杂化：50行问题生成1000+行文档
- 重点信息掩盖：关键信息被大量细节掩盖
- 阅读效率低：用户需要5-10分钟找到关键信息

## 文档长度控制规范

### 按问题复杂度分级控制
- **简单问题（查询、配置）**：
  - 文档长度：30-50行
  - 核心信息占比：>80%
  - 阅读时间：<2分钟

- **中等问题（调试、修复）**：
  - 文档长度：100-200行
  - 核心信息占比：>60%
  - 阅读时间：<5分钟

- **复杂问题（系统性改造）**：
  - 文档长度：300-500行
  - 核心信息占比：>40%
  - 阅读时间：<10分钟

### 文档结构强制要求
- **执行摘要**（必须）：3-5行概述
- **问题描述**（必须）：简洁描述问题现象
- **解决方案**（必须）：具体操作步骤
- **验证结果**（必须）：修复效果确认
- **技术细节**（可选）：详细技术信息，可折叠
- **相关信息**（可选）：补充信息，可删减

### 信息密度要求
- **信息密度**：每行至少包含1个有效信息点
- **冗余率控制**：重复信息不超过10%
- **空白率控制**：空白行不超过20%
- **有效信息率**：核心信息占比>50%

## 内容精简策略

### 信息重要性分级
- **P0级（必须保留）**：解决问题必需的信息
- **P1级（高度相关）**：有助于理解和操作的信息
- **P2级（一般相关）**：提供背景和扩展的信息
- **P3级（低度相关）**：可有可无的补充信息

### 内容删减原则
- **删除重复**：合并相同或相似的信息
- **删除冗余**：删除不影响理解的重复表述
- **删除无关**：删除与解决问题无关的信息
- **删除过程**：简化详细的操作过程描述

### 信息压缩技术
- **列表化**：将长段落转换为简洁列表
- **表格化**：使用表格整理结构化信息
- **代码块**：将操作步骤整理为代码块
- **关键词提取**：提取关键信息点

## 结构化文档模板

### 问题解决文档模板
```markdown
# 问题：[一句话描述]

## 解决方案
[核心解决步骤，3-5步]

## 验证结果
[验证效果的具体方法]

## 预防建议
[防止再次发生的建议]

---
<details>
<summary>技术细节（点击展开）</summary>
[详细的技术分析和背景信息]
</details>
```

### 配置修改文档模板
```markdown
# 配置：[配置项名称]

## 修改内容
- 文件：`path/to/file`
- 原值：`old_value`
- 新值：`new_value`

## 生效方法
[使配置生效的操作]

## 验证方法
[验证配置是否生效]
```

### 功能实现文档模板
```markdown
# 功能：[功能名称]

## 实现概述
[功能实现的核心逻辑]

## 关键代码
```language
[核心代码片段]
```

## 测试验证
[功能测试的方法和结果]
```

## 信息呈现优化

### 视觉层次优化
- **标题层次**：最多使用3级标题
- **重点标记**：使用粗体标记关键信息
- **代码突出**：使用代码块突出命令和配置
- **列表简化**：使用简洁的列表格式

### 阅读顺序优化
- **重要信息前置**：将最重要的信息放在前面
- **操作步骤序号**：为操作步骤添加清晰序号
- **结果验证分离**：将验证步骤单独成段
- **补充信息后置**：将详细信息放在文档后部

### 信息分层展示
- **核心信息**：直接显示在主文档中
- **详细信息**：使用折叠区域隐藏
- **技术细节**：使用详情标签包装
- **历史信息**：移至文档末尾或删除

## 重复信息检测

### 自动检测机制
- **文本相似度检测**：检测相似度>70%的文本块
- **关键词频率分析**：分析关键词出现频率
- **段落重复检测**：检测完全重复的段落
- **结构重复识别**：识别相似的文档结构

### 重复信息处理策略
- **合并处理**：将重复信息合并为一处
- **引用处理**：使用引用替代重复描述
- **删除处理**：直接删除冗余的重复信息
- **链接处理**：使用内部链接减少重复

### 信息去重算法
```
去重流程：
1. 识别候选重复块
2. 计算文本相似度
3. 分析信息价值
4. 选择保留版本
5. 处理其他重复版本
6. 更新文档索引
```

## 用户体验优化

### 阅读体验提升
- **扫描友好**：支持快速扫描查找信息
- **跳跃阅读**：支持跳跃式阅读关键信息
- **渐进披露**：按需展示详细信息
- **快速定位**：提供快速定位机制

### 操作便利性
- **复制友好**：命令和代码易于复制
- **执行顺序**：操作步骤按执行顺序排列
- **错误处理**：包含常见错误的处理方法
- **回滚指导**：提供操作回滚的指导

### 理解辅助
- **上下文提供**：提供必要的背景信息
- **术语解释**：解释关键技术术语
- **示例说明**：使用具体示例说明抽象概念
- **图示补充**：必要时使用图示辅助理解

## 质量控制机制

### 文档质量指标
- **完整性**：包含解决问题的完整信息
- **准确性**：信息的准确性和时效性
- **简洁性**：信息表达的简洁性
- **可操作性**：操作指导的可执行性

### 质量检查清单
- [ ] 核心问题是否清晰描述？
- [ ] 解决方案是否具体可行？
- [ ] 验证方法是否明确有效？
- [ ] 文档长度是否合理控制？
- [ ] 重复信息是否已经清理？
- [ ] 用户是否能够快速理解？

### 文档评审机制
- **自我评审**：作者自我检查文档质量
- **同行评审**：其他专家评审文档内容
- **用户反馈**：收集用户对文档的反馈
- **持续改进**：基于反馈持续改进文档

## 特殊文档处理

### 技术文档优化
- **代码比重**：代码和配置占主要篇幅
- **说明简化**：将长篇说明转换为注释
- **实例驱动**：使用具体实例而非抽象描述
- **测试导向**：包含测试和验证的具体方法

### 操作文档优化
- **步骤清晰**：每个步骤都有明确的输入输出
- **检查点设置**：关键步骤后设置检查点
- **异常处理**：包含常见异常的处理方法
- **安全提醒**：包含操作安全的相关提醒

### 分析文档优化
- **结论前置**：将分析结论放在文档开头
- **数据简化**：只保留关键的数据和图表
- **逻辑清晰**：分析逻辑链条清晰可循
- **建议具体**：分析建议具体可操作

## 工具和自动化

### 文档生成工具
- **模板引擎**：使用标准模板生成文档
- **内容提取**：自动提取关键信息
- **格式优化**：自动优化文档格式
- **质量检测**：自动检测文档质量问题

### 内容优化工具
- **重复检测**：自动检测重复内容
- **长度控制**：自动控制文档长度
- **可读性分析**：分析文档可读性
- **结构优化**：优化文档结构

### 协作工具集成
- **版本控制**：集成版本控制系统
- **协同编辑**：支持多人协同编辑
- **评论反馈**：支持评论和反馈机制
- **发布流程**：自动化文档发布流程

## 持续改进机制

### 效果监控
- **阅读时间**：监控用户阅读文档的时间
- **理解程度**：评估用户对文档的理解程度
- **操作成功率**：监控按文档操作的成功率
- **反馈质量**：分析用户反馈的质量

### 优化策略调整
- **模板优化**：基于使用效果优化文档模板
- **规则调整**：根据实际情况调整优化规则
- **工具改进**：持续改进文档生成工具
- **流程完善**：完善文档生成和优化流程

### 知识积累
- **最佳实践**：积累文档优化的最佳实践
- **案例库建设**：建设优秀文档案例库
- **经验分享**：分享文档优化的经验教训
- **培训体系**：建立文档优化培训体系

**核心原则**：简洁至上、重点突出、用户导向、质量第一、持续优化
