# 一次性数据迁移脚本归档

**归档时间**: 2025年11月13日 北京时间  
**归档原因**: 这些是一次性数据迁移/修复脚本，功能已完成，保留仅供历史参考

---

## 📋 已归档脚本清单

### 1. migrate_inventory_fields.js
**功能**: 统一UserInventory字段命名  
**执行时间**: 2025年11月11日前  
**状态**: ✅ 已完成  
**说明**: 将item_name/item_type字段数据迁移到name/type字段，消除兼容性代码

**迁移内容**:
- 将 `item_name` → `name`
- 将 `item_type` → `type`
- 清空旧字段数据

---

### 2. repair-consumption-consistency.js
**功能**: 修复消费记录数据一致性  
**执行时间**: 2025年11月11日前  
**状态**: ✅ 已完成  
**说明**: 修复历史遗留的数据不一致问题（在事务保护实施之前创建的记录）

**修复内容**:
- 为孤儿消费记录补充pending积分交易记录
- 为缺失审核记录的消费补充pending审核记录
- 确保数据完整性，使审核功能正常工作

---

## ⚠️ 重要提示

1. **禁止再次执行**: 这些脚本已完成历史数据迁移，不应再次执行
2. **仅供参考**: 保留这些脚本仅供问题追溯和历史记录
3. **数据已迁移**: 相关数据已在生产环境完成迁移
4. **代码已移除**: 相关兼容性代码已从项目中移除

---

## 📚 相关文档

- 主目录: `/scripts/`
- README: `/scripts/README.md`
- 数据库工具: `/scripts/database/`
- 修复记录: `/scripts/fix-points/REPAIR_RECORD.md`

---

**维护说明**: 如有类似的一次性迁移脚本需求，请按照相同模式归档

