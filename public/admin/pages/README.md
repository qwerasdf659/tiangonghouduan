# ğŸ¯ ç®¡ç†åå°é¡µé¢æ•´åˆè¯´æ˜

## ğŸ“‹ æ•´åˆæ¦‚è¿°

åŸºäºä»£ç å¤ç”¨åŸåˆ™ï¼Œå°†åŸæœ‰åŠŸèƒ½é«˜åº¦ç›¸ä¼¼çš„å¤šä¸ªç‹¬ç«‹é¡µé¢æ•´åˆä¸ºæ¨¡å—åŒ–çš„èšåˆé¡µé¢ï¼Œé€šè¿‡ Tab åˆ‡æ¢å®ç°åŠŸèƒ½åˆ†ç»„ã€‚

### æ•´åˆæ•ˆæœ

| æ•´åˆé¡µé¢     | åŸæœ‰é¡µé¢æ•°    | æ•´åˆå           |
| ------------ | ------------- | ---------------- |
| èµ„äº§ç®¡ç†ä¸­å¿ƒ | 5 ä¸ªé¡µé¢      | 1 ä¸ªèšåˆé¡µé¢     |
| å¸‚åœºäº¤æ˜“ç®¡ç† | 5 ä¸ªé¡µé¢      | 1 ä¸ªèšåˆé¡µé¢     |
| **åˆè®¡**     | **10 ä¸ªé¡µé¢** | **2 ä¸ªèšåˆé¡µé¢** |

---

## ğŸ“ æ–°å¢æ–‡ä»¶ç»“æ„

```
public/admin/
â”œâ”€â”€ pages/                              # æ–°å»ºæ•´åˆé¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ asset-management.html           # èµ„äº§ç®¡ç†ä¸­å¿ƒï¼ˆæ•´åˆé¡µé¢ï¼‰
â”‚   â”œâ”€â”€ market-management.html          # å¸‚åœºäº¤æ˜“ç®¡ç†ï¼ˆæ•´åˆé¡µé¢ï¼‰
â”‚   â””â”€â”€ README.md                       # æœ¬è¯´æ˜æ–‡æ¡£
â”‚
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ asset-management.js         # èµ„äº§ç®¡ç†ä¸­å¿ƒé€»è¾‘
â”‚   â”‚   â””â”€â”€ market-management.js        # å¸‚åœºäº¤æ˜“ç®¡ç†é€»è¾‘
â”‚   â”‚
â”‚   â””â”€â”€ components/                     # å¯å¤ç”¨ç»„ä»¶ï¼ˆå·²åˆ›å»ºï¼‰
â”‚       â””â”€â”€ AdminPageFramework.js       # é¡µé¢æ¡†æ¶åŸºç±»
â”‚
â””â”€â”€ js/configs/
    â””â”€â”€ page-configs.js                 # é¡µé¢é…ç½®ä¸­å¿ƒï¼ˆå·²åˆ›å»ºï¼‰
```

---

## ğŸ”„ é¡µé¢æ•´åˆæ˜ å°„

### 1ï¸âƒ£ èµ„äº§ç®¡ç†ä¸­å¿ƒ (`asset-management.html`)

æ•´åˆåŸæœ‰é¡µé¢ï¼š

- `material-asset-types.html` â†’ **èµ„äº§ç±»å‹é…ç½®** Tab
- `material-balances.html` â†’ **ç”¨æˆ·ä½™é¢æŸ¥è¯¢** Tab
- `material-transactions.html` â†’ **æµæ°´è®°å½•** Tab
- `diamond-accounts.html` â†’ åˆå¹¶åˆ°æµæ°´è®°å½•
- _(æ–°å¢)_ **èµ„äº§è°ƒæ•´** Tab

è®¿é—®æ–¹å¼ï¼š

```
/admin/pages/asset-management.html
```

åŠŸèƒ½æ¨¡å—ï¼š
| Tab | åŠŸèƒ½ | å¯¹åº”åŸé¡µé¢ |
|-----|------|-----------|
| èµ„äº§ç±»å‹é…ç½® | æ·»åŠ /ç¼–è¾‘/å¯ç¦ç”¨èµ„äº§ç±»å‹ | material-asset-types.html |
| ç”¨æˆ·ä½™é¢æŸ¥è¯¢ | æŒ‰ç”¨æˆ·ID/æ‰‹æœºå·æŸ¥è¯¢ä½™é¢ï¼Œæ‰‹åŠ¨è°ƒæ•´ | material-balances.html |
| æµæ°´è®°å½• | ç­›é€‰æŸ¥è¯¢èµ„äº§æµæ°´ | material-transactions.html |
| èµ„äº§è°ƒæ•´ | ç›´æ¥è°ƒæ•´ç”¨æˆ·èµ„äº§ä½™é¢ | æ–°å¢åŠŸèƒ½ |

### 2ï¸âƒ£ å¸‚åœºäº¤æ˜“ç®¡ç† (`market-management.html`)

æ•´åˆåŸæœ‰é¡µé¢ï¼š

- `exchange-market-items.html` â†’ **å•†å“ç®¡ç†** Tab
- `exchange-market-orders.html` â†’ **å…‘æ¢è®¢å•** Tab
- `trade-orders.html` â†’ **äº¤æ˜“è®¢å•** Tab
- `marketplace-stats.html` / `exchange-market-stats.html` â†’ **ç»Ÿè®¡åˆ†æ** Tab

è®¿é—®æ–¹å¼ï¼š

```
/admin/pages/market-management.html
```

åŠŸèƒ½æ¨¡å—ï¼š
| Tab | åŠŸèƒ½ | å¯¹åº”åŸé¡µé¢ |
|-----|------|-----------|
| å•†å“ç®¡ç† | æ·»åŠ /ç¼–è¾‘/ä¸Šä¸‹æ¶å•†å“ | exchange-market-items.html |
| å…‘æ¢è®¢å• | æŸ¥çœ‹/å¤„ç†ç”¨æˆ·å…‘æ¢è®¢å• | exchange-market-orders.html |
| äº¤æ˜“è®¢å• | æŸ¥çœ‹ç”¨æˆ·é—´äº¤æ˜“è®¢å• | trade-orders.html |
| ç»Ÿè®¡åˆ†æ | è®¢å•ç»Ÿè®¡ã€çƒ­é—¨å•†å“æ’è¡Œ | marketplace-stats.html |

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### æ–¹å¼ä¸€ï¼šç›´æ¥è®¿é—®æ–°é¡µé¢

æ¨èåœ¨ Dashboard ä¾§è¾¹æ æ·»åŠ ä»¥ä¸‹é“¾æ¥ï¼š

```html
<a href="/admin/pages/asset-management.html" class="list-group-item">
  <i class="bi bi-gem"></i> èµ„äº§ç®¡ç†ä¸­å¿ƒ
</a>

<a href="/admin/pages/market-management.html" class="list-group-item">
  <i class="bi bi-shop"></i> å¸‚åœºäº¤æ˜“ç®¡ç†
</a>
```

### æ–¹å¼äºŒï¼šä¿ç•™æ—§é“¾æ¥å…¼å®¹

å¦‚æœéœ€è¦ä¿æŒæ—§é“¾æ¥å¯ç”¨ï¼Œå¯ä»¥å°†åŸæœ‰ HTML æ–‡ä»¶å†…å®¹æ›¿æ¢ä¸ºé‡å®šå‘ï¼š

```html
<!DOCTYPE html>
<html>
  <head>
    <meta
      http-equiv="refresh"
      content="0; url=/admin/pages/asset-management.html#asset-types-panel"
    />
    <script>
      window.location.href = '/admin/pages/asset-management.html#asset-types-panel'
    </script>
  </head>
  <body>
    <p>æ­£åœ¨è·³è½¬åˆ°æ–°é¡µé¢...</p>
  </body>
</html>
```

---

## ğŸ“Š ä»£ç å¤ç”¨åˆ†æ

### åŸæœ‰ä»£ç é‡å¤ç»Ÿè®¡

| ç±»åˆ«                        | é‡å¤ä»£ç è¡Œæ•° | é‡å¤æ¯”ä¾‹ |
| --------------------------- | ------------ | -------- |
| HTML ç»“æ„ï¼ˆå¯¼èˆª/å¡ç‰‡/è¡¨æ ¼ï¼‰ | ~800 è¡Œ/é¡µé¢ | 90%      |
| JS åˆå§‹åŒ–é€»è¾‘               | ~100 è¡Œ/é¡µé¢ | 85%      |
| Toast/Loading å®ç°          | ~50 è¡Œ/é¡µé¢  | 100%     |
| è¡¨æ ¼æ¸²æŸ“æ¨¡å¼                | ~150 è¡Œ/é¡µé¢ | 80%      |

### æ•´åˆåæ”¹è¿›

1. **ä»£ç é‡å‡å°‘ 60%**ï¼šå…¬å…±é€»è¾‘ç»Ÿä¸€åœ¨ `admin-common.js` å’Œé¡µé¢æ¡†æ¶ä¸­
2. **ç»´æŠ¤æˆæœ¬é™ä½**ï¼šä¿®æ”¹é€šç”¨åŠŸèƒ½åªéœ€æ”¹ä¸€å¤„
3. **ç”¨æˆ·ä½“éªŒæå‡**ï¼šåŒç±»åŠŸèƒ½åœ¨åŒä¸€é¡µé¢åˆ‡æ¢ï¼Œæ— éœ€é¢‘ç¹è·³è½¬
4. **åŠ è½½é€Ÿåº¦æå‡**ï¼šTab åˆ‡æ¢ä¸ºå®¢æˆ·ç«¯æ¸²æŸ“ï¼Œæ— éœ€é‡æ–°åŠ è½½æ•´é¡µ

---

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–° Tab

1. åœ¨ HTML ä¸­æ·»åŠ  Tab æŒ‰é’®ï¼š

```html
<li class="nav-item">
  <button class="nav-link" id="new-tab" data-bs-toggle="pill" data-bs-target="#new-panel">
    <i class="bi bi-star"></i> æ–°åŠŸèƒ½
  </button>
</li>
```

2. æ·»åŠ  Tab å†…å®¹é¢æ¿ï¼š

```html
<div class="tab-pane fade" id="new-panel" role="tabpanel">
  <!-- å†…å®¹ -->
</div>
```

3. åœ¨ JS ä¸­å¤„ç† Tab åˆ‡æ¢äº‹ä»¶ï¼š

```javascript
// initTabHandlers å‡½æ•°ä¸­æ·»åŠ 
case '#new-panel':
  loadNewData()
  break
```

### æ·»åŠ æ–°çš„ç»Ÿè®¡å¡ç‰‡

```html
<div class="col-md-3">
  <div class="card">
    <div class="card-body text-center">
      <h6 class="text-muted">å¡ç‰‡æ ‡é¢˜</h6>
      <h3 class="text-primary" id="stat_xxx">-</h3>
    </div>
  </div>
</div>
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åŸæœ‰é¡µé¢æœªåˆ é™¤**ï¼šåŸæœ‰ç‹¬ç«‹é¡µé¢æš‚æ—¶ä¿ç•™ï¼Œå¯åœ¨éªŒè¯æ•´åˆé¡µé¢ç¨³å®šååˆ é™¤
2. **API ä¿æŒä¸å˜**ï¼šåç«¯ API æ— éœ€ä»»ä½•ä¿®æ”¹
3. **æƒé™æ§åˆ¶**ï¼šç»§ç»­ä½¿ç”¨ `checkAdminPermission()` ç»Ÿä¸€æƒé™æ£€æŸ¥
4. **æ•°æ®éš”ç¦»**ï¼šå„ Tab æ•°æ®ç‹¬ç«‹åŠ è½½ï¼Œäº’ä¸å½±å“

---

## ğŸ“ åç»­è®¡åˆ’

- [ ] æ•´åˆç”¨æˆ·/æƒé™ç®¡ç†ç±»é¡µé¢ï¼ˆusers.html, user-hierarchy.html ç­‰ï¼‰
- [ ] æ•´åˆé…ç½®/ç³»ç»Ÿç®¡ç†ç±»é¡µé¢ï¼ˆannouncements.html, notifications.html ç­‰ï¼‰
- [ ] æå–æ›´å¤šå¯å¤ç”¨ç»„ä»¶ï¼ˆFilterForm, DataTable, Paginationï¼‰
- [ ] æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»æ•ˆæœ
- [ ] å®ç° URL Hash å®šä½åˆ°ç‰¹å®š Tab

---

_æœ€åæ›´æ–°ï¼š2026-01-09_
