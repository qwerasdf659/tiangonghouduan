# ğŸ¯ Webç®¡ç†å¹³å°å‰ç«¯åŠŸèƒ½è¡¥é½æ–¹æ¡ˆ

> **æ ¸å¿ƒåŸåˆ™**ï¼šä»¥åç«¯æ•°æ®åº“æä¾›çš„èƒ½åŠ›ä¸ºæƒå¨æ ¸å¿ƒï¼Œå‰ç«¯å¿…é¡»å®Œå…¨è¦†ç›–æ‰€æœ‰æ•°æ®åº“èƒ½åŠ›
> 
> **ç”Ÿæˆæ—¶é—´**ï¼š2026-01-21
> 
> **æ•°æ®æ¥æº**ï¼šçœŸå®æ•°æ®åº“åˆ†æï¼ˆ65å¼ è¡¨ï¼Œè¿æ¥çœŸå®MySQLæ•°æ®åº“ï¼‰

---

## ğŸ“Š æ•°æ®åº“èƒ½åŠ›ç›˜ç‚¹ï¼ˆçœŸå®æ•°æ®ï¼‰

### æ•°æ®åº“ç»Ÿè®¡æ¦‚è§ˆ

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| æ€»è¡¨æ•° | 65å¼  |
| ç”¨æˆ·æ•° | 28ï¼ˆæ´»è·ƒ28ï¼‰ |
| æŠ½å¥–æ´»åŠ¨ | 1ä¸ªè¿›è¡Œä¸­ |
| å¥–å“é…ç½® | 16ä¸ª |
| ç‰©å“å®ä¾‹ | 1,777ä¸ªï¼ˆå¯ç”¨423ï¼‰ |
| å¸‚åœºæŒ‚ç‰Œ | 38ä¸ª |
| ç³»ç»Ÿé…ç½® | 39é¡¹ |
| å®¡è®¡æ—¥å¿— | 3,555æ¡ |
| é—¨åº— | 4ä¸ª |

---

## ğŸ”´ å·®è·åˆ†æï¼šæ•°æ®åº“èƒ½åŠ› vs å‰ç«¯é¡µé¢

### ä¸€ã€å·²æœ‰å‰ç«¯é¡µé¢ï¼ˆ37ä¸ªHTMLé¡µé¢ï¼‰

```
/public/admin/
â”œâ”€â”€ dashboard.html             âœ… ä»ªè¡¨ç›˜
â”œâ”€â”€ login.html                 âœ… ç™»å½•
â”œâ”€â”€ users.html                 âœ… ç”¨æˆ·åˆ—è¡¨
â”œâ”€â”€ user-management.html       âœ… ç”¨æˆ·ç®¡ç†
â”œâ”€â”€ user-hierarchy.html        âœ… ç”¨æˆ·å±‚çº§
â”œâ”€â”€ prizes.html                âœ… å¥–å“ç®¡ç†
â”œâ”€â”€ presets.html               âœ… é¢„è®¾ç®¡ç†
â”œâ”€â”€ lottery-quota.html         âœ… æŠ½å¥–é…é¢
â”œâ”€â”€ campaign-budget.html       âœ… æ´»åŠ¨é¢„ç®—
â”œâ”€â”€ settings.html              âœ… ç³»ç»Ÿè®¾ç½®
â”œâ”€â”€ system-config.html         âœ… ç³»ç»Ÿé…ç½®
â”œâ”€â”€ config-tools.html          âœ… é…ç½®å·¥å…·
â”œâ”€â”€ announcements.html         âœ… ç³»ç»Ÿå…¬å‘Š
â”œâ”€â”€ notifications.html         âœ… é€šçŸ¥ç®¡ç†
â”œâ”€â”€ popup-banners.html         âœ… å¼¹çª—Banner
â”œâ”€â”€ feedbacks.html             âœ… ç”¨æˆ·åé¦ˆ
â”œâ”€â”€ customer-service.html      âœ… å®¢æœä¼šè¯
â”œâ”€â”€ consumption.html           âœ… æ¶ˆè´¹è®°å½•
â”œâ”€â”€ merchant-points.html       âœ… å•†å®¶ç§¯åˆ†
â”œâ”€â”€ audit-logs.html            âœ… å®¡è®¡æ—¥å¿—
â”œâ”€â”€ analytics.html             âœ… æ•°æ®åˆ†æ
â”œâ”€â”€ statistics.html            âœ… ç»Ÿè®¡æŠ¥è¡¨
â”œâ”€â”€ charts.html                âœ… å›¾è¡¨å±•ç¤º
â”œâ”€â”€ image-resources.html       âœ… å›¾ç‰‡èµ„æº
â”œâ”€â”€ asset-adjustment.html      âœ… èµ„äº§è°ƒæ•´
â”œâ”€â”€ asset-management.html      âœ… èµ„äº§ç®¡ç†
â”œâ”€â”€ assets-portfolio.html      âœ… èµ„äº§ç»„åˆ
â”œâ”€â”€ diamond-accounts.html      âœ… é’»çŸ³è´¦æˆ·
â”œâ”€â”€ material-asset-types.html  âœ… ææ–™ç±»å‹
â”œâ”€â”€ material-balances.html     âœ… ææ–™ä½™é¢
â”œâ”€â”€ material-transactions.html âœ… ææ–™æµæ°´
â”œâ”€â”€ material-conversion-rules.html âœ… è½¬æ¢è§„åˆ™
â”œâ”€â”€ exchange-market-items.html âœ… å…‘æ¢å•†å“
â”œâ”€â”€ exchange-market-orders.html âœ… å…‘æ¢è®¢å•
â”œâ”€â”€ exchange-market-stats.html âœ… å…‘æ¢ç»Ÿè®¡
â”œâ”€â”€ marketplace-stats.html     âœ… å¸‚åœºç»Ÿè®¡
â”œâ”€â”€ market-management.html     âœ… å¸‚åœºç®¡ç†
â”œâ”€â”€ trade-orders.html          âœ… äº¤æ˜“è®¢å•
â”œâ”€â”€ orphan-frozen.html         âœ… å­¤å„¿å†»ç»“
â”œâ”€â”€ activity-conditions.html   âœ… æ´»åŠ¨æ¡ä»¶
```

### äºŒã€æ•°æ®åº“èƒ½åŠ› vs å‰ç«¯é¡µé¢å¯¹ç…§è¡¨

#### ğŸ”´ ç¼ºå¤±çš„å‰ç«¯é¡µé¢ï¼ˆéœ€æ–°å¢ï¼‰

| æ•°æ®åº“èƒ½åŠ› | è¡¨å | åç«¯API | å‰ç«¯é¡µé¢çŠ¶æ€ | å»ºè®®é¡µé¢ |
|------------|------|---------|--------------|----------|
| **æŠ½å¥–æ´»åŠ¨ç®¡ç†** | lottery_campaigns (41å­—æ®µ) | âœ… /api/v4/lottery/campaigns | âŒ **æ— ç‹¬ç«‹é¡µé¢** | campaigns.html |
| **æŠ½å¥–æ¡£ä½è§„åˆ™** | lottery_tier_rules | âœ… /api/v4/console/lottery-management | âŒ **æ— ç‹¬ç«‹é¡µé¢** | lottery-tier-rules.html |
| **æŠ½å¥–å†³ç­–å¿«ç…§** | lottery_draw_decisions | âœ… /api/v4/console/analytics | âŒ **æ— ç‹¬ç«‹é¡µé¢** | lottery-decisions.html |
| **æŠ½å¥–ç­–ç•¥é…ç½®** | lottery_strategy_config | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | lottery-strategy.html |
| **BxPxçŸ©é˜µé…ç½®** | lottery_tier_matrix_config | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | tier-matrix.html |
| **ç”¨æˆ·ä½“éªŒçŠ¶æ€** | lottery_user_experience_state | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°ç”¨æˆ·è¯¦æƒ… |
| **ç”¨æˆ·å…¨å±€çŠ¶æ€** | lottery_user_global_state | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°ç”¨æˆ·è¯¦æƒ… |
| **å°æ—¶ç›‘æ§æŒ‡æ ‡** | lottery_hourly_metrics | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | lottery-metrics.html |
| **é¢„è®¾åº“å­˜æ¬ è´¦** | preset_inventory_debt | âœ… /api/v4/console/debt-management | âŒ **æ— ç‹¬ç«‹é¡µé¢** | debt-management.html |
| **é¢„è®¾é¢„ç®—æ¬ è´¦** | preset_budget_debt | âœ… /api/v4/console/debt-management | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°debt-management |
| **æ¬ è´¦ä¸Šé™é…ç½®** | preset_debt_limits | âœ… /api/v4/console/debt-management | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°debt-management |
| **ç‰©å“æ¨¡æ¿** | item_templates (16æ¨¡æ¿) | âœ… /api/v4/console/assets | âŒ **æ— ç‹¬ç«‹é¡µé¢** | item-templates.html |
| **ç‰©å“å®ä¾‹äº‹ä»¶** | item_instance_events | âœ… /api/v4/console/assets/item-events | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°èµ„äº§ç®¡ç† |
| **ç±»ç›®å­—å…¸** | category_defs | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | dict-management.html |
| **ç¨€æœ‰åº¦å­—å…¸** | rarity_defs | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°dict-management |
| **èµ„äº§ç»„å­—å…¸** | asset_group_defs | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°dict-management |
| **è§’è‰²ç®¡ç†** | roles (10è§’è‰²) | âœ… /api/v4/console/user-management/roles | âŒ **æ— ç‹¬ç«‹é¡µé¢** | roles.html |
| **ç”¨æˆ·è§’è‰²å…³è”** | user_roles | âœ… /api/v4/console/user-management | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°ç”¨æˆ·ç®¡ç† |
| **é—¨åº—ç®¡ç†** | stores (4é—¨åº—) | âœ… /api/v4/console/stores | âŒ **æ— ç‹¬ç«‹é¡µé¢** | stores.html |
| **é—¨åº—å‘˜å·¥** | store_staff | âœ… /api/v4/console/staff | âŒ **æ— ç‹¬ç«‹é¡µé¢** | store-staff.html |
| **è¡Œæ”¿åŒºåˆ’** | administrative_regions (44703æ¡) | âœ… /api/v4/console/regions | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°é—¨åº—ç®¡ç† |
| **é£æ§å‘Šè­¦** | risk_alerts | âœ… /api/v4/console/risk-alerts | âŒ **æ— ç‹¬ç«‹é¡µé¢** | risk-alerts.html |
| **å•†å®¶æ“ä½œæ—¥å¿—** | merchant_operation_logs | âœ… /api/v4/console/audit-logs | âŒ **åˆ†ç¦»ä¸å®Œæ•´** | merchant-audit-logs.html |
| **ç”¨æˆ·çŠ¶æ€å˜æ›´è®°å½•** | user_status_change_records | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°å®¡è®¡æ—¥å¿— |
| **ç”¨æˆ·è§’è‰²å˜æ›´è®°å½•** | user_role_change_records | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°å®¡è®¡æ—¥å¿— |
| **æŠ½å¥–æ¸…é™¤è®¾ç½®è®°å½•** | lottery_clear_setting_records | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°å®¡è®¡æ—¥å¿— |
| **ç”¨æˆ·é£æ§é…ç½®** | user_risk_profiles | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°ç”¨æˆ·è¯¦æƒ… |
| **ç”¨æˆ·é«˜çº§çŠ¶æ€** | user_premium_status | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | åˆå¹¶åˆ°ç”¨æˆ·è¯¦æƒ… |
| **è®¤è¯ä¼šè¯** | authentication_sessions | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | sessions.html |
| **APIå¹‚ç­‰è¯·æ±‚** | api_idempotency_requests | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | ç³»ç»Ÿç›‘æ§ |
| **æ´»åŠ¨ç”¨æˆ·é…é¢** | lottery_campaign_user_quota | âœ… /api/v4/console/lottery-quota | âš ï¸ **éƒ¨åˆ†è¦†ç›–** | å¢å¼ºlottery-quota |
| **é…é¢å‘æ”¾è®°å½•** | lottery_campaign_quota_grants | âœ… /api/v4/console/lottery-quota | âš ï¸ **éƒ¨åˆ†è¦†ç›–** | å¢å¼ºlottery-quota |
| **æ´»åŠ¨å®šä»·é…ç½®** | lottery_campaign_pricing_config | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | pricing-config.html |
| **æ ¸é”€è®¢å•** | redemption_orders (832æ¡) | âœ… /api/v4/backpack | âŒ **æ— ç‹¬ç«‹é¡µé¢** | redemption-orders.html |
| **WebSocketæ—¥å¿—** | websocket_startup_logs | âœ… éœ€ç¡®è®¤ | âŒ **æ— ç‹¬ç«‹é¡µé¢** | ç³»ç»Ÿç›‘æ§ |

---

## ğŸ¯ åŠŸèƒ½è¡¥é½æ–¹æ¡ˆ

### ç¬¬ä¸€ä¼˜å…ˆçº§ï¼šP0 æ ¸å¿ƒä¸šåŠ¡ç¼ºå¤±ï¼ˆå¿…é¡»è¡¥é½ï¼‰

#### 1. æŠ½å¥–æ´»åŠ¨ç®¡ç†é¡µé¢ `campaigns.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- lottery_campaignsï¼š41å­—æ®µï¼Œå« status/budget_mode/budget_source/user_budget/pool_budget ç­‰
- å½“å‰æ•°æ®ï¼š1ä¸ªæ´»åŠ¨ï¼Œ16ä¸ªå¥–å“

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”æ•°æ®åº“å­—æ®µ | è¯´æ˜ |
|------|----------------|------|
| æ´»åŠ¨åˆ—è¡¨ | campaign_id, name, status, start_time, end_time | åˆ†é¡µå±•ç¤ºæ‰€æœ‰æ´»åŠ¨ |
| æ´»åŠ¨è¯¦æƒ… | å…¨éƒ¨41å­—æ®µ | æŸ¥çœ‹æ´»åŠ¨å®Œæ•´é…ç½® |
| åˆ›å»º/ç¼–è¾‘æ´»åŠ¨ | å†™å…¥å­—æ®µ | æ”¯æŒæ‰€æœ‰é…ç½®é¡¹ |
| é¢„ç®—æ¨¡å¼é…ç½® | budget_mode, budget_source, user_budget, pool_budget | ä¸‰ç§é¢„ç®—æ¨¡å¼åˆ‡æ¢ |
| ç©ºå¥–çº¦æŸéªŒè¯ | empty_prize_*å­—æ®µ | éªŒè¯ç©ºå¥–é…ç½® |
| æ´»åŠ¨çŠ¶æ€åˆ‡æ¢ | status | active/paused/ended |
| å¥–å“å…³è”ç®¡ç† | å…³è”lottery_prizes | æŸ¥çœ‹/é…ç½®æ´»åŠ¨å¥–å“ |

**åç«¯API**ï¼š`/api/v4/lottery/campaigns` + `/api/v4/console/campaign-budget`

---

#### 2. æŠ½å¥–ç­–ç•¥å¼•æ“é…ç½® `lottery-strategy.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- lottery_strategy_configï¼š17æ¡é…ç½®
- lottery_tier_matrix_configï¼š12ç§BxPxç»„åˆ

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| ç­–ç•¥å‚æ•°é…ç½® | lottery_strategy_config | budget_tier/pity/luck_debtç­‰åˆ†ç»„é…ç½® |
| BxPxçŸ©é˜µé…ç½® | lottery_tier_matrix_config | 4Ã—3çŸ©é˜µçš„capä¹˜æ•°ã€ç©ºå¥–æƒé‡ä¹˜æ•° |
| æ¡£ä½è§„åˆ™é…ç½® | lottery_tier_rules | 9æ¡è§„åˆ™ï¼Œsegment_key + tier_name |
| é…ç½®ç”Ÿæ•ˆç®¡ç† | effective_at, expires_at | å®šæ—¶ç”Ÿæ•ˆ/è¿‡æœŸç®¡ç† |

---

#### 3. æ¬ è´¦ç®¡ç†é¡µé¢ `debt-management.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- preset_inventory_debtï¼šåº“å­˜æ¬ è´¦ï¼ˆç³»ç»Ÿå«ä»˜è®°å½•ï¼‰
- preset_budget_debtï¼šé¢„ç®—æ¬ è´¦
- preset_debt_limitsï¼š1æ¡ä¸Šé™é…ç½®

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| æ¬ è´¦ä»ªè¡¨ç›˜ | æ±‡æ€»ç»Ÿè®¡ | æ€»æ¬ è´¦/å·²æ¸…å¿/å¾…æ¸…å¿ |
| åº“å­˜æ¬ è´¦åˆ—è¡¨ | preset_inventory_debt | æŒ‰æ´»åŠ¨/å¥–å“/è´£ä»»äººåˆ†ç»„ |
| é¢„ç®—æ¬ è´¦åˆ—è¡¨ | preset_budget_debt | debt_sourceåŒºåˆ†æ¥æº |
| æ¸…å¿æ“ä½œ | cleared_quantity/cleared_amount | è¿è¥è¡¥è´§/å……å€¼æ¸…å¿ |
| ä¸Šé™é…ç½® | preset_debt_limits | global/campaign/prizeä¸‰çº§ä¸Šé™ |
| å‘Šè­¦æ£€æŸ¥ | - | æ¥è¿‘ä¸Šé™é¢„è­¦ |

**åç«¯API**ï¼š`/api/v4/console/debt-management/*`ï¼ˆå·²å®ç°21ä¸ªç«¯ç‚¹ï¼‰

---

#### 4. é—¨åº—ç®¡ç†é¡µé¢ `stores.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- storesï¼š4é—¨åº—ï¼Œ20å­—æ®µï¼ˆå«çœå¸‚åŒºè¡—é“8å­—æ®µï¼‰
- store_staffï¼š2æ¡å‘˜å·¥å…³ç³»
- administrative_regionsï¼š44,703æ¡è¡Œæ”¿åŒºåˆ’

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| é—¨åº—åˆ—è¡¨ | stores | åˆ†é¡µã€ç­›é€‰ã€æœç´¢ |
| é—¨åº—CRUD | stores | åˆ›å»º/ç¼–è¾‘/åˆ é™¤ |
| çœå¸‚åŒºçº§è”é€‰æ‹© | administrative_regions | å››çº§çº§è” |
| é—¨åº—çŠ¶æ€ç®¡ç† | status | æ¿€æ´»/åœç”¨ |
| é—¨åº—ç»Ÿè®¡ | - | é—¨åº—æ•°ã€å‘˜å·¥æ•° |
| å‘˜å·¥å…³è” | store_staff | æŸ¥çœ‹é—¨åº—å‘˜å·¥ |

**åç«¯API**ï¼š`/api/v4/console/stores/*` + `/api/v4/console/regions/*`

---

#### 5. å‘˜å·¥ç®¡ç†é¡µé¢ `store-staff.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- store_staffï¼šå‘˜å·¥-é—¨åº—å¤šå¯¹å¤šå…³ç³»
- merchant_operation_logsï¼š34æ¡å•†å®¶æ“ä½œæ—¥å¿—

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| å‘˜å·¥åˆ—è¡¨ | store_staff | æŒ‰é—¨åº—/ç”¨æˆ·ç­›é€‰ |
| å…¥èŒåˆ†é… | store_staff | åˆ›å»ºå‘˜å·¥-é—¨åº—å…³ç³» |
| è°ƒåº—æ“ä½œ | transfer | æ›´æ¢é—¨åº— |
| è§’è‰²å˜æ›´ | staff/manager | å‡çº§/é™çº§ |
| ç¦»èŒç¦ç”¨ | deactivate | è®¾ä¸ºinactive |
| æ“ä½œæ—¥å¿— | merchant_operation_logs | æŸ¥çœ‹å‘˜å·¥æ“ä½œå†å² |

**åç«¯API**ï¼š`/api/v4/console/staff/*` + `/api/v4/console/audit-logs/*`

---

#### 6. é£æ§å‘Šè­¦é¡µé¢ `risk-alerts.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- risk_alertsï¼š17å­—æ®µï¼Œå«alert_type/severity/is_blocking

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| å‘Šè­¦åˆ—è¡¨ | risk_alerts | æŒ‰ç±»å‹/ä¸¥é‡åº¦/çŠ¶æ€ç­›é€‰ |
| å¾…å¤„ç†å‘Šè­¦ | status=pending | ä¼˜å…ˆæ˜¾ç¤º |
| å‘Šè­¦å¤æ ¸ | reviewæ“ä½œ | approve/ignore/escalate |
| å‘Šè­¦ç»Ÿè®¡ | æ±‡æ€» | æŒ‰ç±»å‹/é—¨åº—/æ—¶é—´ç»Ÿè®¡ |
| å‘Šè­¦ç±»å‹è¯´æ˜ | - | é¢‘æ¬¡é˜»æ–­/é‡‘é¢å‘Šè­¦/å…³è”å‘Šè­¦ |

**åç«¯API**ï¼š`/api/v4/console/risk-alerts/*`ï¼ˆå·²å®ç°7ä¸ªç«¯ç‚¹ï¼‰

---

### ç¬¬äºŒä¼˜å…ˆçº§ï¼šP1 å¢å¼ºç°æœ‰é¡µé¢

#### 7. å¢å¼ºç”¨æˆ·ç®¡ç†é¡µé¢

**éœ€è¦æ·»åŠ çš„åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| ç”¨æˆ·è§’è‰²æ ‡ç­¾æ˜¾ç¤º | user_roles | æ˜¾ç¤ºç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰è§’è‰² |
| è§’è‰²åˆ†é…/æ’¤é”€ | user_roles | æ“ä½œç”¨æˆ·è§’è‰² |
| é«˜çº§çŠ¶æ€æ˜¾ç¤º | user_premium_status | æ˜¯å¦è§£é”ã€è¿‡æœŸæ—¶é—´ |
| é£æ§é…ç½®æ˜¾ç¤º | user_risk_profiles | æ—¥é™æ¬¡/æ—¥é™é¢ |
| æŠ½å¥–ä½“éªŒçŠ¶æ€ | lottery_user_experience_state | Pityè¿›åº¦ã€ç©ºå¥–è¿å‡» |
| å…¨å±€è¿æ°”çŠ¶æ€ | lottery_user_global_state | å†å²ç©ºå¥–ç‡ã€è¿æ°”å€ºåŠ¡ |

---

#### 8. å¢å¼ºå®¡è®¡æ—¥å¿—é¡µé¢

**éœ€è¦æ·»åŠ çš„åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| å•†å®¶æ—¥å¿—Tab | merchant_operation_logs | ç‹¬ç«‹æ˜¾ç¤ºå•†å®¶æ“ä½œ |
| çŠ¶æ€å˜æ›´è®°å½• | user_status_change_records | æ˜¾ç¤ºçŠ¶æ€å˜æ›´å†å² |
| è§’è‰²å˜æ›´è®°å½• | user_role_change_records | æ˜¾ç¤ºè§’è‰²å˜æ›´å†å² |
| æŠ½å¥–æ¸…é™¤è®°å½• | lottery_clear_setting_records | æ˜¾ç¤ºæ¸…é™¤æ“ä½œå†å² |

---

#### 9. è§’è‰²ç®¡ç†é¡µé¢ `roles.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- rolesï¼š10ä¸ªè§’è‰²ï¼ˆrole_id, role_name, role_level, descriptionï¼‰

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| è§’è‰²åˆ—è¡¨ | roles | å±•ç¤ºæ‰€æœ‰è§’è‰² |
| è§’è‰²å±‚çº§å±•ç¤º | role_level | 100ä»¥ä¸Šä¸ºç®¡ç†å‘˜ |
| è§’è‰²åˆ›å»º/ç¼–è¾‘ | roles | CRUD |
| è§’è‰²ç”¨æˆ·å…³è” | user_roles | æŸ¥çœ‹æ‹¥æœ‰è¯¥è§’è‰²çš„ç”¨æˆ· |

---

#### 10. ç‰©å“æ¨¡æ¿ç®¡ç†é¡µé¢ `item-templates.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- item_templatesï¼š16ä¸ªæ¨¡æ¿
- category_defsï¼š6ä¸ªç±»ç›®
- rarity_defsï¼š5ä¸ªç¨€æœ‰åº¦
- asset_group_defsï¼š8ä¸ªèµ„äº§ç»„

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| æ¨¡æ¿åˆ—è¡¨ | item_templates | å±•ç¤ºæ‰€æœ‰ç‰©å“æ¨¡æ¿ |
| æ¨¡æ¿CRUD | item_templates | åˆ›å»º/ç¼–è¾‘æ¨¡æ¿ |
| ç±»ç›®ç­›é€‰ | category_defs | æŒ‰ç±»ç›®ç­›é€‰ |
| ç¨€æœ‰åº¦ç­›é€‰ | rarity_defs | æŒ‰ç¨€æœ‰åº¦ç­›é€‰ |
| ç‰©å“å®ä¾‹ç»Ÿè®¡ | item_instances | ç»Ÿè®¡æ¯ä¸ªæ¨¡æ¿çš„å®ä¾‹æ•° |

---

#### 11. å­—å…¸ç®¡ç†é¡µé¢ `dict-management.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- category_defsï¼š6æ¡ç±»ç›®å®šä¹‰
- rarity_defsï¼š5æ¡ç¨€æœ‰åº¦å®šä¹‰
- asset_group_defsï¼š8æ¡èµ„äº§ç»„å®šä¹‰

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| ç±»ç›®å­—å…¸ç®¡ç† | category_defs | CRUD |
| ç¨€æœ‰åº¦å­—å…¸ç®¡ç† | rarity_defs | CRUD |
| èµ„äº§ç»„å­—å…¸ç®¡ç† | asset_group_defs | CRUD |
| å…³è”ç»Ÿè®¡ | - | ç»Ÿè®¡å„å­—å…¸è¢«å¼•ç”¨æ¬¡æ•° |

---

### ç¬¬ä¸‰ä¼˜å…ˆçº§ï¼šP2 ç›‘æ§è¿ç»´ç±»

#### 12. æŠ½å¥–ç›‘æ§ä»ªè¡¨ç›˜ `lottery-metrics.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- lottery_hourly_metricsï¼š27å­—æ®µï¼ŒæŒ‰å°æ—¶èšåˆç›‘æ§æŒ‡æ ‡
- lottery_draw_decisionsï¼š30å­—æ®µï¼Œå†³ç­–å¿«ç…§

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| å®æ—¶ç›‘æ§é¢æ¿ | lottery_hourly_metrics | ç©ºå¥–ç‡/é«˜ä»·å€¼ç‡/æ¡£ä½åˆ†å¸ƒ |
| Pityè§¦å‘ç»Ÿè®¡ | pity_triggers_count | ä¿åº•è§¦å‘æ¬¡æ•° |
| AntiEmptyç»Ÿè®¡ | anti_empty_triggers_count | é˜²ç©ºè¿è§¦å‘æ¬¡æ•° |
| å¼‚å¸¸æ£€æµ‹ | - | å¼‚å¸¸ç‡é¢„è­¦ |
| å†³ç­–å®¡è®¡ | lottery_draw_decisions | æŠ½å¥–å†³ç­–è·¯å¾„æŸ¥è¯¢ |

---

#### 13. æ ¸é”€ç ç®¡ç†é¡µé¢ `redemption-orders.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- redemption_ordersï¼š832æ¡æ ¸é”€è®¢å•

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| æ ¸é”€ç åˆ—è¡¨ | redemption_orders | æŒ‰çŠ¶æ€ç­›é€‰ |
| æ ¸é”€ç æŸ¥è¯¢ | code_hash | æ”¯æŒæ¨¡ç³Šæœç´¢ |
| æ‰‹åŠ¨æ ¸é”€ | statuså˜æ›´ | ç®¡ç†å‘˜æ‰‹åŠ¨æ ¸é”€ |
| è¿‡æœŸæ¸…ç† | expired_at | æ˜¾ç¤ºè¿‡æœŸçŠ¶æ€ |

---

#### 14. æ´»åŠ¨å®šä»·é…ç½®é¡µé¢ `pricing-config.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- lottery_campaign_pricing_configï¼š4æ¡é…ç½®ï¼Œæ”¯æŒç‰ˆæœ¬åŒ–

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| å®šä»·é…ç½®åˆ—è¡¨ | - | å±•ç¤ºæ‰€æœ‰ç‰ˆæœ¬ |
| åˆ›å»ºæ–°ç‰ˆæœ¬ | version | ç‰ˆæœ¬åŒ–ç®¡ç† |
| è¿æŠ½æŠ˜æ‰£é…ç½® | single_draw_price, multi_draw_discount | 1æŠ½/10æŠ½å®šä»· |
| ç‰ˆæœ¬ç”Ÿæ•ˆæ§åˆ¶ | effective_at | å®šæ—¶ç”Ÿæ•ˆ |

---

#### 15. ä¼šè¯ç®¡ç†é¡µé¢ `sessions.html`

**æ•°æ®åº“èƒ½åŠ›**ï¼š
- authentication_sessionsï¼šJWTä¼šè¯ç®¡ç†

**éœ€è¦çš„é¡µé¢åŠŸèƒ½**ï¼š
| åŠŸèƒ½ | å¯¹åº”è¡¨ | è¯´æ˜ |
|------|--------|------|
| åœ¨çº¿ç”¨æˆ·åˆ—è¡¨ | - | å½“å‰æœ‰æ•ˆä¼šè¯ |
| ä¼šè¯è¯¦æƒ… | - | Tokenä¿¡æ¯ã€ç™»å½•IP |
| å¼ºåˆ¶ç™»å‡º | - | å¤±æ•ˆæŒ‡å®šä¼šè¯ |
| ä¼šè¯ç»Ÿè®¡ | - | åœ¨çº¿ç”¨æˆ·æ•°/ç™»å½•è¶‹åŠ¿ |

---

## ğŸ“‹ å®æ–½ä¼˜å…ˆçº§æ€»ç»“

### P0 å¿…é¡»è¡¥é½ï¼ˆæ ¸å¿ƒä¸šåŠ¡ç¼ºå¤±ï¼‰

| åºå· | é¡µé¢ | ç†ç”± |
|------|------|------|
| 1 | campaigns.html | æŠ½å¥–æ´»åŠ¨æ˜¯æ ¸å¿ƒä¸šåŠ¡ï¼Œæ— ç®¡ç†é¡µé¢ |
| 2 | lottery-strategy.html | ç­–ç•¥å¼•æ“é…ç½®æ— å¯è§†åŒ–ç®¡ç† |
| 3 | debt-management.html | æ¬ è´¦ç®¡ç†åç«¯APIå·²å®Œæ•´ä½†æ— å‰ç«¯ |
| 4 | stores.html | é—¨åº—ç®¡ç†åç«¯APIå·²å®Œæ•´ä½†æ— å‰ç«¯ |
| 5 | store-staff.html | å‘˜å·¥ç®¡ç†åç«¯APIå·²å®Œæ•´ä½†æ— å‰ç«¯ |
| 6 | risk-alerts.html | é£æ§å‘Šè­¦åç«¯APIå·²å®Œæ•´ä½†æ— å‰ç«¯ |

### P1 å¢å¼ºç°æœ‰ï¼ˆåŠŸèƒ½ä¸å®Œæ•´ï¼‰

| åºå· | é¡µé¢ | ç†ç”± |
|------|------|------|
| 7 | user-management.html | ç¼ºå°‘è§’è‰²/é«˜çº§çŠ¶æ€/é£æ§é…ç½®æ˜¾ç¤º |
| 8 | audit-logs.html | ç¼ºå°‘å•†å®¶æ—¥å¿—å’Œå˜æ›´è®°å½•Tab |
| 9 | roles.html | è§’è‰²ç®¡ç†æ— ç‹¬ç«‹é¡µé¢ |
| 10 | item-templates.html | ç‰©å“æ¨¡æ¿æ— ç®¡ç†é¡µé¢ |
| 11 | dict-management.html | å­—å…¸ç®¡ç†æ— ç»Ÿä¸€é¡µé¢ |

### P2 ç›‘æ§è¿ç»´ï¼ˆé”¦ä¸Šæ·»èŠ±ï¼‰

| åºå· | é¡µé¢ | ç†ç”± |
|------|------|------|
| 12 | lottery-metrics.html | æŠ½å¥–ç›‘æ§ä»ªè¡¨ç›˜ |
| 13 | redemption-orders.html | æ ¸é”€ç ç®¡ç† |
| 14 | pricing-config.html | å®šä»·é…ç½®ç®¡ç† |
| 15 | sessions.html | ä¼šè¯ç®¡ç† |

---

## ğŸ”§ åç«¯APIç¼ºå£åˆ†æ

ä»¥ä¸‹æ˜¯æ•°æ®åº“èƒ½åŠ›å·²æœ‰ä½†åç«¯APIå¯èƒ½éœ€è¦è¡¥å……/ç¡®è®¤çš„éƒ¨åˆ†ï¼š

| æ•°æ®åº“è¡¨ | éœ€ç¡®è®¤çš„åç«¯API |
|----------|-----------------|
| lottery_strategy_config | CRUDæ¥å£ |
| lottery_tier_matrix_config | CRUDæ¥å£ |
| lottery_user_experience_state | æŸ¥è¯¢æ¥å£ |
| lottery_user_global_state | æŸ¥è¯¢æ¥å£ |
| lottery_hourly_metrics | æŸ¥è¯¢æ¥å£ |
| category_defs | CRUDæ¥å£ |
| rarity_defs | CRUDæ¥å£ |
| asset_group_defs | CRUDæ¥å£ |
| user_premium_status | æŸ¥è¯¢/ç®¡ç†æ¥å£ |
| authentication_sessions | æŸ¥è¯¢/ç®¡ç†æ¥å£ |

**æ³¨æ„**ï¼šä»¥ä¸Šéœ€è¦å…ˆæ£€æŸ¥åç«¯æ˜¯å¦å·²æœ‰å®ç°ï¼Œå¦‚å·²æœ‰å®ç°åˆ™ä»…éœ€å‰ç«¯å¯¹æ¥ï¼›å¦‚æœªå®ç°åˆ™éœ€è¦å…ˆè¡¥å……åç«¯APIï¼ˆä½†å¿…é¡»åŸºäºæ•°æ®åº“å·²æœ‰å­—æ®µï¼Œä¸èƒ½å‡­ç©ºå‘æ˜æ–°ä¸šåŠ¡ï¼‰

---

## ğŸ“ é¡µé¢ç»“æ„è§„èŒƒ

### ç»Ÿä¸€é¡µé¢æ¨¡æ¿

æ‰€æœ‰æ–°å¢é¡µé¢åº”éµå¾ªç°æœ‰é¡µé¢ç»“æ„ï¼š

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- å…¬å…±Head -->
  <link rel="stylesheet" href="css/admin-common.css">
</head>
<body>
  <!-- ä¾§è¾¹æ å¯¼èˆª -->
  <nav id="sidebar">...</nav>
  
  <!-- ä¸»å†…å®¹åŒº -->
  <main class="main-content">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">...</div>
    
    <!-- ç»Ÿè®¡å¡ç‰‡ï¼ˆå¦‚æœ‰ï¼‰ -->
    <div class="stats-row">...</div>
    
    <!-- ç­›é€‰åŒºåŸŸï¼ˆå¦‚æœ‰ï¼‰ -->
    <div class="filter-section">...</div>
    
    <!-- æ•°æ®è¡¨æ ¼ -->
    <div class="table-responsive">...</div>
    
    <!-- åˆ†é¡µç»„ä»¶ -->
    <nav class="pagination-wrapper">...</nav>
  </main>
  
  <!-- å…¬å…±è„šæœ¬ -->
  <script src="js/admin-common.js"></script>
  <script src="js/api-config.js"></script>
  <script src="js/pages/xxx.js"></script>
</body>
</html>
```

### APIè°ƒç”¨è§„èŒƒ

ä½¿ç”¨ç»Ÿä¸€çš„APIé…ç½®æ–‡ä»¶ï¼ˆapi-config.jsï¼‰ï¼š

```javascript
// æ–°å¢APIç«¯ç‚¹éœ€è¦åœ¨API_ENDPOINTSä¸­æ·»åŠ 
const API_ENDPOINTS = {
  // ... ç°æœ‰ç«¯ç‚¹
  
  // æ–°å¢ï¼šæŠ½å¥–æ´»åŠ¨ç®¡ç†
  CAMPAIGN: {
    LIST: '/api/v4/lottery/campaigns',
    DETAIL: '/api/v4/lottery/campaigns/:campaign_id',
    CREATE: '/api/v4/lottery/campaigns',
    UPDATE: '/api/v4/lottery/campaigns/:campaign_id',
  },
  
  // æ–°å¢ï¼šæ¬ è´¦ç®¡ç†
  DEBT: {
    DASHBOARD: '/api/v4/console/debt-management/dashboard',
    PENDING: '/api/v4/console/debt-management/pending',
    CLEAR: '/api/v4/console/debt-management/clear',
  },
  
  // æ–°å¢ï¼šé—¨åº—ç®¡ç†
  STORE: {
    LIST: '/api/v4/console/stores',
    DETAIL: '/api/v4/console/stores/:store_id',
    CREATE: '/api/v4/console/stores',
    UPDATE: '/api/v4/console/stores/:store_id',
    ACTIVATE: '/api/v4/console/stores/:store_id/activate',
    DEACTIVATE: '/api/v4/console/stores/:store_id/deactivate',
  },
  
  // ... å…¶ä»–æ–°å¢ç«¯ç‚¹
}
```

---

## ğŸ“ æ–¹æ¡ˆæ‰§è¡ŒåŸåˆ™

1. **æ•°æ®åº“ä¸ºæƒå¨**ï¼šæ‰€æœ‰é¡µé¢åŠŸèƒ½å¿…é¡»åŸºäºæ•°æ®åº“å·²æœ‰å­—æ®µ/è¡¨
2. **ä¸å‘æ˜æ–°ä¸šåŠ¡**ï¼šä¸ä¸ºå‰ç«¯"æƒ³è¦"è€Œå‡­ç©ºåˆ›é€ åç«¯åŠŸèƒ½
3. **APIå…ˆè¡Œ**ï¼šç¡®è®¤åç«¯APIå·²å®ç°åå†å¼€å‘å‰ç«¯é¡µé¢
4. **å¢é‡è¡¥é½**ï¼šæŒ‰P0â†’P1â†’P2ä¼˜å…ˆçº§é€æ­¥è¡¥é½
5. **é£æ ¼ç»Ÿä¸€**ï¼šéµå¾ªç°æœ‰é¡µé¢çš„UI/UXè§„èŒƒ
6. **åŠ¨æ€è”åŠ¨**ï¼šé…ç½®ä¿®æ”¹åæ•°æ®å±•æ¿å®æ—¶æ›´æ–°

---

**æ–‡æ¡£ç»´æŠ¤äºº**ï¼šAI Assistant  
**æœ€åæ›´æ–°**ï¼š2026-01-21

