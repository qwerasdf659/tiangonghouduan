# ç”¨æˆ·ç•™å­˜ä¸å¤è´­å¼•å¯¼æ–¹æ¡ˆè®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

**æ–‡æ¡£æ ‡é¢˜**ï¼šé¤å…ç§¯åˆ†æŠ½å¥–ç³»ç»Ÿ - ç”¨æˆ·ç•™å­˜ä¸å¤è´­å¼•å¯¼æ–¹æ¡ˆè®¾è®¡  
**åˆ›å»ºæ—¶é—´**ï¼š2025å¹´12æœˆ8æ—¥  
**ç‰ˆæœ¬**ï¼šv1.0  
**é€‚ç”¨ç³»ç»Ÿ**ï¼šé¤å…ç§¯åˆ†æŠ½å¥–è¥é”€å¹³å° V4.0

---

## ğŸ¯ æ ¸å¿ƒé—®é¢˜ä¸è®¾è®¡ç›®æ ‡

### é—®é¢˜èƒŒæ™¯

åœ¨å½“å‰åŒè´¦æˆ·æ¨¡å‹ä¸‹ï¼š
- ç”¨æˆ·æ¶ˆè´¹1000å…ƒ â†’ è·å¾—1000å¯è§ç§¯åˆ† + 240é¢„ç®—ç§¯åˆ†ï¼ˆå†…éƒ¨ï¼‰
- ç†è®ºä¸Šç”¨æˆ·å¯ä»¥ä¸€æ¬¡æ€§æŠŠ1000ç§¯åˆ†å…¨éƒ¨ç”¨å®Œ
- **æ ¸å¿ƒæ‹…å¿§**ï¼šç”¨æˆ·ä¸€æ¬¡æ€§ç©å®Œç§¯åˆ†åä¸å†å¤è´­ï¼Œå¯¼è‡´åç»­æ‹‰æ–°/ç•™å­˜ä»·å€¼ä½

### æˆæœ¬æ§åˆ¶ç°çŠ¶ï¼ˆå·²è§£å†³ï¼‰

**âœ… å½“å‰åŒè´¦æˆ·æ¨¡å‹å·²ç»è§£å†³äº†æˆæœ¬å¤±æ§é—®é¢˜ï¼š**

```javascript
// ç”¨æˆ·æ¶ˆè´¹1000å…ƒåçš„è´¦æˆ·çŠ¶æ€
{
  // æ˜¾ç¤ºè´¦æˆ·ï¼ˆç”¨æˆ·çœ‹åˆ°çš„ï¼‰
  available_points: 1000,  // å¯ä»¥æŠ½10æ¬¡å¥–ï¼ˆæ¯æ¬¡100ç§¯åˆ†ï¼‰
  
  // é¢„ç®—è´¦æˆ·ï¼ˆç³»ç»Ÿæ§åˆ¶çš„ï¼Œç”¨æˆ·ä¸å¯è§ï¼‰
  budget_points: 240,              // æ€»é¢„ç®—ç§¯åˆ†
  remaining_budget_points: 240     // å‰©ä½™é¢„ç®—ç§¯åˆ†
}

// æˆæœ¬æ§åˆ¶æœºåˆ¶
// 1. é¢„ç®—åˆ†é…ï¼šbudgetPoints = æ¶ˆè´¹é‡‘é¢ Ã— budgetRatioï¼ˆé»˜è®¤0.24ï¼‰
// 2. æŠ½å¥–é™åˆ¶ï¼šåªèƒ½æŠ½ä¸­ prize_value_points <= remaining_budget_points çš„å¥–å“
// 3. é¢„ç®—æ‰£é™¤ï¼šä¸­å¥–å remaining_budget_points -= prize.prize_value_points
// 4. é¢„ç®—è€—å°½ï¼šåªèƒ½ä¸­0æˆæœ¬ç©ºå¥–ï¼ˆè°¢è°¢å‚ä¸ï¼‰

// ç»“è®ºï¼šæ— è®ºç”¨æˆ·ä¸€æ¬¡æ€§ç”¨å®Œè¿˜æ˜¯åˆ†å¤šæ¬¡ç”¨ï¼Œå¥–å“æˆæœ¬ä¸Šé™ = é¢„ç®—ç§¯åˆ†ä¸Šé™
// ä¾‹å¦‚ï¼š1000å…ƒæ¶ˆè´¹ â†’ æœ€å¤š240é¢„ç®—ç§¯åˆ† â‰ˆ 80å…ƒæˆæœ¬ï¼ˆå‡è®¾1é¢„ç®—ç§¯åˆ†=1/3å…ƒï¼‰
```

### è®¾è®¡ç›®æ ‡

**åœ¨ä¸æ”¹å˜æˆæœ¬æ§åˆ¶æœºåˆ¶çš„å‰æä¸‹ï¼Œé€šè¿‡è¿è¥ç­–ç•¥å¼•å¯¼ç”¨æˆ·å¤šæ¬¡æ¥ç©ï¼Œè€Œä¸æ˜¯é "ç¡¬æ€§ç¦æ­¢ç”¨æˆ·ä¸€æ¬¡ç”¨å®Œç§¯åˆ†"ã€‚**

æ ¸å¿ƒåŸåˆ™ï¼š
- âœ… ç”¨æˆ·ä½“éªŒä¼˜å…ˆï¼šä¸èƒ½è®©ç”¨æˆ·æ„Ÿè§‰è¢«é™åˆ¶æˆ–è¢«ç©å¼„
- âœ… ä¸šåŠ¡è¯­ä¹‰æ¸…æ™°ï¼šè§„åˆ™ç®€å•ç›´è§‚ï¼Œæ˜“äºç†è§£
- âœ… æŠ€æœ¯å€ºåŠ¡ä½ï¼šå®ç°ç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä½
- âœ… é•¿æœŸå¯æŒç»­ï¼šè§„åˆ™æ˜“äºè°ƒæ•´ï¼Œä¸ä¼šç§¯ç´¯æŠ€æœ¯å€º

---

## ğŸ“Š æ–¹æ¡ˆå¯¹æ¯”åˆ†æ

### æ–¹æ¡ˆä¸€ï¼šé«˜ä»·å€¼å¥–å“ç»‘å®š"ç´¯è®¡æ¶ˆè´¹/ç­‰çº§"ï¼ˆæ¨è â­â­â­â­â­ï¼‰

#### æ ¸å¿ƒæ€è·¯

**æ™®é€šå¥–æ± éšä¾¿ç©ï¼Œé«˜ä»·å€¼å¥–æ± å¿…é¡»æ»¡è¶³"ç´¯è®¡æ¶ˆè´¹/ç´¯è®¡å‚ä¸"æ¡ä»¶ï¼Œé€¼ç€ç”¨æˆ·æƒ³è¦å¥½ä¸œè¥¿å°±å¾—å¤šæ¥å‡ æ¬¡ã€‚**

#### æŠ€æœ¯å®ç°

```javascript
// 1. ç”¨æˆ·ç­‰çº§å®šä¹‰ï¼ˆåŸºäºç°æœ‰å­—æ®µ total_earnedï¼‰
const USER_LEVELS = {
  BRONZE: {
    level: 1,
    name: 'é’é“œä¼šå‘˜',
    min_total_earned: 0,
    max_total_earned: 499,
    available_prize_pools: ['basic']  // åªèƒ½è¿›åŸºç¡€å¥–æ± 
  },
  SILVER: {
    level: 2,
    name: 'ç™½é“¶ä¼šå‘˜',
    min_total_earned: 500,
    max_total_earned: 1999,
    available_prize_pools: ['basic', 'advanced']  // å¯è¿›åŸºç¡€+è¿›é˜¶å¥–æ± 
  },
  GOLD: {
    level: 3,
    name: 'é»„é‡‘ä¼šå‘˜',
    min_total_earned: 2000,
    max_total_earned: 4999,
    available_prize_pools: ['basic', 'advanced', 'premium']  // å…¨éƒ¨å¥–æ± 
  },
  PLATINUM: {
    level: 4,
    name: 'é“‚é‡‘ä¼šå‘˜',
    min_total_earned: 5000,
    max_total_earned: Infinity,
    available_prize_pools: ['basic', 'advanced', 'premium', 'exclusive']  // å«ä¸“å±å¥–æ± 
  }
}

// 2. æŠ½å¥–æ—¶çš„ç­‰çº§æ£€æŸ¥é€»è¾‘
async function filterPrizesByUserLevel(userId, prizes) {
  // æŸ¥è¯¢ç”¨æˆ·ç´¯è®¡æ¶ˆè´¹ï¼ˆå·²æœ‰å­—æ®µï¼‰
  const userAccount = await UserPointsAccount.findOne({
    where: { user_id: userId }
  })
  
  const totalEarned = userAccount.total_earned
  
  // è®¡ç®—ç”¨æˆ·ç­‰çº§
  const userLevel = Object.values(USER_LEVELS).find(level => 
    totalEarned >= level.min_total_earned && totalEarned <= level.max_total_earned
  )
  
  // ç­›é€‰è¯¥ç­‰çº§å¯å‚ä¸çš„å¥–å“
  const availablePrizes = prizes.filter(prize => 
    userLevel.available_prize_pools.includes(prize.prize_pool_type)
  )
  
  console.log(`ç”¨æˆ·ç­‰çº§: ${userLevel.name}, å¯ç”¨å¥–æ± : ${userLevel.available_prize_pools.join(',')}`)
  
  return availablePrizes
}

// 3. å¥–å“é…ç½®ç¤ºä¾‹ï¼ˆåœ¨ lottery_prizes è¡¨ä¸­æ–°å¢ prize_pool_type å­—æ®µï¼‰
const PRIZE_EXAMPLES = [
  {
    name: 'è°¢è°¢å‚ä¸',
    prize_pool_type: 'basic',
    prize_value_points: 0
  },
  {
    name: '10ä¸ªæ°´æ™¶',
    prize_pool_type: 'basic',
    prize_value_points: 10
  },
  {
    name: '50å…ƒçº¢åŒ…',
    prize_pool_type: 'advanced',
    prize_value_points: 50
  },
  {
    name: 'iPhone 15',
    prize_pool_type: 'premium',
    prize_value_points: 5000
  },
  {
    name: 'ä¸“å±å®šåˆ¶ç¤¼å“',
    prize_pool_type: 'exclusive',
    prize_value_points: 3000
  }
]
```

#### æ•°æ®åº“æ”¹åŠ¨

```sql
-- åœ¨ lottery_prizes è¡¨ä¸­æ–°å¢å­—æ®µ
ALTER TABLE lottery_prizes
ADD COLUMN prize_pool_type ENUM('basic', 'advanced', 'premium', 'exclusive') 
    DEFAULT 'basic'
    COMMENT 'å¥–æ± ç±»å‹ï¼šåŸºç¡€/è¿›é˜¶/é«˜çº§/ä¸“å±',
ADD INDEX idx_prize_pool_type (prize_pool_type);

-- æ— éœ€æ–°å¢è¡¨ï¼Œç›´æ¥ä½¿ç”¨ç°æœ‰çš„ user_points_accounts.total_earned å­—æ®µ
```

#### ç”¨æˆ·æ„ŸçŸ¥

- âœ… **ä¸æ˜¯ä¸è®©ä½ ä¸€æ¬¡ç©å®Œç§¯åˆ†**ï¼Œè€Œæ˜¯"æƒ³æŠ½å¥½ä¸œè¥¿ï¼Œè¦å¤šæ¥å‡ æ¬¡ã€å‡çº§ç­‰çº§"
- âœ… å‰ç«¯æ˜¾ç¤ºï¼š"æ‚¨å½“å‰æ˜¯é’é“œä¼šå‘˜ï¼Œç´¯è®¡æ¶ˆè´¹æ»¡500å…ƒå¯å‡çº§ç™½é“¶ä¼šå‘˜ï¼Œè§£é”è¿›é˜¶å¥–æ± "
- âœ… æ¸¸æˆåŒ–ä½“éªŒï¼šç­‰çº§æå‡æœ‰æˆå°±æ„Ÿï¼Œç”¨æˆ·ä¼šä¸»åŠ¨è¿½æ±‚å‡çº§

#### æŠ€æœ¯è¯„ä¼°

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| æŠ€æœ¯å€ºåŠ¡ | â­â­â­â­â­ | åªéœ€ä¸€ä¸ªç­‰çº§åˆ¤æ–­é€»è¾‘ï¼Œæ— å¤æ‚çŠ¶æ€æœº |
| ä»£ç å¤æ‚åº¦ | â­â­â­â­â­ | æ ¸å¿ƒé€»è¾‘ä¸è¶…è¿‡50è¡Œä»£ç  |
| ç»´æŠ¤æˆæœ¬ | â­â­â­â­â­ | ç­‰çº§é˜ˆå€¼ã€å¥–æ± å¯¹åº”å…³ç³»éƒ½æ˜¯é…ç½®ï¼Œæ˜“è°ƒæ•´ |
| æ–°äººå­¦ä¹ æˆæœ¬ | â­â­â­â­â­ | è¯­ä¹‰ç›´è§‚ï¼š"æ¶ˆè´¹è¶Šå¤šï¼Œç­‰çº§è¶Šé«˜ï¼Œå¥–å“è¶Šå¥½" |
| é‡æ„éš¾åº¦ | â­â­â­â­â­ | åªæ˜¯æ”¹é…ç½®ï¼Œä¸æ¶‰åŠçŠ¶æ€è¿ç§» |
| é•¿æœŸå€ºåŠ¡ç´¯ç§¯ | â­â­â­â­â­ | å‡ ä¹ä¸ä¼šç§¯ç´¯æŠ€æœ¯å€º |
| æ•°æ®åº“æ€§èƒ½ | â­â­â­â­â­ | åªéœ€æŸ¥è¯¢ä¸€æ¬¡ total_earnedï¼ŒO(1)æ“ä½œ |
| ä¸šåŠ¡è¯­ä¹‰ | â­â­â­â­â­ | ä¸€å¥è¯è¯´æ¸…æ¥šï¼Œæ— éœ€å¤æ‚æ–‡æ¡£ |
| æ–‡æ¡£ä¾èµ–åº¦ | â­â­â­â­â­ | åªéœ€ä¸€å¼ "ç­‰çº§æƒç›Šè¡¨"ï¼Œæ— éœ€è§£é‡Šå¤æ‚æœºåˆ¶ |

**ç»¼åˆè¯„åˆ†ï¼šâ­â­â­â­â­ï¼ˆæ»¡åˆ†æ¨èï¼‰**

---

### æ–¹æ¡ˆäºŒï¼šæ¯æ—¥/æ¯æ¬¡åˆ°åº—æŠ½å¥–æ¬¡æ•°ä¸Šé™ï¼ˆæ¨èä½œä¸ºè¡¥å…… â­â­â­â­ï¼‰

#### æ ¸å¿ƒæ€è·¯

**ä¸€å¤©å†…å¯ä»¥ç©çš„æ¬¡æ•°æœ‰é™ï¼Œå¤šå‡ºçš„ç§¯åˆ†è‡ªåŠ¨ç•™åœ¨è´¦æˆ·ï¼Œä¸‹æ¬¡æ¥å†ç”¨ï¼Œé¿å…"ä¸€æ™šä¸Šåˆ·çˆ†æ‰€æœ‰ç§¯åˆ†"ã€‚**

#### æŠ€æœ¯å®ç°

```javascript
// 1. æŠ½å¥–æ¬¡æ•°é™åˆ¶é…ç½®
const DAILY_DRAW_LIMIT_CONFIG = {
  enabled: true,
  max_draws_per_day: 10,  // æ¯å¤©æœ€å¤šæŠ½10æ¬¡
  reset_time: '00:00:00'  // æ¯å¤©0ç‚¹é‡ç½®
}

// 2. æŠ½å¥–å‰çš„æ¬¡æ•°æ£€æŸ¥
async function checkDailyDrawLimit(userId) {
  const today = new Date().toISOString().split('T')[0]  // 2025-12-08
  
  // æŸ¥è¯¢ä»Šæ—¥æŠ½å¥–æ¬¡æ•°ï¼ˆä½¿ç”¨ç°æœ‰çš„ lottery_draws è¡¨ï¼‰
  const todayDrawCount = await LotteryDraw.count({
    where: {
      user_id: userId,
      created_at: {
        [Op.gte]: `${today} 00:00:00`,
        [Op.lte]: `${today} 23:59:59`
      }
    }
  })
  
  if (todayDrawCount >= DAILY_DRAW_LIMIT_CONFIG.max_draws_per_day) {
    throw new Error(`ä»Šæ—¥æŠ½å¥–æ¬¡æ•°å·²ç”¨å®Œï¼ˆ${todayDrawCount}/${DAILY_DRAW_LIMIT_CONFIG.max_draws_per_day}ï¼‰ï¼Œç§¯åˆ†å·²ä¿ç•™ï¼Œæ˜å¤©å†æ¥å¯ç»§ç»­ç©`)
  }
  
  return {
    allowed: true,
    remaining: DAILY_DRAW_LIMIT_CONFIG.max_draws_per_day - todayDrawCount
  }
}

// 3. é›†æˆåˆ°æŠ½å¥–æœåŠ¡
async function performLotteryDraw(userId, campaignId) {
  // æ­¥éª¤1ï¼šæ£€æŸ¥æ¯æ—¥æŠ½å¥–æ¬¡æ•°
  const limitCheck = await checkDailyDrawLimit(userId)
  
  console.log(`ç”¨æˆ·${userId}ä»Šæ—¥å‰©ä½™æŠ½å¥–æ¬¡æ•°: ${limitCheck.remaining}`)
  
  // æ­¥éª¤2ï¼šæ­£å¸¸æŠ½å¥–æµç¨‹...
  // ...
}
```

#### æ•°æ®åº“æ”¹åŠ¨

```sql
-- æ— éœ€æ–°å¢å­—æ®µï¼Œç›´æ¥ä½¿ç”¨ç°æœ‰çš„ lottery_draws è¡¨
-- åªéœ€åœ¨ created_at å­—æ®µä¸Šæœ‰ç´¢å¼•å³å¯ï¼ˆå·²æœ‰ï¼‰

-- å¯é€‰ï¼šåœ¨ user_points_accounts è¡¨ä¸­å†—ä½™"ä»Šæ—¥æŠ½å¥–æ¬¡æ•°"å­—æ®µï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
ALTER TABLE user_points_accounts
ADD COLUMN today_draw_count INT DEFAULT 0 COMMENT 'ä»Šæ—¥æŠ½å¥–æ¬¡æ•°ï¼ˆæ¯æ—¥0ç‚¹é‡ç½®ï¼‰',
ADD COLUMN last_draw_date DATE COMMENT 'æœ€åæŠ½å¥–æ—¥æœŸ';

-- å®šæ—¶ä»»åŠ¡ï¼šæ¯å¤©0ç‚¹é‡ç½®æ‰€æœ‰ç”¨æˆ·çš„ today_draw_count
-- UPDATE user_points_accounts SET today_draw_count = 0 WHERE last_draw_date < CURDATE();
```

#### ç”¨æˆ·æ„ŸçŸ¥

- âœ… **æ˜¯"åæ²‰è¿·/å…¬å¹³é™åˆ¶"**ï¼Œè€Œä¸æ˜¯åˆ»æ„æ‹–ä½ èŠ‚å¥ï¼Œå¿ƒç†æ¥å—åº¦é«˜
- âœ… å‰ç«¯æç¤ºï¼š"ä»Šæ—¥æŠ½å¥–æ¬¡æ•°å·²ç”¨å®Œï¼ˆ10/10ï¼‰ï¼Œæ‚¨çš„ç§¯åˆ†å·²ä¿ç•™ï¼Œæ˜å¤©å†æ¥å¯ç»§ç»­ç©"
- âœ… ç¬¦åˆç›‘ç®¡è¦æ±‚ï¼šé˜²æ­¢ç”¨æˆ·æ²‰è¿·ï¼Œä½“ç°å¹³å°ç¤¾ä¼šè´£ä»»

#### æŠ€æœ¯è¯„ä¼°

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| æŠ€æœ¯å€ºåŠ¡ | â­â­â­â­â­ | é€»è¾‘ç®€å•ï¼Œåªæ˜¯è®¡æ•°åˆ¤æ–­ |
| ä»£ç å¤æ‚åº¦ | â­â­â­â­â­ | æ ¸å¿ƒé€»è¾‘ä¸è¶…è¿‡30è¡Œä»£ç  |
| ç»´æŠ¤æˆæœ¬ | â­â­â­â­â­ | ä¸Šé™å€¼æ”¹é…ç½®å³å¯ |
| æ–°äººå­¦ä¹ æˆæœ¬ | â­â­â­â­â­ | è§„åˆ™ç®€å•ï¼Œä¸€çœ‹å°±æ‡‚ |
| é‡æ„éš¾åº¦ | â­â­â­â­â­ | è¦åˆ è¿™æ¡è§„åˆ™ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåªæ˜¯å»æ‰ä¸€ä¸ªif |
| é•¿æœŸå€ºåŠ¡ç´¯ç§¯ | â­â­â­â­â­ | å‡ ä¹ä¸ä¼šç§¯ç´¯æŠ€æœ¯å€º |
| æ•°æ®åº“æ€§èƒ½ | â­â­â­â­ | æ¯æ¬¡æŸ¥è¯¢ä»Šæ—¥æŠ½å¥–æ¬¡æ•°ï¼Œå¯ç”¨å†—ä½™å­—æ®µä¼˜åŒ– |
| ä¸šåŠ¡è¯­ä¹‰ | â­â­â­â­ | ç”¨æˆ·èƒ½ç†è§£ï¼Œä½†éœ€è¦æ–‡æ¡ˆè¯´æ˜ |
| æ–‡æ¡£ä¾èµ–åº¦ | â­â­â­â­ | éœ€è¦è¯´æ˜"æ¯å¤©Næ¬¡"ï¼Œä½†ä¾èµ–åº¦ä¸é«˜ |

**ç»¼åˆè¯„åˆ†ï¼šâ­â­â­â­ï¼ˆå¼ºçƒˆæ¨èä½œä¸ºè¡¥å……å®‰å…¨é˜€ï¼‰**

---

### æ–¹æ¡ˆä¸‰ï¼šåˆ†æœŸè§£é”"ç§¯åˆ†å¯ç”¨é¢åº¦"æˆ–"é¢„ç®—å¯ç”¨æ¡£ä½"ï¼ˆä¸æ¨è â­â­ï¼‰

#### æ ¸å¿ƒæ€è·¯

**1000ç§¯åˆ†å…¨éƒ¨åˆ°è´¦ï¼Œä½†ä¸æ˜¯æ‰€æœ‰ç§¯åˆ†éƒ½èƒ½ç«‹åˆ»è¿›å…¥é«˜ä»·å€¼ç©æ³•ï¼Œè€Œæ˜¯åˆ†æ‰¹è§£é”ã€‚**

#### æŠ€æœ¯å®ç°ï¼ˆç¤ºæ„ï¼‰

```javascript
// 1. ç§¯åˆ†è§£é”çŠ¶æ€è¡¨ï¼ˆéœ€è¦æ–°å¢è¡¨ï¼‰
CREATE TABLE points_unlock_schedule (
  schedule_id BIGINT PRIMARY KEY AUTO_INCREMENT,
  user_id INT NOT NULL,
  total_points INT NOT NULL COMMENT 'æ€»ç§¯åˆ†',
  unlocked_points INT DEFAULT 0 COMMENT 'å·²è§£é”ç§¯åˆ†',
  locked_points INT DEFAULT 0 COMMENT 'é”å®šç§¯åˆ†',
  unlock_conditions JSON COMMENT 'è§£é”æ¡ä»¶ï¼šæ—¶é—´/è¡Œä¸º/ä»»åŠ¡',
  created_at DATETIME,
  updated_at DATETIME
);

// 2. è§£é”æ¡ä»¶ç¤ºä¾‹
const UNLOCK_CONDITIONS = {
  immediate: 400,  // ç«‹å³è§£é”400ç§¯åˆ†
  after_3_visits: 300,  // 3æ¬¡åˆ°åº—åè§£é”300ç§¯åˆ†
  after_7_days: 300  // 7å¤©åè§£é”300ç§¯åˆ†
}

// 3. æŠ½å¥–å‰æ£€æŸ¥å¯ç”¨ç§¯åˆ†
async function getAvailablePoints(userId) {
  const schedule = await PointsUnlockSchedule.findOne({ where: { user_id: userId } })
  
  // æ£€æŸ¥æ—¶é—´æ¡ä»¶
  // æ£€æŸ¥è¡Œä¸ºæ¡ä»¶
  // è®¡ç®—å½“å‰å¯ç”¨ç§¯åˆ†
  
  return schedule.unlocked_points
}
```

#### æŠ€æœ¯è¯„ä¼°

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| æŠ€æœ¯å€ºåŠ¡ | â­â­ | éœ€è¦å¤šä¸€å±‚"è§£é”çŠ¶æ€"çš„çŠ¶æ€æœº |
| ä»£ç å¤æ‚åº¦ | â­â­ | çŠ¶æ€æœºé€»è¾‘å¤æ‚ï¼Œéœ€è¦å¤„ç†å¤šç§è§£é”æ¡ä»¶ |
| ç»´æŠ¤æˆæœ¬ | â­â­ | æ”¹è§„åˆ™ä¼šæ¶‰åŠå†å²æ•°æ®é‡ç®— |
| æ–°äººå­¦ä¹ æˆæœ¬ | â­â­ | æ–°äººè¦ç†è§£"é”å®š/è§£é”"çš„å®Œæ•´é“¾è·¯ |
| é‡æ„éš¾åº¦ | â­â­ | ä¸€æ—¦ä¸Šçº¿ï¼ŒåæœŸæ”¹è§„åˆ™ä¼šæœ‰æ•°æ®è¿ç§»é—®é¢˜ |
| é•¿æœŸå€ºåŠ¡ç´¯ç§¯ | â­â­ | å®¹æ˜“ç§¯ç´¯æŠ€æœ¯å€ºå’Œè„æ•°æ® |
| æ•°æ®åº“æ€§èƒ½ | â­â­â­ | å¤šå‡ºä¸å°‘"æŒ‰æ—¶é—´å’ŒçŠ¶æ€è¿‡æ»¤"çš„æŸ¥è¯¢ |
| ä¸šåŠ¡è¯­ä¹‰ | â­â­ | å¯¹ç”¨æˆ·å’Œè¿è¥éƒ½ä¸ç›´è§‚ |
| æ–‡æ¡£ä¾èµ–åº¦ | â­â­ | éœ€è¦å¤§é‡æ–‡æ¡£è§£é‡Š"ä¸ºä»€ä¹ˆæˆ‘æœ‰ç§¯åˆ†å´ä¸èƒ½ç”¨" |

**ç»¼åˆè¯„åˆ†ï¼šâ­â­ï¼ˆä¸æ¨èï¼ŒæŠ€æœ¯å€ºåŠ¡é«˜ï¼‰**

---

### æ–¹æ¡ˆå››ï¼šè™šæ‹Ÿä»·å€¼ + å…‘æ¢å•†åŸ"æ…¢æ…¢å‡‘"ï¼ˆå¯é€‰ â­â­â­ï¼‰

#### æ ¸å¿ƒæ€è·¯

**æŠ½å¥–ä¸»å‘è™šæ‹Ÿä»·å€¼ï¼ˆ`virtual_value_points`ï¼‰ï¼Œå¤§é¢å®ç‰©è¦æ”’å¤Ÿè™šæ‹Ÿä»·å€¼æ‰æ¢ï¼Œå¤©ç„¶éœ€è¦å¤šæ¬¡å‚ä¸ã€‚**

#### æŠ€æœ¯å®ç°ï¼ˆé¡¹ç›®å·²æœ‰éƒ¨åˆ†å®ç°ï¼‰

```javascript
// 1. æŠ½å¥–å¥–å“é…ç½®ï¼ˆä¼˜å…ˆå‘æ”¾è™šæ‹Ÿä»·å€¼ï¼‰
const PRIZE_DISTRIBUTION = {
  high_frequency: [
    { name: '10ä¸ªæ°´æ™¶', type: 'virtual', virtual_value_points: 10, probability: 0.4 },
    { name: '50ä¸ªæ°´æ™¶', type: 'virtual', virtual_value_points: 50, probability: 0.2 },
    { name: 'è°¢è°¢å‚ä¸', type: 'empty', virtual_value_points: 0, probability: 0.3 }
  ],
  low_frequency: [
    { name: '100å…ƒçº¢åŒ…', type: 'direct', prize_value_points: 100, probability: 0.08 },
    { name: '500è™šæ‹Ÿä»·å€¼', type: 'virtual', virtual_value_points: 500, probability: 0.02 }
  ]
}

// 2. å…‘æ¢å•†åŸå•†å“é…ç½®ï¼ˆé«˜ä»·å€¼å•†å“éœ€è¦å¤§é‡è™šæ‹Ÿä»·å€¼ï¼‰
const EXCHANGE_ITEMS = [
  {
    name: 'å°é¢ä¼˜æƒ åˆ¸',
    virtual_value_price: 100,  // éœ€è¦100è™šæ‹Ÿä»·å€¼
    cost_price: 10  // å®é™…æˆæœ¬10å…ƒ
  },
  {
    name: 'iPhone 15',
    virtual_value_price: 5000,  // éœ€è¦5000è™šæ‹Ÿä»·å€¼ï¼ˆéœ€è¦å¤šæ¬¡æŠ½å¥–ç§¯ç´¯ï¼‰
    cost_price: 5000  // å®é™…æˆæœ¬5000å…ƒ
  },
  {
    name: 'æ··åˆæ”¯ä»˜å•†å“',
    virtual_value_price: 300,  // éœ€è¦300è™šæ‹Ÿä»·å€¼
    points_price: 200,  // éœ€è¦200æ™®é€šç§¯åˆ†
    cost_price: 100  // å®é™…æˆæœ¬100å…ƒ
  }
]

// 3. ç”¨æˆ·è™šæ‹Ÿä»·å€¼æŸ¥è¯¢ï¼ˆå·²æœ‰å®ç°ï¼‰
async function getUserTotalVirtualValue(userId) {
  const result = await UserInventory.sum('virtual_value_points', {
    where: {
      user_id: userId,
      item_type: 'prize',
      status: 'available',
      virtual_value_points: { [Op.gt]: 0 }
    }
  })
  
  return result || 0
}
```

#### ç”¨æˆ·æ„ŸçŸ¥

- âœ… ä¼šè§‰å¾—"æˆ‘å·²ç»æ”’äº†Xè™šæ‹Ÿä»·å€¼ï¼Œä¸‹æ¬¡å†æ¥å¤šç©å‡ æ¬¡å°±èƒ½æ¢æ‰‹æœº/å¤§ç¤¼å“"ï¼Œæ‹‰åŠ¨å¤è´­
- âš ï¸ éœ€è¦æ–‡æ¡£/é¡µé¢æ¸…æ¥šå±•ç¤ºè™šæ‹Ÿä»·å€¼çš„ç”¨é€”å’Œå…‘æ¢è§„åˆ™

#### æŠ€æœ¯è¯„ä¼°

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| æŠ€æœ¯å€ºåŠ¡ | â­â­â­ | éœ€è¦ä¸€æ•´æ¡"è™šæ‹Ÿä»·å€¼æµ" |
| ä»£ç å¤æ‚åº¦ | â­â­â­ | æŠ½å¥–äº§å‡º â†’ èƒŒåŒ…ç´¯ç§¯ â†’ å•†åŸå…‘æ¢ â†’ æˆæœ¬ç»“ç®— |
| ç»´æŠ¤æˆæœ¬ | â­â­â­ | è™šæ‹Ÿä»·å€¼å¤§é‡å‘è¡Œåï¼Œæ”¹è§„åˆ™è¿ç§»éº»çƒ¦ |
| æ–°äººå­¦ä¹ æˆæœ¬ | â­â­ | è¦ç†è§£"æ™®é€šç§¯åˆ†/é¢„ç®—ç§¯åˆ†/è™šæ‹Ÿä»·å€¼/å…‘æ¢ä»·æ ¼"å››å¥—æ¦‚å¿µ |
| é‡æ„éš¾åº¦ | â­â­â­ | ä¸€æ—¦è™šæ‹Ÿä»·å€¼å¤§é‡å‘è¡Œï¼Œè¿ç§»å’Œå…¼å®¹ä¼šæ¯”è¾ƒéº»çƒ¦ |
| é•¿æœŸå€ºåŠ¡ç´¯ç§¯ | â­â­â­ | ä¸­ç­‰ç¨‹åº¦çš„æŠ€æœ¯å€º |
| æ•°æ®åº“æ€§èƒ½ | â­â­â­ | è™šæ‹Ÿä»·å€¼æŒ‰æ˜ç»†å­˜ï¼ŒèšåˆæŸ¥è¯¢é‡ä¼šæ¯”è¾ƒå¤§ |
| ä¸šåŠ¡è¯­ä¹‰ | â­â­â­ | æ¸¸æˆç”¨æˆ·ç†Ÿæ‚‰ï¼Œä½†é¤é¥®ç”¨æˆ·éœ€è¦æ–‡æ¡£è¯´æ˜ |
| æ–‡æ¡£ä¾èµ–åº¦ | â­â­â­ | éœ€è¦æ–‡æ¡£è¯´æ˜è™šæ‹Ÿä»·å€¼çš„æ¦‚å¿µå’Œç”¨é€” |

**ç»¼åˆè¯„åˆ†ï¼šâ­â­â­ï¼ˆå¦‚æœå·²æœ‰å®ç°å¯ä»¥ç”¨ï¼Œä½†ä¸æ˜¯æœ€è½»çš„æ–¹æ¡ˆï¼‰**

---

### æ–¹æ¡ˆäº”ï¼šç­‰çº§æˆé•¿ + é•¿æœŸæƒç›Šï¼ˆå¯é€‰ â­â­â­â­ï¼‰

#### æ ¸å¿ƒæ€è·¯

**è®©ç”¨æˆ·æ„è¯†åˆ°"ç°åœ¨å°±ç®—æŠŠç§¯åˆ†ç”¨å…‰äº†ï¼Œä¹Ÿåˆ«èµ°ï¼Œç­‰çº§å’Œé•¿æœŸæƒç›Šè¿˜åœ¨æ¶¨"ã€‚**

#### æŠ€æœ¯å®ç°

```javascript
// 1. ç­‰çº§æƒç›Šé…ç½®ï¼ˆåœ¨æ–¹æ¡ˆä¸€åŸºç¡€ä¸Šæ‰©å±•ï¼‰
const USER_LEVEL_BENEFITS = {
  BRONZE: {
    level: 1,
    name: 'é’é“œä¼šå‘˜',
    min_total_earned: 0,
    benefits: {
      budget_ratio: 0.24,  // é¢„ç®—ç³»æ•°
      prize_pools: ['basic'],
      exchange_discount: 1.0,  // å•†åŸå•†å“æ— æŠ˜æ‰£
      special_privileges: []
    }
  },
  SILVER: {
    level: 2,
    name: 'ç™½é“¶ä¼šå‘˜',
    min_total_earned: 500,
    benefits: {
      budget_ratio: 0.26,  // é¢„ç®—ç³»æ•°æå‡ï¼ˆåŒæ ·æ¶ˆè´¹ï¼Œé¢„ç®—ç§¯åˆ†æ›´å¤šï¼‰
      prize_pools: ['basic', 'advanced'],
      exchange_discount: 0.95,  // å•†åŸå•†å“95æŠ˜
      special_privileges: ['ç”Ÿæ—¥ç¤¼åŒ…']
    }
  },
  GOLD: {
    level: 3,
    name: 'é»„é‡‘ä¼šå‘˜',
    min_total_earned: 2000,
    benefits: {
      budget_ratio: 0.28,
      prize_pools: ['basic', 'advanced', 'premium'],
      exchange_discount: 0.90,  // å•†åŸå•†å“9æŠ˜
      special_privileges: ['ç”Ÿæ—¥ç¤¼åŒ…', 'ä¸“å±å®¢æœ', 'ä¼˜å…ˆå‘è´§']
    }
  },
  PLATINUM: {
    level: 4,
    name: 'é“‚é‡‘ä¼šå‘˜',
    min_total_earned: 5000,
    benefits: {
      budget_ratio: 0.30,
      prize_pools: ['basic', 'advanced', 'premium', 'exclusive'],
      exchange_discount: 0.85,  // å•†åŸå•†å“85æŠ˜
      special_privileges: ['ç”Ÿæ—¥ç¤¼åŒ…', 'ä¸“å±å®¢æœ', 'ä¼˜å…ˆå‘è´§', 'ä¸“å±æ´»åŠ¨']
    }
  }
}

// 2. æ¶ˆè´¹æ—¶åŠ¨æ€åˆ†é…é¢„ç®—ç§¯åˆ†ï¼ˆæ ¹æ®ç­‰çº§ï¼‰
async function allocateBudgetByLevel(userId, consumeAmount) {
  const userAccount = await UserPointsAccount.findOne({ where: { user_id: userId } })
  const userLevel = getUserLevelByTotalEarned(userAccount.total_earned)
  
  // æ ¹æ®ç­‰çº§ä½¿ç”¨ä¸åŒçš„é¢„ç®—ç³»æ•°
  const budgetRatio = userLevel.benefits.budget_ratio
  const budgetPoints = Math.round(consumeAmount * budgetRatio)
  
  console.log(`ç”¨æˆ·ç­‰çº§: ${userLevel.name}, é¢„ç®—ç³»æ•°: ${budgetRatio}, åˆ†é…é¢„ç®—: ${budgetPoints}`)
  
  return budgetPoints
}

// 3. å•†åŸå…‘æ¢æ—¶åº”ç”¨ç­‰çº§æŠ˜æ‰£
async function applyLevelDiscount(userId, originalPrice) {
  const userAccount = await UserPointsAccount.findOne({ where: { user_id: userId } })
  const userLevel = getUserLevelByTotalEarned(userAccount.total_earned)
  
  const discount = userLevel.benefits.exchange_discount
  const finalPrice = Math.round(originalPrice * discount)
  
  console.log(`åŸä»·: ${originalPrice}, ç­‰çº§æŠ˜æ‰£: ${discount}, å®ä»˜: ${finalPrice}`)
  
  return finalPrice
}
```

#### ç”¨æˆ·æ„ŸçŸ¥

- âœ… å½¢æˆ"æˆ‘å·²ç»æ˜¯é‡‘å¡ï¼Œå†æ¥å‡ æ¬¡å°±åˆ°é»‘é‡‘"çš„å¿ƒæ™ºï¼Œæ¯”å•æ¬¡ç§¯åˆ†æœ¬èº«é‡è¦
- âœ… é•¿æœŸæƒç›Šï¼ˆæ›´é«˜é¢„ç®—ç³»æ•°ã€å•†åŸæŠ˜æ‰£ã€ä¸“å±æ´»åŠ¨ï¼‰è®©ç”¨æˆ·æœ‰æŒç»­å‡çº§çš„åŠ¨åŠ›

#### æŠ€æœ¯è¯„ä¼°

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| æŠ€æœ¯å€ºåŠ¡ | â­â­â­â­ | åœ¨æ–¹æ¡ˆä¸€åŸºç¡€ä¸Šå¤šä¸€å±‚"é•¿æœŸæƒç›Š" |
| ä»£ç å¤æ‚åº¦ | â­â­â­â­ | éœ€è¦ç­‰çº§è§„åˆ™è¡¨ã€æƒç›Šé…ç½®è¡¨ |
| ç»´æŠ¤æˆæœ¬ | â­â­â­ | ç­‰çº§ä½“ç³»ä¸Šçº¿åï¼Œå˜æ›´éœ€è¦è°¨æ…ï¼ˆè€ç”¨æˆ·æƒç›Šæ”¶ç¼©ä¼šæœ‰æŠ•è¯‰ï¼‰ |
| æ–°äººå­¦ä¹ æˆæœ¬ | â­â­â­â­ | ç”¨æˆ·å¤§è‡´èƒ½ç†è§£"ç­‰çº§è¶Šé«˜è¶Šå¥½" |
| é‡æ„éš¾åº¦ | â­â­â­ | ç­‰çº§ä½“ç³»ä¸€æ—¦ä¸Šçº¿ï¼Œåç»­å…¼å®¹/å˜æ›´æ—¶è¦è°¨æ… |
| é•¿æœŸå€ºåŠ¡ç´¯ç§¯ | â­â­â­ | ä¸­ç­‰ç¨‹åº¦çš„æŠ€æœ¯å€º |
| æ•°æ®åº“æ€§èƒ½ | â­â­â­â­ | æ•°æ®ç»“æ„ä»¥"ç”¨æˆ·ç­‰çº§ + é…ç½®è¡¨"ä¸ºä¸»ï¼Œä¸ç®—é‡ |
| ä¸šåŠ¡è¯­ä¹‰ | â­â­â­â­ | ç”¨æˆ·èƒ½ç†è§£ï¼Œä½†å…·ä½“æƒç›Šéœ€è¦æ–‡æ¡£å±•ç¤º |
| æ–‡æ¡£ä¾èµ–åº¦ | â­â­â­ | éœ€è¦æ–‡æ¡£/é¡µé¢æ¸…æ¥šå±•ç¤ºç­‰çº§æƒç›Š |

**ç»¼åˆè¯„åˆ†ï¼šâ­â­â­â­ï¼ˆæ¯”æ–¹æ¡ˆä¸€å¤šä¸€å±‚å¤æ‚åº¦ï¼Œä½†é•¿æœŸä»·å€¼é«˜ï¼‰**

---

## ğŸ¯ æœ€ç»ˆæ¨èæ–¹æ¡ˆ

### é¦–é€‰æ–¹æ¡ˆç»„åˆï¼šæ–¹æ¡ˆä¸€ + æ–¹æ¡ˆäºŒ

**æ–¹æ¡ˆä¸€ï¼ˆé«˜ä»·å€¼å¥–å“ç»‘å®šç­‰çº§ï¼‰+ æ–¹æ¡ˆäºŒï¼ˆæ¯æ—¥æŠ½å¥–æ¬¡æ•°ä¸Šé™ï¼‰**

#### ä¸ºä»€ä¹ˆé€‰è¿™ä¸ªç»„åˆï¼Ÿ

1. **æ–¹æ¡ˆä¸€è´Ÿè´£"ä»·å€¼å‘é•¿æœŸå€¾æ–œ"**
   - æƒ³è¦å¥½å¥–å¾—é•¿æœŸæ¥
   - æŠ€æœ¯å®ç°æœ€ç®€å•ï¼ˆåªéœ€ä¸€ä¸ªç­‰çº§åˆ¤æ–­ï¼‰
   - ä¸šåŠ¡è¯­ä¹‰æœ€æ¸…æ™°ï¼ˆæ¶ˆè´¹è¶Šå¤šç­‰çº§è¶Šé«˜ï¼‰

2. **æ–¹æ¡ˆäºŒè´Ÿè´£"é˜²å½“æ™šæ¢­å“ˆçˆ†æŠ½"**
   - ä½†ä¸ä¼šè®©äººè§‰å¾—è¢«ç©å¼„ï¼Œå› ä¸ºæ¬¡æ•°ä¸Šé™å¾ˆç›´è§‚
   - å®ç°æˆæœ¬æä½ï¼ˆåªæ˜¯è®¡æ•°åˆ¤æ–­ï¼‰
   - ç¬¦åˆç›‘ç®¡è¦æ±‚ï¼ˆé˜²æ²‰è¿·ï¼‰

#### ç»¼åˆä¼˜åŠ¿

| ç»´åº¦ | è¯„ä¼° |
|------|------|
| æŠ€æœ¯å€ºåŠ¡ | â­â­â­â­â­ æä½ |
| ä»£ç å¤æ‚åº¦ | â­â­â­â­â­ æä½ï¼ˆä¸¤ä¸ªæ–¹æ¡ˆåŠ èµ·æ¥ä¸è¶…è¿‡100è¡Œæ ¸å¿ƒä»£ç ï¼‰ |
| ç»´æŠ¤æˆæœ¬ | â­â­â­â­â­ æä½ï¼ˆéƒ½æ˜¯é…ç½®é©±åŠ¨ï¼‰ |
| æ–°äººå­¦ä¹ æˆæœ¬ | â­â­â­â­â­ æä½ï¼ˆè¯­ä¹‰ç›´è§‚ï¼‰ |
| é‡æ„éš¾åº¦ | â­â­â­â­â­ æä½ï¼ˆåªæ˜¯æ”¹é…ç½®ï¼‰ |
| é•¿æœŸå€ºåŠ¡ç´¯ç§¯ | â­â­â­â­â­ æä½ï¼ˆå‡ ä¹ä¸ä¼šç§¯ç´¯æŠ€æœ¯å€ºï¼‰ |
| æ•°æ®åº“æ€§èƒ½ | â­â­â­â­â­ æå¥½ï¼ˆæŸ¥è¯¢ç®€å•ï¼‰ |
| ä¸šåŠ¡è¯­ä¹‰ | â­â­â­â­â­ æå¥½ï¼ˆä¸€å¥è¯è¯´æ¸…æ¥šï¼‰ |
| æ–‡æ¡£ä¾èµ–åº¦ | â­â­â­â­â­ æä½ï¼ˆåªéœ€ä¸€å¼ ç­‰çº§æƒç›Šè¡¨ï¼‰ |

---

## ğŸ“ å®æ–½æ–¹æ¡ˆè¯¦ç»†è®¾è®¡

### é˜¶æ®µä¸€ï¼šæ•°æ®åº“æ”¹åŠ¨ï¼ˆæœ€å°æ”¹åŠ¨ï¼‰

```sql
-- 1. åœ¨ lottery_prizes è¡¨ä¸­æ–°å¢å¥–æ± ç±»å‹å­—æ®µ
ALTER TABLE lottery_prizes
ADD COLUMN prize_pool_type ENUM('basic', 'advanced', 'premium', 'exclusive') 
    DEFAULT 'basic'
    COMMENT 'å¥–æ± ç±»å‹ï¼šåŸºç¡€/è¿›é˜¶/é«˜çº§/ä¸“å±',
ADD INDEX idx_prize_pool_type (prize_pool_type);

-- 2. å¯é€‰ï¼šåœ¨ user_points_accounts è¡¨ä¸­å†—ä½™"ä»Šæ—¥æŠ½å¥–æ¬¡æ•°"å­—æ®µï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
ALTER TABLE user_points_accounts
ADD COLUMN today_draw_count INT DEFAULT 0 COMMENT 'ä»Šæ—¥æŠ½å¥–æ¬¡æ•°ï¼ˆæ¯æ—¥0ç‚¹é‡ç½®ï¼‰',
ADD COLUMN last_draw_date DATE COMMENT 'æœ€åæŠ½å¥–æ—¥æœŸ';

-- 3. åˆ›å»ºç­‰çº§é…ç½®è¡¨ï¼ˆå¯é€‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å†™åœ¨ä»£ç é…ç½®ä¸­ï¼‰
CREATE TABLE user_level_config (
  level_id INT PRIMARY KEY AUTO_INCREMENT,
  level_code VARCHAR(20) NOT NULL UNIQUE COMMENT 'ç­‰çº§ä»£ç ï¼šBRONZE/SILVER/GOLD/PLATINUM',
  level_name VARCHAR(50) NOT NULL COMMENT 'ç­‰çº§åç§°ï¼šé’é“œ/ç™½é“¶/é»„é‡‘/é“‚é‡‘',
  min_total_earned INT NOT NULL COMMENT 'æœ€ä½ç´¯è®¡æ¶ˆè´¹',
  max_total_earned INT NOT NULL COMMENT 'æœ€é«˜ç´¯è®¡æ¶ˆè´¹',
  available_prize_pools JSON COMMENT 'å¯ç”¨å¥–æ± ï¼š["basic","advanced"]',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_total_earned_range (min_total_earned, max_total_earned)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·ç­‰çº§é…ç½®è¡¨';

-- æ’å…¥åˆå§‹ç­‰çº§é…ç½®
INSERT INTO user_level_config (level_code, level_name, min_total_earned, max_total_earned, available_prize_pools) VALUES
('BRONZE', 'é’é“œä¼šå‘˜', 0, 499, '["basic"]'),
('SILVER', 'ç™½é“¶ä¼šå‘˜', 500, 1999, '["basic","advanced"]'),
('GOLD', 'é»„é‡‘ä¼šå‘˜', 2000, 4999, '["basic","advanced","premium"]'),
('PLATINUM', 'é“‚é‡‘ä¼šå‘˜', 5000, 999999999, '["basic","advanced","premium","exclusive"]');
```

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘å®ç°

#### 1. ç”¨æˆ·ç­‰çº§æœåŠ¡ï¼ˆUserLevelService.jsï¼‰

```javascript
/**
 * ç”¨æˆ·ç­‰çº§æœåŠ¡
 * è´Ÿè´£ç”¨æˆ·ç­‰çº§è®¡ç®—å’Œæƒç›ŠæŸ¥è¯¢
 */
class UserLevelService {
  /**
   * è·å–ç”¨æˆ·å½“å‰ç­‰çº§
   * @param {number} userId - ç”¨æˆ·ID
   * @returns {Object} ç”¨æˆ·ç­‰çº§ä¿¡æ¯
   */
  static async getUserLevel(userId) {
    // æŸ¥è¯¢ç”¨æˆ·ç´¯è®¡æ¶ˆè´¹
    const userAccount = await UserPointsAccount.findOne({
      where: { user_id: userId },
      attributes: ['total_earned']
    })
    
    if (!userAccount) {
      throw new Error('ç”¨æˆ·ç§¯åˆ†è´¦æˆ·ä¸å­˜åœ¨')
    }
    
    const totalEarned = userAccount.total_earned
    
    // æŸ¥è¯¢ç­‰çº§é…ç½®ï¼ˆä»æ•°æ®åº“æˆ–ç¼“å­˜ï¼‰
    const levelConfig = await UserLevelConfig.findOne({
      where: {
        min_total_earned: { [Op.lte]: totalEarned },
        max_total_earned: { [Op.gte]: totalEarned }
      }
    })
    
    if (!levelConfig) {
      // é™çº§åˆ°æœ€ä½ç­‰çº§
      return await UserLevelConfig.findOne({
        where: { level_code: 'BRONZE' }
      })
    }
    
    return levelConfig
  }
  
  /**
   * è·å–ç”¨æˆ·å¯ç”¨å¥–æ± åˆ—è¡¨
   * @param {number} userId - ç”¨æˆ·ID
   * @returns {Array<string>} å¥–æ± ç±»å‹åˆ—è¡¨
   */
  static async getUserAvailablePrizePools(userId) {
    const userLevel = await this.getUserLevel(userId)
    return JSON.parse(userLevel.available_prize_pools)
  }
  
  /**
   * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å¯ä»¥è¿›å…¥æŒ‡å®šå¥–æ± 
   * @param {number} userId - ç”¨æˆ·ID
   * @param {string} prizePoolType - å¥–æ± ç±»å‹
   * @returns {boolean} æ˜¯å¦å¯ä»¥è¿›å…¥
   */
  static async canAccessPrizePool(userId, prizePoolType) {
    const availablePools = await this.getUserAvailablePrizePools(userId)
    return availablePools.includes(prizePoolType)
  }
}

module.exports = UserLevelService
```

#### 2. æŠ½å¥–æ¬¡æ•°é™åˆ¶æœåŠ¡ï¼ˆDrawLimitService.jsï¼‰

```javascript
/**
 * æŠ½å¥–æ¬¡æ•°é™åˆ¶æœåŠ¡
 * è´Ÿè´£æ¯æ—¥æŠ½å¥–æ¬¡æ•°çš„æ£€æŸ¥å’Œè®°å½•
 */
class DrawLimitService {
  /**
   * æ£€æŸ¥ç”¨æˆ·ä»Šæ—¥æŠ½å¥–æ¬¡æ•°æ˜¯å¦è¶…é™
   * @param {number} userId - ç”¨æˆ·ID
   * @returns {Object} æ£€æŸ¥ç»“æœ
   */
  static async checkDailyDrawLimit(userId) {
    const config = {
      enabled: true,
      max_draws_per_day: 10
    }
    
    if (!config.enabled) {
      return { allowed: true, remaining: Infinity }
    }
    
    // æ–¹æ¡ˆAï¼šä» user_points_accounts å†—ä½™å­—æ®µè¯»å–ï¼ˆæ€§èƒ½ä¼˜ï¼‰
    const userAccount = await UserPointsAccount.findOne({
      where: { user_id: userId },
      attributes: ['today_draw_count', 'last_draw_date']
    })
    
    const today = new Date().toISOString().split('T')[0]
    
    // æ£€æŸ¥æ˜¯å¦éœ€è¦é‡ç½®è®¡æ•°
    if (userAccount.last_draw_date !== today) {
      await userAccount.update({
        today_draw_count: 0,
        last_draw_date: today
      })
      userAccount.today_draw_count = 0
    }
    
    // æ£€æŸ¥æ˜¯å¦è¶…é™
    if (userAccount.today_draw_count >= config.max_draws_per_day) {
      throw new Error(
        `ä»Šæ—¥æŠ½å¥–æ¬¡æ•°å·²ç”¨å®Œï¼ˆ${userAccount.today_draw_count}/${config.max_draws_per_day}ï¼‰ï¼Œ` +
        `ç§¯åˆ†å·²ä¿ç•™ï¼Œæ˜å¤©å†æ¥å¯ç»§ç»­ç©`
      )
    }
    
    return {
      allowed: true,
      remaining: config.max_draws_per_day - userAccount.today_draw_count,
      current: userAccount.today_draw_count
    }
  }
  
  /**
   * å¢åŠ ç”¨æˆ·ä»Šæ—¥æŠ½å¥–æ¬¡æ•°
   * @param {number} userId - ç”¨æˆ·ID
   * @param {Transaction} transaction - äº‹åŠ¡å¯¹è±¡
   */
  static async incrementDailyDrawCount(userId, transaction) {
    await UserPointsAccount.increment(
      { today_draw_count: 1 },
      { where: { user_id: userId }, transaction }
    )
  }
}

module.exports = DrawLimitService
```

#### 3. é›†æˆåˆ°æŠ½å¥–æœåŠ¡ï¼ˆLotteryService.jsï¼‰

```javascript
/**
 * æŠ½å¥–æœåŠ¡ï¼ˆé›†æˆç­‰çº§å’Œæ¬¡æ•°é™åˆ¶ï¼‰
 */
class LotteryService {
  /**
   * æ‰§è¡ŒæŠ½å¥–
   * @param {number} userId - ç”¨æˆ·ID
   * @param {number} campaignId - æ´»åŠ¨ID
   * @returns {Object} æŠ½å¥–ç»“æœ
   */
  static async performDraw(userId, campaignId) {
    const transaction = await sequelize.transaction()
    
    try {
      // ========== æ­¥éª¤1ï¼šæ£€æŸ¥æ¯æ—¥æŠ½å¥–æ¬¡æ•° ==========
      const limitCheck = await DrawLimitService.checkDailyDrawLimit(userId)
      console.log(`ç”¨æˆ·${userId}ä»Šæ—¥å‰©ä½™æŠ½å¥–æ¬¡æ•°: ${limitCheck.remaining}`)
      
      // ========== æ­¥éª¤2ï¼šè·å–ç”¨æˆ·ç­‰çº§å’Œå¯ç”¨å¥–æ±  ==========
      const userLevel = await UserLevelService.getUserLevel(userId)
      const availablePools = JSON.parse(userLevel.available_prize_pools)
      console.log(`ç”¨æˆ·ç­‰çº§: ${userLevel.level_name}, å¯ç”¨å¥–æ± : ${availablePools.join(',')}`)
      
      // ========== æ­¥éª¤3ï¼šæŸ¥è¯¢ç”¨æˆ·é¢„ç®—ç§¯åˆ† ==========
      const userAccount = await UserPointsAccount.findOne({
        where: { user_id: userId },
        lock: transaction.LOCK.UPDATE,
        transaction
      })
      
      const remainingBudget = userAccount.remaining_budget_points
      console.log(`ç”¨æˆ·å‰©ä½™é¢„ç®—: ${remainingBudget}`)
      
      // ========== æ­¥éª¤4ï¼šæ ¹æ®ç­‰çº§å’Œé¢„ç®—ç­›é€‰å¥–å“æ±  ==========
      const prizes = await LotteryPrize.findAll({
        where: {
          campaign_id: campaignId,
          prize_pool_type: { [Op.in]: availablePools },  // ç­‰çº§é™åˆ¶
          prize_value_points: { [Op.lte]: remainingBudget },  // é¢„ç®—é™åˆ¶
          status: 'active'
        },
        transaction
      })
      
      if (prizes.length === 0) {
        throw new Error('å½“å‰æ²¡æœ‰å¯æŠ½å–çš„å¥–å“ï¼Œè¯·å‡çº§ä¼šå‘˜ç­‰çº§æˆ–ç­‰å¾…é¢„ç®—æ¢å¤')
      }
      
      // ========== æ­¥éª¤5ï¼šæ‰§è¡ŒæŠ½å¥–ç®—æ³• ==========
      const wonPrize = await this.selectPrizeByProbability(prizes)
      
      // ========== æ­¥éª¤6ï¼šæ‰£é™¤ç§¯åˆ†å’Œé¢„ç®— ==========
      await PointsService.consumePoints(userId, 100, {
        transaction,
        business_id: `lottery_draw_${Date.now()}`,
        business_type: 'lottery_draw',
        title: 'æŠ½å¥–æ¶ˆè€—',
        description: `å‚ä¸æŠ½å¥–æ´»åŠ¨ï¼Œæ¶ˆè€—100ç§¯åˆ†`
      })
      
      await userAccount.update({
        remaining_budget_points: remainingBudget - wonPrize.prize_value_points,
        used_budget_points: userAccount.used_budget_points + wonPrize.prize_value_points
      }, { transaction })
      
      // ========== æ­¥éª¤7ï¼šå¢åŠ ä»Šæ—¥æŠ½å¥–æ¬¡æ•° ==========
      await DrawLimitService.incrementDailyDrawCount(userId, transaction)
      
      // ========== æ­¥éª¤8ï¼šåˆ›å»ºæŠ½å¥–è®°å½• ==========
      const drawRecord = await LotteryDraw.create({
        user_id: userId,
        campaign_id: campaignId,
        prize_id: wonPrize.prize_id,
        prize_value_points: wonPrize.prize_value_points,
        budget_points_before: remainingBudget,
        budget_points_after: remainingBudget - wonPrize.prize_value_points,
        draw_time: BeijingTimeHelper.createDatabaseTime()
      }, { transaction })
      
      await transaction.commit()
      
      return {
        success: true,
        prize: wonPrize,
        draw_record: drawRecord,
        user_level: userLevel.level_name,
        remaining_draws_today: limitCheck.remaining - 1,
        remaining_budget: remainingBudget - wonPrize.prize_value_points
      }
    } catch (error) {
      await transaction.rollback()
      console.error('æŠ½å¥–å¤±è´¥:', error.message)
      throw error
    }
  }
  
  /**
   * æ ¹æ®æ¦‚ç‡é€‰æ‹©å¥–å“
   * @param {Array} prizes - å¥–å“åˆ—è¡¨
   * @returns {Object} ä¸­å¥–å¥–å“
   */
  static async selectPrizeByProbability(prizes) {
    // æ¦‚ç‡æŠ½å¥–ç®—æ³•ï¼ˆå·²æœ‰å®ç°ï¼‰
    // ...
  }
}

module.exports = LotteryService
```

### é˜¶æ®µä¸‰ï¼šå‰ç«¯å±•ç¤ºå’Œç”¨æˆ·å¼•å¯¼

#### 1. ç”¨æˆ·ç­‰çº§å±•ç¤ºï¼ˆå‰ç«¯é¡µé¢ï¼‰

```javascript
// ç”¨æˆ·ä¸­å¿ƒ - ç­‰çº§å±•ç¤º
{
  "current_level": {
    "level_code": "SILVER",
    "level_name": "ç™½é“¶ä¼šå‘˜",
    "current_total_earned": 1200,
    "progress_to_next_level": {
      "next_level": "é»„é‡‘ä¼šå‘˜",
      "required": 2000,
      "remaining": 800,
      "progress_percentage": 60
    }
  },
  "benefits": {
    "available_prize_pools": ["åŸºç¡€å¥–æ± ", "è¿›é˜¶å¥–æ± "],
    "daily_draw_limit": 10,
    "special_privileges": ["ç”Ÿæ—¥ç¤¼åŒ…"]
  },
  "upgrade_tips": "å†æ¶ˆè´¹800å…ƒå³å¯å‡çº§é»„é‡‘ä¼šå‘˜ï¼Œè§£é”é«˜çº§å¥–æ± ï¼"
}
```

#### 2. æŠ½å¥–é¡µé¢æç¤º

```javascript
// æŠ½å¥–é¡µé¢ - ç­‰çº§å’Œæ¬¡æ•°æç¤º
{
  "user_level": "ç™½é“¶ä¼šå‘˜",
  "available_pools": ["åŸºç¡€å¥–æ± ", "è¿›é˜¶å¥–æ± "],
  "locked_pools": [
    {
      "name": "é«˜çº§å¥–æ± ",
      "unlock_condition": "å‡çº§åˆ°é»„é‡‘ä¼šå‘˜ï¼ˆç´¯è®¡æ¶ˆè´¹2000å…ƒï¼‰"
    }
  ],
  "today_draws": {
    "used": 3,
    "remaining": 7,
    "total": 10,
    "reset_time": "æ˜å¤©00:00"
  },
  "tips": "ä»Šæ—¥è¿˜å¯æŠ½å¥–7æ¬¡ï¼Œå‡çº§åˆ°é»„é‡‘ä¼šå‘˜å¯è§£é”æ›´å¤šé«˜ä»·å€¼å¥–å“ï¼"
}
```

#### 3. æŠ½å¥–ç»“æœé¡µé¢å¼•å¯¼

```javascript
// æŠ½å¥–ç»“æœ - å‡çº§å¼•å¯¼
{
  "prize": {
    "name": "50å…ƒçº¢åŒ…",
    "type": "advanced"
  },
  "upgrade_guide": {
    "show": true,
    "message": "æ­å–œä¸­å¥–ï¼å‡çº§åˆ°é»„é‡‘ä¼šå‘˜å¯è§£é”æ›´å¤šé«˜ä»·å€¼å¥–å“",
    "progress": {
      "current_level": "ç™½é“¶ä¼šå‘˜",
      "next_level": "é»„é‡‘ä¼šå‘˜",
      "remaining_amount": 800
    }
  },
  "daily_limit_reminder": {
    "show": true,
    "message": "ä»Šæ—¥è¿˜å¯æŠ½å¥–6æ¬¡ï¼Œæ˜å¤©å†æ¥å¯ç»§ç»­ç©å“¦ï¼"
  }
}
```

---

## ğŸ“Š é¢„æœŸæ•ˆæœè¯„ä¼°

### ç”¨æˆ·è¡Œä¸ºé¢„æœŸå˜åŒ–

| æŒ‡æ ‡ | å½“å‰æƒ…å†µ | å®æ–½åé¢„æœŸ | æ”¹å–„å¹…åº¦ |
|------|---------|-----------|---------|
| å•æ¬¡æ¶ˆè´¹åå¤è´­ç‡ | 30% | 55% | +83% |
| å¹³å‡æ¶ˆè´¹é¢‘æ¬¡/æœˆ | 1.2æ¬¡ | 2.5æ¬¡ | +108% |
| ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼ˆLTVï¼‰ | 1500å…ƒ | 3500å…ƒ | +133% |
| é«˜ä»·å€¼ç”¨æˆ·å æ¯” | 15% | 35% | +133% |
| ç”¨æˆ·æ´»è·ƒç•™å­˜ç‡ï¼ˆ30å¤©ï¼‰ | 25% | 50% | +100% |

### æˆæœ¬æ§åˆ¶æ•ˆæœ

| ç»´åº¦ | è¯´æ˜ |
|------|------|
| å¥–å“æˆæœ¬ | âœ… ä¸å˜ï¼ˆä»ç”±é¢„ç®—ç§¯åˆ†æ§åˆ¶ï¼Œä¸Šé™ä¸å˜ï¼‰ |
| ç”¨æˆ·è·å¾—æ„Ÿ | â¬†ï¸ æå‡ï¼ˆç­‰çº§æå‡æœ‰æˆå°±æ„Ÿï¼Œé•¿æœŸæƒç›Šæ›´å¸å¼•ï¼‰ |
| å¹³å°æ”¶ç›Š | â¬†ï¸ æå‡ï¼ˆå¤è´­ç‡æå‡ï¼Œæ€»æ”¶å…¥å¢åŠ ï¼‰ |
| ROI | â¬†ï¸ æ˜¾è‘—æå‡ï¼ˆæˆæœ¬ä¸å˜ï¼Œæ”¶å…¥å¢åŠ ï¼‰ |

---

## ğŸš€ å®æ–½è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šMVPä¸Šçº¿ï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šéªŒè¯æ–¹æ¡ˆæœ‰æ•ˆæ€§ï¼Œå¿«é€Ÿä¸Šçº¿

**å®æ–½å†…å®¹**ï¼š
1. âœ… æ•°æ®åº“æ”¹åŠ¨ï¼ˆlottery_prizes æ–°å¢ prize_pool_type å­—æ®µï¼‰
2. âœ… å®ç°ç”¨æˆ·ç­‰çº§æœåŠ¡ï¼ˆUserLevelServiceï¼‰
3. âœ… å®ç°æŠ½å¥–æ¬¡æ•°é™åˆ¶æœåŠ¡ï¼ˆDrawLimitServiceï¼‰
4. âœ… é›†æˆåˆ°ç°æœ‰æŠ½å¥–æœåŠ¡
5. âœ… å‰ç«¯å±•ç¤ºç”¨æˆ·ç­‰çº§å’Œä»Šæ—¥å‰©ä½™æ¬¡æ•°

**éªŒè¯æŒ‡æ ‡**ï¼š
- ç”¨æˆ·å¯¹ç­‰çº§ç³»ç»Ÿçš„æ¥å—åº¦
- å¤è´­ç‡æ˜¯å¦æœ‰æå‡
- ç”¨æˆ·æŠ•è¯‰/åé¦ˆæƒ…å†µ

### ç¬¬äºŒé˜¶æ®µï¼šä¼˜åŒ–è¿­ä»£ï¼ˆ2-4å‘¨ï¼‰

**ç›®æ ‡**ï¼šæ ¹æ®æ•°æ®åé¦ˆä¼˜åŒ–å‚æ•°

**å®æ–½å†…å®¹**ï¼š
1. âœ… è°ƒæ•´ç­‰çº§é˜ˆå€¼ï¼ˆæ ¹æ®ç”¨æˆ·åˆ†å¸ƒï¼‰
2. âœ… ä¼˜åŒ–å¥–å“é…ç½®ï¼ˆä¸åŒå¥–æ± çš„å¥–å“åˆ†å¸ƒï¼‰
3. âœ… å¢åŠ ç­‰çº§å‡çº§å¼•å¯¼ï¼ˆå‰ç«¯ä¼˜åŒ–ï¼‰
4. âœ… æ·»åŠ ç­‰çº§æƒç›Šå±•ç¤ºé¡µé¢

**éªŒè¯æŒ‡æ ‡**ï¼š
- å„ç­‰çº§ç”¨æˆ·åˆ†å¸ƒæ˜¯å¦åˆç†
- é«˜ç­‰çº§ç”¨æˆ·çš„å¤è´­ç‡å’Œæ¶ˆè´¹é¢‘æ¬¡
- ç”¨æˆ·æ»¡æ„åº¦è°ƒæŸ¥

### ç¬¬ä¸‰é˜¶æ®µï¼šæ‰©å±•åŠŸèƒ½ï¼ˆå¯é€‰ï¼Œ4å‘¨+ï¼‰

**ç›®æ ‡**ï¼šå¢åŠ é•¿æœŸæƒç›Šï¼Œæå‡ç”¨æˆ·ç²˜æ€§

**å®æ–½å†…å®¹**ï¼š
1. âœ… ä¸åŒç­‰çº§çš„é¢„ç®—ç³»æ•°å·®å¼‚åŒ–ï¼ˆæ–¹æ¡ˆäº”ï¼‰
2. âœ… å•†åŸå•†å“çš„ç­‰çº§æŠ˜æ‰£
3. âœ… ä¸“å±æ´»åŠ¨å’Œç‰¹æƒ
4. âœ… ç­‰çº§å‹‹ç« å’Œç¤¾äº¤åˆ†äº«

---

## ğŸ“š é™„å½•ï¼šé…ç½®å‚è€ƒè¡¨

### ç­‰çº§é…ç½®å‚è€ƒ

| ç­‰çº§ | ç´¯è®¡æ¶ˆè´¹èŒƒå›´ | å¯ç”¨å¥–æ±  | æ¯æ—¥æŠ½å¥–æ¬¡æ•° | é¢„æœŸç”¨æˆ·å æ¯” |
|------|-------------|---------|-------------|-------------|
| é’é“œä¼šå‘˜ | 0-499å…ƒ | åŸºç¡€ | 10æ¬¡ | 50% |
| ç™½é“¶ä¼šå‘˜ | 500-1999å…ƒ | åŸºç¡€+è¿›é˜¶ | 10æ¬¡ | 30% |
| é»„é‡‘ä¼šå‘˜ | 2000-4999å…ƒ | åŸºç¡€+è¿›é˜¶+é«˜çº§ | 15æ¬¡ | 15% |
| é“‚é‡‘ä¼šå‘˜ | 5000å…ƒ+ | å…¨éƒ¨å¥–æ±  | 20æ¬¡ | 5% |

### å¥–å“æ± é…ç½®å‚è€ƒ

| å¥–æ± ç±»å‹ | å¥–å“ç¤ºä¾‹ | ä»·å€¼èŒƒå›´ | æ¦‚ç‡åˆ†å¸ƒ |
|---------|---------|---------|---------|
| åŸºç¡€å¥–æ±  | è°¢è°¢å‚ä¸ã€10æ°´æ™¶ã€å°é¢ä¼˜æƒ åˆ¸ | 0-50é¢„ç®—ç§¯åˆ† | é«˜é¢‘ï¼ˆ70%ï¼‰ |
| è¿›é˜¶å¥–æ±  | 50å…ƒçº¢åŒ…ã€100æ°´æ™¶ | 50-200é¢„ç®—ç§¯åˆ† | ä¸­é¢‘ï¼ˆ20%ï¼‰ |
| é«˜çº§å¥–æ±  | 200å…ƒçº¢åŒ…ã€500æ°´æ™¶ | 200-1000é¢„ç®—ç§¯åˆ† | ä½é¢‘ï¼ˆ8%ï¼‰ |
| ä¸“å±å¥–æ±  | iPhoneã€é«˜ä»·å€¼å®ç‰© | 1000+é¢„ç®—ç§¯åˆ† | ç¨€æœ‰ï¼ˆ2%ï¼‰ |

---

## ğŸ¯ æ€»ç»“

### æ ¸å¿ƒä¼˜åŠ¿

1. **æŠ€æœ¯å€ºåŠ¡æä½**ï¼šåªéœ€è¦ä¸€ä¸ªç­‰çº§åˆ¤æ–­ + ä¸€ä¸ªæ¬¡æ•°è®¡æ•°ï¼Œä»£ç ç®€å•æ¸…æ™°
2. **ä¸šåŠ¡è¯­ä¹‰æ¸…æ™°**ï¼šç”¨æˆ·ä¸€çœ‹å°±æ‡‚ï¼Œä¸éœ€è¦å¤æ‚æ–‡æ¡£è§£é‡Š
3. **ç»´æŠ¤æˆæœ¬ä½**ï¼šéƒ½æ˜¯é…ç½®é©±åŠ¨ï¼Œè°ƒæ•´å‚æ•°ä¸éœ€è¦æ”¹ä»£ç 
4. **é•¿æœŸå¯æŒç»­**ï¼šä¸ä¼šç§¯ç´¯æŠ€æœ¯å€ºï¼Œæ˜“äºæ‰©å±•å’Œä¼˜åŒ–

### å…³é”®æˆåŠŸå› ç´ 

1. **ç­‰çº§é˜ˆå€¼è®¾ç½®åˆç†**ï¼šæ ¹æ®ç”¨æˆ·æ¶ˆè´¹åˆ†å¸ƒè®¾ç½®ï¼Œç¡®ä¿å„ç­‰çº§ç”¨æˆ·å æ¯”åˆç†
2. **å¥–å“é…ç½®ç§‘å­¦**ï¼šä¸åŒå¥–æ± çš„å¥–å“ä»·å€¼å’Œæ¦‚ç‡è¦åŒ¹é…ç”¨æˆ·é¢„æœŸ
3. **å‰ç«¯å¼•å¯¼åˆ°ä½**ï¼šæ¸…æ¥šå±•ç¤ºç­‰çº§æƒç›Šå’Œå‡çº§è¿›åº¦ï¼Œæ¿€å‘ç”¨æˆ·å‡çº§æ¬²æœ›
4. **æ•°æ®ç›‘æ§åŠæ—¶**ï¼šæŒç»­ç›‘æ§å¤è´­ç‡ã€ç•™å­˜ç‡ç­‰æ ¸å¿ƒæŒ‡æ ‡ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥

### é£é™©æç¤º

1. **é¿å…ç­‰çº§é—¨æ§›è¿‡é«˜**ï¼šå¦‚æœå‡çº§å¤ªéš¾ï¼Œç”¨æˆ·ä¼šæ”¾å¼ƒ
2. **é¿å…æ¬¡æ•°é™åˆ¶è¿‡ä¸¥**ï¼šå¦‚æœæ¯æ—¥æ¬¡æ•°å¤ªå°‘ï¼Œç”¨æˆ·ä¼šè§‰å¾—è¢«é™åˆ¶
3. **é¿å…é«˜ç­‰çº§æƒç›Šä¸è¶³**ï¼šå¦‚æœé«˜ç­‰çº§æ²¡æœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼Œç”¨æˆ·æ²¡æœ‰å‡çº§åŠ¨åŠ›

---

**æ–‡æ¡£ç»“æŸ**

