# çœå¸‚åŒºçº§è”é€‰æ‹©åŠŸèƒ½è®¾è®¡æ–¹æ¡ˆ

**é¡¹ç›®**: é¤å…ç§¯åˆ†æŠ½å¥–ç³»ç»Ÿ V4.0  
**æ¨¡å—**: é—¨åº—ç®¡ç† - è¡Œæ”¿åŒºåˆ’çº§è”é€‰æ‹©  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-12  
**çŠ¶æ€**: å¾…å®æ–½

---

## ğŸ“‹ ç›®å½•

- [1. ä¸šåŠ¡èƒŒæ™¯](#1-ä¸šåŠ¡èƒŒæ™¯)
- [2. æ–¹æ¡ˆè®¾è®¡](#2-æ–¹æ¡ˆè®¾è®¡)
- [3. æ•°æ®åº“è®¾è®¡](#3-æ•°æ®åº“è®¾è®¡)
- [4. åç«¯APIè®¾è®¡](#4-åç«¯apiè®¾è®¡)
- [5. æ•°æ®æ¥æºä¸å¯¼å…¥](#5-æ•°æ®æ¥æºä¸å¯¼å…¥)
- [6. å®æ–½è®¡åˆ’](#6-å®æ–½è®¡åˆ’)

---

## 1. ä¸šåŠ¡èƒŒæ™¯

### 1.1 ç°çŠ¶é—®é¢˜

å½“å‰é—¨åº—ï¼ˆ`stores` è¡¨ï¼‰çš„åŒºåŸŸä¿¡æ¯å­˜å‚¨æ–¹å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

```javascript
// å½“å‰å­—æ®µè®¾è®¡
{
  region: "æµ·æ·€åŒº",           // âŒ è‡ªç”±æ–‡æœ¬ï¼Œå®¹æ˜“å‡ºç°è„æ•°æ®
  store_address: "å¾…å¡«å†™åœ°å€"  // âŒ å®Œå…¨æ‰‹å¡«ï¼Œæ ¼å¼ä¸ç»Ÿä¸€
}

// å®é™…å¯èƒ½å‡ºç°çš„è„æ•°æ®
region: "æµ·æ·€åŒº"
region: "æµ·æ·€"
region: "åŒ—äº¬æµ·æ·€"
region: "åŒ—äº¬å¸‚æµ·æ·€åŒº"
region: "Beijing Haidian"
```

**é—®é¢˜**ï¼š

1. **æ•°æ®ä¸ä¸€è‡´**ï¼šåŒä¸€åŒºåŸŸæœ‰å¤šç§å†™æ³•ï¼Œæ— æ³•å‡†ç¡®ç»Ÿè®¡å’Œç­›é€‰
2. **æ— æ³•ç´¢å¼•**ï¼šè‡ªç”±æ–‡æœ¬éš¾ä»¥å»ºç«‹æœ‰æ•ˆç´¢å¼•
3. **æ— æ³•çº§è”**ï¼šæ— æ³•æŒ‰"çœâ†’å¸‚â†’åŒº"å±‚çº§ç­›é€‰å’Œç»Ÿè®¡
4. **å®¹æ˜“å‡ºé”™**ï¼šæ‰‹å·¥è¾“å…¥å®¹æ˜“æ‹¼å†™é”™è¯¯æˆ–æ ¼å¼ä¸ç»Ÿä¸€

### 1.2 ä¸šåŠ¡éœ€æ±‚

1. **å¹³å°ç®¡ç†å‘˜**åœ¨åˆ›å»º/ç¼–è¾‘é—¨åº—æ—¶ï¼Œé€šè¿‡**çº§è”ä¸‹æ‹‰æ¡†**é€‰æ‹©"çœâ†’å¸‚â†’åŒº"
2. **åŒºåŸŸç»ç†/ä¸šåŠ¡å‘˜**æŒ‰åŒºåŸŸç­›é€‰é—¨åº—æ—¶ï¼Œå¯ä»¥æŒ‰çœ/å¸‚/åŒºä¸‰çº§ç­›é€‰
3. **æ•°æ®ç»Ÿè®¡**æ—¶ï¼Œå¯ä»¥æŒ‰çœ/å¸‚/åŒºç»´åº¦èšåˆé—¨åº—æ•°é‡ã€æ¶ˆè´¹è®°å½•ç­‰
4. **æ•°æ®è´¨é‡**ï¼šç¡®ä¿åŒºåŸŸä¿¡æ¯æ ‡å‡†åŒ–ã€å¯ç´¢å¼•ã€å¯ç»Ÿè®¡

---

## 2. æ–¹æ¡ˆè®¾è®¡

### 2.1 æ–¹æ¡ˆé€‰å‹ä¸å†³ç­–ä¾æ®

**æœ€ç»ˆé€‰å‹**ï¼š**æ ‡å‡†å­—å…¸ + code å­˜å‚¨ + ä¸šåŠ¡è¡¨å†—ä½™ name**

**é€‰å‹å¯¹æ¯”**ï¼š

| æ–¹æ¡ˆ          | é€‚ç”¨åœºæ™¯                 | ä¼˜åŠ¿                         | åŠ£åŠ¿                           | æœ¬é¡¹ç›®æ˜¯å¦é‡‡ç”¨ |
| ------------- | ------------------------ | ---------------------------- | ------------------------------ | -------------- |
| è‡ªç”±æ–‡æœ¬      | å°å‹é¡¹ç›®ã€å¿«é€ŸåŸå‹       | å¼€å‘å¿«ã€æ— ä¾èµ–               | è„æ•°æ®ã€æ— æ³•ç»Ÿè®¡ã€éš¾ç»´æŠ¤       | âŒ ä¸é‡‡ç”¨      |
| ç¬¬ä¸‰æ–¹API     | å¤–éƒ¨é›†æˆã€ä¸´æ—¶éœ€æ±‚       | æ— éœ€ç»´æŠ¤æ•°æ®                 | ä¾èµ–é…é¢ã€æˆæœ¬ã€ç½‘ç»œã€åˆè§„é£é™© | âŒ ä¸é‡‡ç”¨      |
| æ ‡å‡†å­—å…¸+code | ä¸­å¤§å‹é¡¹ç›®ã€éœ€è¦ç»Ÿè®¡åˆ†æ | æ ‡å‡†åŒ–ã€å¯ç´¢å¼•ã€å¯ç»Ÿè®¡ã€å¯æ§ | éœ€è¦ç»´æŠ¤å­—å…¸è¡¨                 | âœ… **é‡‡ç”¨**    |

**å†³ç­–ä¾æ®**ï¼ˆç»“åˆæœ¬é¡¹ç›®å®é™…æƒ…å†µï¼‰ï¼š

1. **ä¸šåŠ¡éœ€æ±‚æ˜ç¡®**ï¼šéœ€è¦æŒ‰çœ/å¸‚/åŒºç­›é€‰é—¨åº—ã€ç»Ÿè®¡æ¶ˆè´¹æ•°æ®ã€åˆ†é…åŒºåŸŸç»ç†
2. **æ•°æ®è´¨é‡ä¼˜å…ˆ**ï¼šå½“å‰ `region` å­—æ®µå·²å‡ºç°è„æ•°æ®ï¼Œå¿…é¡»æ ‡å‡†åŒ–
3. **æŠ€æœ¯æ ˆåŒ¹é…**ï¼šSequelize + MySQL + Node.js å®Œå…¨æ”¯æŒå­—å…¸è¡¨æ–¹æ¡ˆ
4. **æ— å†å²åŒ…è¢±**ï¼š**ä¸å…¼å®¹æ—§æ•°æ®ï¼Œç›´æ¥åˆ é™¤æ—§ `region` å­—æ®µ**ï¼Œæ— éœ€è¿‡æ¸¡æ–¹æ¡ˆ
5. **å¯æ§æ€§è¦æ±‚**ï¼šæ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ•°æ®åº“ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹APIé…é¢/ç½‘ç»œ
6. **æ‰©å±•æ€§éœ€æ±‚**ï¼šæœªæ¥å¯èƒ½éœ€è¦è¡—é“çº§ã€åœ°å›¾å±•ç¤ºã€åŒºåŸŸæƒé™éš”ç¦»

**å…³é”®å†³ç­–ï¼ˆå·²æ‹æ¿ï¼‰**ï¼š

| å†³ç­–é¡¹                 | å†³ç­–ç»“æœ                                   | è¯´æ˜                                                                            |
| ---------------------- | ------------------------------------------ | ------------------------------------------------------------------------------- |
| **å­—å…¸æ•°æ®æ¥æº**       | `modood/Administrative-divisions-of-China` | å”¯ä¸€æ•°æ®æºï¼ŒGitHub å¼€æºæ•°æ®é›†                                                   |
| **æ•°æ®èŒƒå›´å±‚çº§**       | level=1/2/3/4ï¼ˆçœ/å¸‚/åŒºå¿/è¡—é“ï¼‰           | **åŒ…å«è¡—é“/ä¹¡é•‡çº§åˆ«**ï¼Œæ”¯æŒæ›´ç»†ç²’åº¦é€‰æ‹©                                         |
| **å­—å…¸æ›´æ–°ç­–ç•¥**       | **ä¸Šçº¿åé»˜è®¤ä¸æ›´æ–°**                       | ä»…åœ¨è¡Œæ”¿åŒºåˆ’é‡å¤§è°ƒæ•´æ—¶æ‰‹å·¥æ›´æ–°ï¼Œé¿å…é¢‘ç¹å˜æ›´                                    |
| **å†—ä½™ name æ›´æ–°è§„åˆ™** | **é—¨åº—æ”¹åœ°å€/åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**      | ä¿®æ”¹é—¨åº—åŒºåŸŸæ—¶ï¼Œé‡æ–°ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶æ›´æ–°                            |
| **æ—§é—¨åº—æ•°æ®å¤„ç†**     | **ç›´æ¥æ¸…ç©º/åˆ é™¤ï¼Œä¸å¯¼å‡º**                  | è¿ç§»æ—¶ç›´æ¥åˆ é™¤æ—§æ•°æ®ï¼Œä¸ä¿ç•™ä»»ä½•å¤‡ä»½                                            |
| **é—¨åº—é‡å»ºæ•°æ®æ¥æº**   | **CSV/JSON æ–‡ä»¶æ‰¹é‡å¯¼å…¥**                  | æä¾›"é—¨åº—åˆ—è¡¨ + çœå¸‚åŒºè¡—é“ code + åœ°å€"æ–‡ä»¶ï¼Œåç«¯æ‰¹é‡å¯¼å…¥                       |
| **è¡—é“å­—æ®µæ˜¯å¦å¿…å¡«**   | **street_code/street_name å¿…å¡«**           | é—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“ï¼Œå¦åˆ™ä¸å…è®¸åˆ›å»º/å¯¼å…¥                                         |
| **å­—å…¸è¡¨å­—æ®µä¿ç•™**     | **ä¿ç•™æ‰©å±•å­—æ®µ**                           | ä¿ç•™ `pinyin/short_name/longitude/latitude/status/sort_order`ï¼ˆæ•°æ®æºç¼ºå°±ç½®ç©ºï¼‰ |
| **æ‰¹é‡å¯¼å…¥é‡å¤å¤„ç†**   | **é‡å¤ store_code ç›´æ¥æŠ¥é”™**               | ä¸¥æ ¼ç¦æ­¢é‡å¤ï¼Œè¦æ±‚ä¸šåŠ¡æ–¹å…ˆå»é‡                                                  |

**æ ¸å¿ƒè®¾è®¡åŸåˆ™**ï¼š

- âœ… **code ä¸ºä¸»é”®**ï¼š`province_code`/`city_code`/`district_code`/`street_code` ä½œä¸ºå…³è”å­—æ®µ
- âœ… **å†—ä½™ name**ï¼š`province_name`/`city_name`/`district_name`/`street_name` å†—ä½™å­˜å‚¨
- âœ… **name æ›´æ–°ç­–ç•¥**ï¼šé—¨åº—**ä¿®æ”¹åŒºåŸŸæ—¶**é‡æ–°ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶æ›´æ–°ï¼ˆéä¸¥æ ¼å¿«ç…§ï¼‰
- âœ… **å­—å…¸è¡¨ç‹¬ç«‹**ï¼š`administrative_regions` è¡¨ä½œä¸ºæ ‡å‡†å­—å…¸ï¼Œ**ä¸Šçº¿åé»˜è®¤ä¸æ›´æ–°**
- âœ… **å¼ºåˆ¶çº¦æŸ**ï¼šæ‰€æœ‰åŒºåˆ’å­—æ®µï¼ˆå« `street_code`/`street_name`ï¼‰å…¨éƒ¨ `NOT NULL`ï¼Œ**é—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“**
- âœ… **å­—å…¸è¡¨å­—æ®µ**ï¼šä¿ç•™ `pinyin/short_name/longitude/latitude/status/sort_order`ï¼ˆæ•°æ®æºç¼ºå°±ç½®ç©ºï¼‰
- âŒ **ä¸å…¼å®¹æ—§æ•°æ®**ï¼šç›´æ¥ `DROP COLUMN region`ï¼Œæ—§æ•°æ®**ç›´æ¥åˆ é™¤ä¸å¯¼å‡º**
- âŒ **æ‰¹é‡å¯¼å…¥é‡å¤**ï¼šåŒ `store_code` **ç›´æ¥æŠ¥é”™**ï¼Œä¸¥æ ¼ç¦æ­¢é‡å¤ï¼Œè¦æ±‚ä¸šåŠ¡æ–¹å…ˆå»é‡

### 2.2 æ ¸å¿ƒæ€è·¯

**å­˜å‚¨æ–¹å¼**ï¼šä½¿ç”¨**è¡Œæ”¿åŒºåˆ’ä»£ç ï¼ˆregion_codeï¼‰**è€Œéæ–‡æœ¬

```javascript
// âœ… æœ¬é¡¹ç›®é‡‡ç”¨æ–¹æ¡ˆï¼šcode + name å†—ä½™å­˜å‚¨ï¼ˆæ”¯æŒåˆ°è¡—é“çº§ï¼Œå·²æ‹æ¿ï¼šè¡—é“å¿…å¡«ï¼‰
{
  // ä¸»é”®å­—æ®µï¼ˆç”¨äºå…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æï¼Œå…¨éƒ¨å¿…å¡«ï¼‰
  province_code: "110000",      // åŒ—äº¬å¸‚ï¼ˆä¸»é”®ï¼Œå»ºç«‹ç´¢å¼•ï¼Œå¿…å¡«ï¼‰
  city_code: "110100",          // åŒ—äº¬å¸‚ï¼ˆä¸»é”®ï¼Œå»ºç«‹ç´¢å¼•ï¼Œå¿…å¡«ï¼‰
  district_code: "110108",      // æµ·æ·€åŒºï¼ˆä¸»é”®ï¼Œå»ºç«‹ç´¢å¼•ï¼Œå¿…å¡«ï¼‰
  street_code: "110108001",     // ä¸‡å¯¿è·¯è¡—é“ï¼ˆä¸»é”®ï¼Œå»ºç«‹ç´¢å¼•ï¼Œå¿…å¡«ï¼‰

  // å†—ä½™å­—æ®µï¼ˆä¾¿äºå±•ç¤ºï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸åï¼Œå…¨éƒ¨å¿…å¡«ï¼‰
  province_name: "åŒ—äº¬å¸‚",      // å†—ä½™å­˜å‚¨ï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰
  city_name: "åŒ—äº¬å¸‚",          // å†—ä½™å­˜å‚¨ï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰
  district_name: "æµ·æ·€åŒº",      // å†—ä½™å­˜å‚¨ï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰
  street_name: "ä¸‡å¯¿è·¯è¡—é“",    // å†—ä½™å­˜å‚¨ï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰

  // è¯¦ç»†åœ°å€
  store_address: "å¤å…´è·¯10å·"   // é—¨ç‰Œå·+æ¥¼æ ‹å·
}
```

**ä¼˜åŠ¿**ï¼š

- âœ… **æ ‡å‡†åŒ–**ï¼šä½¿ç”¨å›½å®¶æ ‡å‡† GB/T 2260 è¡Œæ”¿åŒºåˆ’ä»£ç 
- âœ… **å¯ç´¢å¼•**ï¼š`district_code`/`street_code` å¯å»ºç«‹é«˜æ•ˆç´¢å¼•ï¼Œæ”¯æŒå¿«é€Ÿç­›é€‰
- âœ… **å¯ç»Ÿè®¡**ï¼šæŒ‰ code å‰ç¼€èšåˆï¼ˆ`110000` = åŒ—äº¬å…¨å¸‚ï¼Œ`110108` = æµ·æ·€åŒºï¼Œ`110108001` = ä¸‡å¯¿è·¯è¡—é“ï¼‰
- âœ… **ç»†ç²’åº¦æ”¯æŒ**ï¼šæ”¯æŒåˆ°è¡—é“/ä¹¡é•‡çº§åˆ«ï¼ˆlevel=4ï¼‰ï¼Œæ»¡è¶³ç²¾ç»†åŒ–ç®¡ç†éœ€æ±‚
- âœ… **name è‡ªåŠ¨åŒæ­¥**ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶ï¼Œè‡ªåŠ¨ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶æ›´æ–°
- âœ… **æ— å†å²åŒ…è¢±**ï¼šç›´æ¥åˆ é™¤æ—§ `region` å­—æ®µï¼Œæ—§æ•°æ®ç›´æ¥æ¸…ç©ºä¸å¯¼å‡º

**ä¸ºä»€ä¹ˆå†—ä½™ name å­—æ®µï¼Ÿ**

```javascript
// åœºæ™¯1ï¼šæ—¥å¸¸å±•ç¤ºï¼ˆæ— éœ€ JOIN å­—å…¸è¡¨ï¼‰
stores: {
  store_id: 1,
  district_code: "110108",
  district_name: "æµ·æ·€åŒº",  // âœ… ç›´æ¥å±•ç¤ºï¼Œæ— éœ€å…³è”æŸ¥è¯¢
  street_code: "110108001",
  street_name: "ä¸‡å¯¿è·¯è¡—é“"
}

// åœºæ™¯2ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶ï¼Œè‡ªåŠ¨åˆ·æ–°æœ€æ–°åç§°
// å‡è®¾å­—å…¸è¡¨æ›´æ–°äº†"æœé˜³åŒº" â†’ "æœé˜³æ–°åŒº"
// ç”¨æˆ·ä¿®æ”¹é—¨åº—åŒºåŸŸæ—¶ï¼š
await StoreService.updateStore(storeId, {
  district_code: "110105",  // ç”¨æˆ·é€‰æ‹©æ–°åŒºåŸŸ
  // âœ… åç«¯è‡ªåŠ¨ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–°åç§°å¹¶æ›´æ–°
  district_name: "æœé˜³æ–°åŒº"  // è‡ªåŠ¨å¡«å……æœ€æ–°åç§°
})

// åœºæ™¯3ï¼šå­—å…¸è¡¨é»˜è®¤ä¸æ›´æ–°ï¼Œname ä¿æŒç¨³å®š
// ä¸Šçº¿åå­—å…¸è¡¨é»˜è®¤ä¸æ›´æ–°ï¼Œé™¤éè¡Œæ”¿åŒºåˆ’é‡å¤§è°ƒæ•´
// å› æ­¤ *_name å­—æ®µåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¿æŒç¨³å®š
```

### 2.3 æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ï¼ˆWebç®¡ç†åå°ï¼‰                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  çœä»½ä¸‹æ‹‰æ¡† â†’ é€‰æ‹©"å¹¿ä¸œçœ" â†’ è§¦å‘åŠ è½½å¸‚åˆ—è¡¨            â”‚   â”‚
â”‚  â”‚  å¸‚çº§ä¸‹æ‹‰æ¡† â†’ é€‰æ‹©"å¹¿å·å¸‚" â†’ è§¦å‘åŠ è½½åŒºå¿åˆ—è¡¨          â”‚   â”‚
â”‚  â”‚  åŒºå¿ä¸‹æ‹‰æ¡† â†’ é€‰æ‹©"å¤©æ²³åŒº" â†’ æœ€ç»ˆæäº¤ code             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTP API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åç«¯ï¼ˆNode.jsï¼‰                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  GET /api/v4/console/regions/provinces               â”‚   â”‚
â”‚  â”‚  GET /api/v4/console/regions/children?parent_code=xx â”‚   â”‚
â”‚  â”‚  POST /api/v4/console/storesï¼ˆæ ¡éªŒ code æœ‰æ•ˆæ€§ï¼‰      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ æŸ¥è¯¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®åº“ï¼ˆMySQLï¼‰                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  administrative_regions è¡¨ï¼ˆè¡Œæ”¿åŒºåˆ’å­—å…¸ï¼‰            â”‚   â”‚
â”‚  â”‚  - region_code (ä¸»é”®): "110108"                      â”‚   â”‚
â”‚  â”‚  - parent_code: "110100"                             â”‚   â”‚
â”‚  â”‚  - region_name: "æµ·æ·€åŒº"                             â”‚   â”‚
â”‚  â”‚  - level: 3 (1=çœ, 2=å¸‚, 3=åŒºå¿)                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  stores è¡¨ï¼ˆé—¨åº—ä¿¡æ¯ï¼‰                                 â”‚   â”‚
â”‚  â”‚  - province_code: "110000"                           â”‚   â”‚
â”‚  â”‚  - city_code: "110100"                               â”‚   â”‚
â”‚  â”‚  - district_code: "110108"                           â”‚   â”‚
â”‚  â”‚  - store_address: "ä¸­å…³æ‘å¤§è¡—1å·"                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. æ•°æ®åº“è®¾è®¡

### 3.1 æ–°å¢è¡¨ï¼š`administrative_regions`ï¼ˆè¡Œæ”¿åŒºåˆ’å­—å…¸è¡¨ï¼‰

```sql
CREATE TABLE `administrative_regions` (
  `region_code` VARCHAR(12) NOT NULL COMMENT 'è¡Œæ”¿åŒºåˆ’ä»£ç ï¼ˆGB/T 2260æ ‡å‡†ï¼Œå¦‚110108ï¼‰',
  `parent_code` VARCHAR(12) DEFAULT NULL COMMENT 'çˆ¶çº§åŒºåˆ’ä»£ç ï¼ˆçœçš„parent_codeä¸ºNULLï¼‰',
  `region_name` VARCHAR(100) NOT NULL COMMENT 'åŒºåˆ’åç§°ï¼ˆå¦‚"æµ·æ·€åŒº"ï¼‰',
  `level` TINYINT NOT NULL COMMENT 'å±‚çº§ï¼ˆ1=çœçº§, 2=å¸‚çº§, 3=åŒºå¿çº§, 4=è¡—é“/ä¹¡é•‡ï¼‰',
  `short_name` VARCHAR(50) DEFAULT NULL COMMENT 'ç®€ç§°ï¼ˆå¦‚"äº¬"ï¼‰',
  `pinyin` VARCHAR(100) DEFAULT NULL COMMENT 'æ‹¼éŸ³ï¼ˆå¦‚"haidian"ï¼Œç”¨äºæœç´¢ï¼‰',
  `longitude` DECIMAL(10, 7) DEFAULT NULL COMMENT 'ç»åº¦ï¼ˆå¯é€‰ï¼Œç”¨äºåœ°å›¾å±•ç¤ºï¼‰',
  `latitude` DECIMAL(10, 7) DEFAULT NULL COMMENT 'çº¬åº¦ï¼ˆå¯é€‰ï¼‰',
  `status` ENUM('active', 'merged', 'abolished') DEFAULT 'active' COMMENT 'çŠ¶æ€ï¼ˆactive=æœ‰æ•ˆ, merged=å·²åˆå¹¶, abolished=å·²æ’¤é”€ï¼‰',
  `sort_order` INT DEFAULT 0 COMMENT 'æ’åºæƒé‡ï¼ˆç”¨äºå‰ç«¯å±•ç¤ºæ’åºï¼‰',
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',

  PRIMARY KEY (`region_code`),
  KEY `idx_parent_code` (`parent_code`),
  KEY `idx_level_status` (`level`, `status`),
  KEY `idx_region_name` (`region_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='è¡Œæ”¿åŒºåˆ’å­—å…¸è¡¨ï¼ˆçœå¸‚åŒºå¿æ•°æ®ï¼‰';
```

**å­—æ®µè¯´æ˜**ï¼š

- `region_code`ï¼š**ä¸»é”®**ï¼Œå›½æ ‡ 6 ä½ä»£ç ï¼ˆçœå¸‚åŒºï¼‰æˆ– 9 ä½ï¼ˆè¡—é“ï¼‰ï¼Œå¦‚ `110108`ï¼ˆæµ·æ·€åŒºï¼‰ã€`110108001`ï¼ˆä¸‡å¯¿è·¯è¡—é“ï¼‰
- `parent_code`ï¼šçˆ¶çº§ä»£ç ï¼Œç”¨äºçº§è”æŸ¥è¯¢ï¼ˆçœçš„ `parent_code` ä¸º `NULL`ï¼‰
- `level`ï¼šå±‚çº§æ ‡è¯†ï¼ˆ**1=çœ, 2=å¸‚, 3=åŒºå¿, 4=è¡—é“/ä¹¡é•‡**ï¼‰
- `status`ï¼šæ”¯æŒè¡Œæ”¿åŒºåˆ’è°ƒæ•´ï¼ˆåˆå¹¶/æ’¤é”€ï¼‰

**æ•°æ®èŒƒå›´**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

- **level=1/2/3**ï¼šçœ/å¸‚/åŒºå¿ï¼ˆå¿…éœ€ï¼Œçº¦ 3218 æ¡ï¼‰
- **level=4**ï¼šè¡—é“/ä¹¡é•‡ï¼ˆå¿…éœ€ï¼Œçº¦ 41636 æ¡ï¼Œæ€»è®¡çº¦ 44854 æ¡ï¼‰

**æ•°æ®ç¤ºä¾‹**ï¼š

```sql
-- çœçº§ï¼ˆlevel=1ï¼‰
('110000', NULL, 'åŒ—äº¬å¸‚', 1, 'äº¬', 'beijing', NULL, NULL, 'active', 1)
('440000', NULL, 'å¹¿ä¸œçœ', 1, 'ç²¤', 'guangdong', NULL, NULL, 'active', 19)

-- å¸‚çº§ï¼ˆlevel=2ï¼‰
('110100', '110000', 'åŒ—äº¬å¸‚', 2, NULL, 'beijing', NULL, NULL, 'active', 1)
('440100', '440000', 'å¹¿å·å¸‚', 2, NULL, 'guangzhou', NULL, NULL, 'active', 1)
('440300', '440000', 'æ·±åœ³å¸‚', 2, NULL, 'shenzhen', NULL, NULL, 'active', 2)

-- åŒºå¿çº§ï¼ˆlevel=3ï¼‰
('110108', '110100', 'æµ·æ·€åŒº', 3, NULL, 'haidian', 116.298056, 39.959912, 'active', 8)
('440106', '440100', 'å¤©æ²³åŒº', 3, NULL, 'tianhe', 113.361328, 23.124943, 'active', 6)

-- è¡—é“çº§ï¼ˆlevel=4ï¼Œå·²æ‹æ¿ï¼šå¿…éœ€å¯¼å…¥ï¼‰
('110108001', '110108', 'ä¸‡å¯¿è·¯è¡—é“', 4, NULL, 'wanshoulu', 116.298056, 39.959912, 'active', 1)
('110108002', '110108', 'æ°¸å®šè·¯è¡—é“', 4, NULL, 'yongdinglu', 116.298056, 39.959912, 'active', 2)
('440106001', '440106', 'æ²™æ²³è¡—é“', 4, NULL, 'shahe', 113.361328, 23.124943, 'active', 1)
```

### 3.2 ä¿®æ”¹è¡¨ï¼š`stores`ï¼ˆé—¨åº—è¡¨ï¼‰

**è¿ç§»ç­–ç•¥**ï¼š**ä¸å…¼å®¹æ—§æ•°æ®ï¼Œç›´æ¥åˆ é™¤ `region` å­—æ®µ**ï¼ˆå·²æ‹æ¿ï¼‰

**æ•°æ®å¤„ç†**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

1. âŒ **æ—§æ•°æ®ç›´æ¥åˆ é™¤ï¼Œä¸å¯¼å‡º**ï¼šæ‰§è¡Œè¿ç§»æ—¶ç›´æ¥æ¸…ç©ºç°æœ‰é—¨åº—æ•°æ®ï¼Œä¸ä¿ç•™ä»»ä½•å¤‡ä»½
2. âœ… **æ‰€æœ‰å­—æ®µå¼ºåˆ¶å¿…å¡«**ï¼š`province_code/name`ã€`city_code/name`ã€`district_code/name`ã€**`street_code/name`** å…¨éƒ¨è®¾ä¸º `NOT NULL`
3. âœ… **è¡—é“å­—æ®µå¿…å¡«**ï¼šé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“ï¼Œå¦åˆ™ä¸å…è®¸åˆ›å»º/å¯¼å…¥
4. âœ… **ç´¢å¼•ä¼˜åŒ–**ï¼šä¸º `province_code`ã€`city_code`ã€`district_code`ã€`street_code` å»ºç«‹ç´¢å¼•
5. âœ… **æ‰¹é‡å¯¼å…¥å‡†å¤‡**ï¼šè¿ç§»åé€šè¿‡ CSV/JSON æ–‡ä»¶æ‰¹é‡å¯¼å…¥æ–°é—¨åº—æ•°æ®
6. âœ… **æ‰¹é‡å¯¼å…¥é‡å¤å¤„ç†**ï¼šåŒ `store_code` ç›´æ¥æŠ¥é”™ï¼Œä¸¥æ ¼ç¦æ­¢é‡å¤ï¼Œè¦æ±‚ä¸šåŠ¡æ–¹å…ˆå»é‡

**è¿ç§»SQL**ï¼š

```sql
-- æ­¥éª¤1ï¼šæ¸…ç©ºæ—§é—¨åº—æ•°æ®ï¼ˆå·²æ‹æ¿ï¼šç›´æ¥åˆ é™¤ä¸å¯¼å‡ºï¼‰
TRUNCATE TABLE `stores`;

-- æ­¥éª¤2ï¼šåˆ é™¤æ—§å­—æ®µï¼ˆä¸å…¼å®¹æ—§æ•°æ®ï¼‰
ALTER TABLE `stores`
DROP COLUMN `region`;

-- æ­¥éª¤3ï¼šæ–°å¢æ ‡å‡†åŒ–å­—æ®µï¼ˆå·²æ‹æ¿ï¼šå…¨éƒ¨å¿…å¡«ï¼Œå«è¡—é“çº§ï¼‰
ALTER TABLE `stores`
ADD COLUMN `province_code` VARCHAR(12) NOT NULL COMMENT 'çœçº§è¡Œæ”¿åŒºåˆ’ä»£ç ï¼ˆå¿…å¡«ï¼Œç”¨äºå…³è”æŸ¥è¯¢ï¼‰',
ADD COLUMN `province_name` VARCHAR(100) NOT NULL COMMENT 'çœçº§åç§°ï¼ˆå†—ä½™å­—æ®µï¼Œå¿…å¡«ï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ï¼‰',
ADD COLUMN `city_code` VARCHAR(12) NOT NULL COMMENT 'å¸‚çº§è¡Œæ”¿åŒºåˆ’ä»£ç ï¼ˆå¿…å¡«ï¼Œç”¨äºå…³è”æŸ¥è¯¢ï¼‰',
ADD COLUMN `city_name` VARCHAR(100) NOT NULL COMMENT 'å¸‚çº§åç§°ï¼ˆå†—ä½™å­—æ®µï¼Œå¿…å¡«ï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ï¼‰',
ADD COLUMN `district_code` VARCHAR(12) NOT NULL COMMENT 'åŒºå¿çº§è¡Œæ”¿åŒºåˆ’ä»£ç ï¼ˆå¿…å¡«ï¼Œç”¨äºå…³è”æŸ¥è¯¢ï¼‰',
ADD COLUMN `district_name` VARCHAR(100) NOT NULL COMMENT 'åŒºå¿çº§åç§°ï¼ˆå†—ä½™å­—æ®µï¼Œå¿…å¡«ï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ï¼‰',
ADD COLUMN `street_code` VARCHAR(12) NOT NULL COMMENT 'è¡—é“çº§è¡Œæ”¿åŒºåˆ’ä»£ç ï¼ˆå¿…å¡«ï¼Œé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“ï¼‰',
ADD COLUMN `street_name` VARCHAR(100) NOT NULL COMMENT 'è¡—é“çº§åç§°ï¼ˆå†—ä½™å­—æ®µï¼Œå¿…å¡«ï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ï¼‰';

-- æ­¥éª¤4ï¼šå»ºç«‹ç´¢å¼•ï¼ˆæå‡æŸ¥è¯¢æ€§èƒ½ï¼‰
ALTER TABLE `stores`
ADD KEY `idx_province_code` (`province_code`),
ADD KEY `idx_city_code` (`city_code`),
ADD KEY `idx_district_code` (`district_code`),
ADD KEY `idx_street_code` (`street_code`);
```

**âš ï¸ é‡è¦æç¤º**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

- æ‰§è¡Œ `TRUNCATE TABLE stores` åï¼Œç°æœ‰é—¨åº—æ•°æ®å°†**æ°¸ä¹…åˆ é™¤ä¸”ä¸å¯æ¢å¤**
- **ä¸ä¿ç•™ä»»ä½•å¤‡ä»½**ï¼Œæ—§æ•°æ®ç›´æ¥æ¸…ç©º
- è¿ç§»åé€šè¿‡ **CSV/JSON æ–‡ä»¶æ‰¹é‡å¯¼å…¥**æ–°é—¨åº—æ•°æ®ï¼ˆéœ€æä¾›"é—¨åº—åˆ—è¡¨ + çœå¸‚åŒºè¡—é“ code + åœ°å€"ï¼‰
- å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒå…ˆéªŒè¯è¿ç§»æµç¨‹

**æœ€ç»ˆ stores è¡¨ç»“æ„ï¼ˆå…³é”®å­—æ®µï¼‰**ï¼š

```javascript
{
  store_id: 1,
  store_name: "æµ‹è¯•é¤å…æ€»åº—",
  store_code: "ST20260112001",

  // âœ… æ ‡å‡†åŒ–è¡Œæ”¿åŒºåˆ’ï¼ˆå·²æ‹æ¿ï¼šå…¨éƒ¨å¿…å¡«å«è¡—é“ï¼Œcode + name å†—ä½™å­˜å‚¨ï¼‰
  province_code: "110000",      // ä¸»é”®å­—æ®µï¼Œç”¨äºå…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æï¼ˆå¿…å¡«ï¼‰
  province_name: "åŒ—äº¬å¸‚",      // å†—ä½™å­—æ®µï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰
  city_code: "110100",          // ä¸»é”®å­—æ®µï¼Œç”¨äºå…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æï¼ˆå¿…å¡«ï¼‰
  city_name: "åŒ—äº¬å¸‚",          // å†—ä½™å­—æ®µï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰
  district_code: "110108",      // ä¸»é”®å­—æ®µï¼Œç”¨äºå…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æï¼ˆå¿…å¡«ï¼‰
  district_name: "æµ·æ·€åŒº",      // å†—ä½™å­—æ®µï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰
  street_code: "110108001",     // ä¸»é”®å­—æ®µï¼Œç”¨äºå…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æï¼ˆå¿…å¡«ï¼Œé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“ï¼‰
  street_name: "ä¸‡å¯¿è·¯è¡—é“",    // å†—ä½™å­—æ®µï¼Œåˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ï¼ˆå¿…å¡«ï¼‰

  // è¯¦ç»†åœ°å€ï¼ˆé—¨ç‰Œå·+æ¥¼æ ‹å·ï¼‰
  store_address: "å¤å…´è·¯10å·",

  // è”ç³»ä¿¡æ¯
  contact_name: "å¼ ä¸‰",
  contact_mobile: "13800138000",

  // å…¶ä»–å­—æ®µ...
  created_at: "2026-01-12T10:00:00.000+08:00",
  updated_at: "2026-01-12T10:00:00.000+08:00"
}
```

**å­—æ®µè®¾è®¡è¯´æ˜**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

| å­—æ®µç±»å‹     | å­—æ®µå          | ç”¨é€”                     | æ›´æ–°ç­–ç•¥                    | æ˜¯å¦å—å­—å…¸å˜æ›´å½±å“                          |
| ------------ | --------------- | ------------------------ | --------------------------- | ------------------------------------------- |
| **codeå­—æ®µ** | `province_code` | å…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æã€ç´¢å¼• | ä»…åœ¨ä¿®æ”¹é—¨åº—åŒºåŸŸæ—¶æ›´æ–°      | âŒ ä¸å—å½±å“ï¼ˆcodeç¨³å®šï¼‰                     |
| **nameå­—æ®µ** | `province_name` | å±•ç¤ºã€å†—ä½™å­˜å‚¨           | åˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ | âœ… **ä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**           |
| **codeå­—æ®µ** | `city_code`     | å…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æã€ç´¢å¼• | ä»…åœ¨ä¿®æ”¹é—¨åº—åŒºåŸŸæ—¶æ›´æ–°      | âŒ ä¸å—å½±å“ï¼ˆcodeç¨³å®šï¼‰                     |
| **nameå­—æ®µ** | `city_name`     | å±•ç¤ºã€å†—ä½™å­˜å‚¨           | åˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ | âœ… **ä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**           |
| **codeå­—æ®µ** | `district_code` | å…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æã€ç´¢å¼• | ä»…åœ¨ä¿®æ”¹é—¨åº—åŒºåŸŸæ—¶æ›´æ–°      | âŒ ä¸å—å½±å“ï¼ˆcodeç¨³å®šï¼‰                     |
| **nameå­—æ®µ** | `district_name` | å±•ç¤ºã€å†—ä½™å­˜å‚¨           | åˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ | âœ… **ä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**           |
| **codeå­—æ®µ** | `street_code`   | å…³è”æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æã€ç´¢å¼• | ä»…åœ¨ä¿®æ”¹é—¨åº—åŒºåŸŸæ—¶æ›´æ–°      | âŒ ä¸å—å½±å“ï¼ˆcodeç¨³å®šï¼‰ï¼Œ**å¿…å¡«**           |
| **nameå­—æ®µ** | `street_name`   | å±•ç¤ºã€å†—ä½™å­˜å‚¨           | åˆ›å»º/ä¿®æ”¹æ—¶ä»å­—å…¸è¡¨æŸ¥è¯¢å†™å…¥ | âœ… **ä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**ï¼Œ**å¿…å¡«** |

**æ›´æ–°ç­–ç•¥è¯´æ˜**ï¼š

- **å­—å…¸è¡¨é»˜è®¤ä¸æ›´æ–°**ï¼šä¸Šçº¿åå­—å…¸è¡¨é»˜è®¤ä¸æ›´æ–°ï¼Œä»…åœ¨è¡Œæ”¿åŒºåˆ’é‡å¤§è°ƒæ•´æ—¶æ‰‹å·¥æ›´æ–°
- **name å­—æ®µè‡ªåŠ¨åŒæ­¥**ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶ï¼ˆä¿®æ”¹ `*_code`ï¼‰ï¼Œåç«¯è‡ªåŠ¨ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶æ›´æ–°
- **éä¸¥æ ¼å¿«ç…§**ï¼š`*_name` å­—æ®µä¼šéšé—¨åº—åŒºåŸŸä¿®æ”¹è€Œæ›´æ–°ï¼Œä¸æ˜¯ä¸¥æ ¼çš„å†å²å¿«ç…§

---

## 4. åç«¯APIè®¾è®¡

### 4.1 APIæ¸…å•

| æ¥å£è·¯å¾„                              | æ–¹æ³• | æƒé™  | è¯´æ˜                                  |
| ------------------------------------- | ---- | ----- | ------------------------------------- |
| `/api/v4/console/regions/provinces`   | GET  | admin | è·å–çœçº§åˆ—è¡¨                          |
| `/api/v4/console/regions/children`    | GET  | admin | è·å–å­çº§åŒºåˆ’ï¼ˆå¸‚/åŒºå¿/è¡—é“ï¼‰          |
| `/api/v4/console/regions/:code`       | GET  | admin | è·å–å•ä¸ªåŒºåˆ’è¯¦æƒ…                      |
| `/api/v4/console/regions/search`      | GET  | admin | æŒ‰åç§°æœç´¢åŒºåˆ’                        |
| `/api/v4/console/stores`              | POST | admin | åˆ›å»ºé—¨åº—ï¼ˆæ ¡éªŒ code + è‡ªåŠ¨å¡«å…… nameï¼‰ |
| `/api/v4/console/stores/:id`          | PUT  | admin | æ›´æ–°é—¨åº—ï¼ˆæ ¡éªŒ code + è‡ªåŠ¨å¡«å…… nameï¼‰ |
| `/api/v4/console/stores/batch-import` | POST | admin | æ‰¹é‡å¯¼å…¥é—¨åº—ï¼ˆCSV/JSONï¼‰              |

### 4.2 APIè¯¦ç»†è®¾è®¡

#### 4.2.1 è·å–çœçº§åˆ—è¡¨

**è¯·æ±‚**ï¼š

```http
GET /api/v4/console/regions/provinces
Authorization: Bearer {token}
```

**å“åº”**ï¼š

```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "è·å–çœçº§åˆ—è¡¨æˆåŠŸ",
  "data": {
    "provinces": [
      {
        "region_code": "110000",
        "region_name": "åŒ—äº¬å¸‚",
        "short_name": "äº¬",
        "pinyin": "beijing"
      },
      {
        "region_code": "440000",
        "region_name": "å¹¿ä¸œçœ",
        "short_name": "ç²¤",
        "pinyin": "guangdong"
      }
      // ... å…¶ä»–çœä»½
    ],
    "total": 34
  },
  "timestamp": "2026-01-12T10:00:00.000+08:00",
  "version": "v4.0"
}
```

#### 4.2.2 è·å–å­çº§åŒºåˆ’

**è¯·æ±‚**ï¼š

```http
GET /api/v4/console/regions/children?parent_code=440000
Authorization: Bearer {token}
```

**å‚æ•°**ï¼š

- `parent_code`ï¼ˆå¿…å¡«ï¼‰ï¼šçˆ¶çº§åŒºåˆ’ä»£ç 
  - ä¼ çœä»£ç  â†’ è¿”å›å¸‚åˆ—è¡¨
  - ä¼ å¸‚ä»£ç  â†’ è¿”å›åŒºå¿åˆ—è¡¨
  - ä¼ åŒºå¿ä»£ç  â†’ è¿”å›è¡—é“åˆ—è¡¨ï¼ˆlevel=4ï¼‰

**å“åº”**ï¼š

```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "è·å–å­çº§åŒºåˆ’æˆåŠŸ",
  "data": {
    "parent": {
      "region_code": "440000",
      "region_name": "å¹¿ä¸œçœ",
      "level": 1
    },
    "children": [
      {
        "region_code": "440100",
        "region_name": "å¹¿å·å¸‚",
        "level": 2,
        "pinyin": "guangzhou"
      },
      {
        "region_code": "440300",
        "region_name": "æ·±åœ³å¸‚",
        "level": 2,
        "pinyin": "shenzhen"
      }
      // ... å…¶ä»–å¸‚
    ],
    "total": 21
  },
  "timestamp": "2026-01-12T10:00:00.000+08:00",
  "version": "v4.0"
}
```

#### 4.2.3 æŒ‰åç§°æœç´¢åŒºåˆ’

**è¯·æ±‚**ï¼š

```http
GET /api/v4/console/regions/search?keyword=æµ·æ·€&level=3
Authorization: Bearer {token}
```

**å‚æ•°**ï¼š

- `keyword`ï¼ˆå¿…å¡«ï¼‰ï¼šæœç´¢å…³é”®è¯ï¼ˆæ”¯æŒåç§°/æ‹¼éŸ³ï¼‰
- `level`ï¼ˆå¯é€‰ï¼‰ï¼šé™åˆ¶å±‚çº§ï¼ˆ1=çœ, 2=å¸‚, 3=åŒºå¿, 4=è¡—é“ï¼‰

**å“åº”**ï¼š

```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æœç´¢æˆåŠŸ",
  "data": {
    "results": [
      {
        "region_code": "110108",
        "region_name": "æµ·æ·€åŒº",
        "level": 3,
        "full_path": "åŒ—äº¬å¸‚ > åŒ—äº¬å¸‚ > æµ·æ·€åŒº",
        "parent_code": "110100"
      }
    ],
    "total": 1
  },
  "timestamp": "2026-01-12T10:00:00.000+08:00",
  "version": "v4.0"
}
```

#### 4.2.4 åˆ›å»º/æ›´æ–°é—¨åº—ï¼ˆå¸¦åŒºåˆ’æ ¡éªŒï¼‰

**è¯·æ±‚**ï¼š

```http
POST /api/v4/console/stores
Authorization: Bearer {token}
Content-Type: application/json

{
  "store_name": "æµ‹è¯•é—¨åº—",
  "store_code": "ST20260112002",
  "province_code": "440000",
  "city_code": "440100",
  "district_code": "440106",
  "street_code": "440106001",  // å¯é€‰ï¼Œè¡—é“ä»£ç 
  "store_address": "å¤©æ²³è·¯123å·",
  "contact_name": "æå››",
  "contact_mobile": "13900139000"
}
```

**åç«¯æ ¡éªŒé€»è¾‘**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

1. æ ¡éªŒ `province_code` æ˜¯å¦å­˜åœ¨ä¸” `level=1`
2. æ ¡éªŒ `city_code` æ˜¯å¦å­˜åœ¨ä¸” `parent_code=province_code`
3. æ ¡éªŒ `district_code` æ˜¯å¦å­˜åœ¨ä¸” `parent_code=city_code`
4. æ ¡éªŒ `street_code`ï¼ˆå¦‚æœæä¾›ï¼‰æ˜¯å¦å­˜åœ¨ä¸” `parent_code=district_code`
5. **è‡ªåŠ¨å¡«å…… `*_name` å­—æ®µ**ï¼ˆä» `administrative_regions` è¡¨æŸ¥è¯¢æœ€æ–°åç§°å¹¶å†™å…¥ï¼‰
6. **ä¸å†ç”Ÿæˆ `region` å­—æ®µ**ï¼ˆå·²åˆ é™¤ï¼Œä¸å…¼å®¹æ—§æ•°æ®ï¼‰

**å“åº”**ï¼ˆæˆåŠŸï¼‰ï¼š

```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "é—¨åº—åˆ›å»ºæˆåŠŸ",
  "data": {
    "store_id": 3,
    "store_name": "æµ‹è¯•é—¨åº—",
    "province_code": "440000",
    "province_name": "å¹¿ä¸œçœ", // âœ… åç«¯è‡ªåŠ¨å¡«å……ï¼ˆä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–°åç§°ï¼‰
    "city_code": "440100",
    "city_name": "å¹¿å·å¸‚", // âœ… åç«¯è‡ªåŠ¨å¡«å……ï¼ˆä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–°åç§°ï¼‰
    "district_code": "440106",
    "district_name": "å¤©æ²³åŒº", // âœ… åç«¯è‡ªåŠ¨å¡«å……ï¼ˆä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–°åç§°ï¼‰
    "street_code": "440106001",
    "street_name": "æ²™æ²³è¡—é“", // âœ… åç«¯è‡ªåŠ¨å¡«å……ï¼ˆä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–°åç§°ï¼‰
    "store_address": "å¤©æ²³è·¯123å·",
    "created_at": "2026-01-12T10:00:00.000+08:00",
    "updated_at": "2026-01-12T10:00:00.000+08:00"
    // ... å…¶ä»–å­—æ®µ
  },
  "timestamp": "2026-01-12T10:00:00.000+08:00",
  "version": "v4.0"
}
```

**å“åº”**ï¼ˆå¤±è´¥ - åŒºåˆ’ä»£ç ä¸åŒ¹é…ï¼‰ï¼š

```json
{
  "success": false,
  "code": "INVALID_REGION_CODE",
  "message": "åŒºåˆ’ä»£ç å±‚çº§ä¸åŒ¹é…",
  "data": {
    "errors": [
      "city_code (440100) çš„ parent_code åº”ä¸º 440000ï¼Œå®é™…ä¸º 440000ï¼ˆåŒ¹é…ï¼‰",
      "district_code (440106) çš„ parent_code åº”ä¸º 440100ï¼Œå®é™…ä¸º 440100ï¼ˆåŒ¹é…ï¼‰"
    ]
  },
  "httpStatus": 400
}
```

#### 4.2.5 æ‰¹é‡å¯¼å…¥é—¨åº—ï¼ˆCSV/JSONï¼‰

**è¯·æ±‚**ï¼ˆå·²æ‹æ¿ï¼šè¿ç§»åé€šè¿‡æ­¤æ¥å£å¯¼å…¥æ–°é—¨åº—æ•°æ®ï¼‰ï¼š

```http
POST /api/v4/console/stores/batch-import
Authorization: Bearer {token}
Content-Type: multipart/form-data

file: stores.csv  // æˆ– stores.json
```

**CSV æ–‡ä»¶æ ¼å¼**ï¼ˆå·²æ‹æ¿ï¼šstreet_code å¿…å¡«ï¼‰ï¼š

```csv
store_name,store_code,province_code,city_code,district_code,street_code,store_address,contact_name,contact_mobile
æµ‹è¯•é¤å…æ€»åº—,ST20260112001,110000,110100,110108,110108001,å¤å…´è·¯10å·,å¼ ä¸‰,13800138000
æµ‹è¯•é¤å…åˆ†åº—,ST20260112002,440000,440100,440106,440106001,å¤©æ²³è·¯123å·,æå››,13900139000
```

**âš ï¸ é‡è¦çº¦æŸ**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

- `street_code` å­—æ®µ**å¿…å¡«**ï¼Œé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“ï¼Œå¦åˆ™å¯¼å…¥å¤±è´¥
- `store_code` é‡å¤æ—¶**ç›´æ¥æŠ¥é”™**ï¼Œä¸¥æ ¼ç¦æ­¢é‡å¤ï¼Œè¦æ±‚ä¸šåŠ¡æ–¹å…ˆå»é‡

**JSON æ–‡ä»¶æ ¼å¼**ï¼ˆå·²æ‹æ¿ï¼šstreet_code å¿…å¡«ï¼Œstore_code é‡å¤æŠ¥é”™ï¼‰ï¼š

```json
{
  "stores": [
    {
      "store_name": "æµ‹è¯•é¤å…æ€»åº—",
      "store_code": "ST20260112001",
      "province_code": "110000",
      "city_code": "110100",
      "district_code": "110108",
      "street_code": "110108001", // å¿…å¡«ï¼Œé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“
      "store_address": "å¤å…´è·¯10å·",
      "contact_name": "å¼ ä¸‰",
      "contact_mobile": "13800138000"
    },
    {
      "store_name": "æµ‹è¯•é¤å…åˆ†åº—",
      "store_code": "ST20260112002",
      "province_code": "440000",
      "city_code": "440100",
      "district_code": "440106",
      "street_code": "440106001", // å¿…å¡«ï¼Œé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“
      "store_address": "å¤©æ²³è·¯123å·",
      "contact_name": "æå››",
      "contact_mobile": "13900139000"
    }
  ]
}
```

**åç«¯å¤„ç†é€»è¾‘**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

1. è§£æ CSV/JSON æ–‡ä»¶
2. é€è¡Œæ ¡éªŒåŒºåˆ’ä»£ç ï¼ˆè°ƒç”¨ `RegionService.validateRegionCodes()`ï¼‰
3. **å¼ºåˆ¶æ ¡éªŒ `street_code` å¿…å¡«**ï¼Œç¼ºå¤±åˆ™æŠ¥é”™
4. **å¼ºåˆ¶æ ¡éªŒ `store_code` å”¯ä¸€æ€§**ï¼Œé‡å¤åˆ™ç›´æ¥æŠ¥é”™ï¼ˆä¸å…è®¸å¯¼å…¥ï¼‰
5. è‡ªåŠ¨å¡«å…… `*_name` å­—æ®µï¼ˆä»å­—å…¸è¡¨æŸ¥è¯¢ï¼‰
6. æ‰¹é‡æ’å…¥æ•°æ®åº“ï¼ˆä½¿ç”¨äº‹åŠ¡ï¼‰
7. è¿”å›å¯¼å…¥ç»“æœï¼ˆæˆåŠŸæ•°é‡ã€å¤±è´¥æ•°é‡ã€é”™è¯¯è¯¦æƒ…ï¼‰

**å“åº”**ï¼ˆæˆåŠŸï¼‰ï¼š

```json
{
  "success": true,
  "code": "SUCCESS",
  "message": "æ‰¹é‡å¯¼å…¥å®Œæˆ",
  "data": {
    "total": 100,
    "success": 98,
    "failed": 2,
    "errors": [
      {
        "row": 15,
        "store_code": "ST20260112015",
        "error": "district_code (999999) ä¸å­˜åœ¨"
      },
      {
        "row": 32,
        "store_code": "ST20260112032",
        "error": "street_code (110108999) çš„ parent_code ä¸åŒ¹é…"
      },
      {
        "row": 45,
        "store_code": "ST20260112045",
        "error": "street_code ç¼ºå¤±ï¼Œé—¨åº—å¿…é¡»ç²¾ç¡®åˆ°è¡—é“"
      },
      {
        "row": 58,
        "store_code": "ST20260112001",
        "error": "store_code é‡å¤ï¼Œå·²å­˜åœ¨ç›¸åŒç¼–ç çš„é—¨åº—"
      }
    ]
  },
  "timestamp": "2026-01-12T10:00:00.000+08:00",
  "version": "v4.0"
}
```

---

## 5. å‰ç«¯å®ç°è¦æ±‚ï¼ˆäº¤ç»™å‰ç«¯å¼€å‘äººå‘˜ï¼‰

**æ ¸å¿ƒè¦æ±‚**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

1. ä½¿ç”¨çº§è”ä¸‹æ‹‰æ¡†ç»„ä»¶ï¼ˆçœâ†’å¸‚â†’åŒºâ†’è¡—é“å››çº§è”åŠ¨ï¼‰
2. è°ƒç”¨åç«¯æä¾›çš„åŒºåˆ’æŸ¥è¯¢APIï¼ˆè§ç¬¬4èŠ‚ï¼‰
3. è¡¨å•æäº¤æ—¶å¿…é¡»åŒ…å«ï¼š`province_code`ã€`city_code`ã€`district_code`ï¼Œ`street_code` å¯é€‰
4. å‰ç«¯ä¸éœ€è¦å…³å¿ƒ `*_name` å­—æ®µï¼Œç”±åç«¯è‡ªåŠ¨å¡«å……ï¼ˆä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–°åç§°ï¼‰

**APIæ¥å£**ï¼š

- è·å–çœçº§åˆ—è¡¨ï¼š`GET /api/v4/console/regions/provinces`
- è·å–å­çº§åŒºåˆ’ï¼š`GET /api/v4/console/regions/children?parent_code={code}`ï¼ˆæ”¯æŒåˆ°è¡—é“çº§ï¼‰
- æœç´¢åŒºåˆ’ï¼š`GET /api/v4/console/regions/search?keyword={keyword}&level={level}`

**æäº¤æ•°æ®æ ¼å¼**ï¼š

```json
{
  "store_name": "æµ‹è¯•é—¨åº—",
  "province_code": "440000",
  "city_code": "440100",
  "district_code": "440106",
  "street_code": "440106001", // å¯é€‰
  "store_address": "å¤©æ²³è·¯123å·"
}
```

---

## 6. æ•°æ®æ¥æºä¸å¯¼å…¥

### 6.1 æ•°æ®æ¥æºï¼ˆå·²æ‹æ¿ï¼‰

**ä½¿ç”¨å¼€æºæ•°æ®é›†**ï¼š

- **GitHub ä»“åº“**ï¼š[modood/Administrative-divisions-of-China](https://github.com/modood/Administrative-divisions-of-China)ï¼ˆ**å”¯ä¸€æ•°æ®æº**ï¼‰
- **æ•°æ®æ ¼å¼**ï¼šJSON
- **æ•°æ®é‡**ï¼š
  - level=1ï¼ˆçœçº§ï¼‰ï¼š34 ä¸ª
  - level=2ï¼ˆå¸‚çº§ï¼‰ï¼š333 ä¸ª
  - level=3ï¼ˆåŒºå¿çº§ï¼‰ï¼š2851 ä¸ª
  - level=4ï¼ˆè¡—é“çº§ï¼‰ï¼š41636 ä¸ª
  - **æ€»è®¡**ï¼šçº¦ 44854 æ¡

### 6.2 æ•°æ®å¯¼å…¥è„šæœ¬ï¼ˆNode.jsï¼‰

**æ­¥éª¤1ï¼šä¸‹è½½æ•°æ®**ï¼ˆå·²æ‹æ¿ï¼šåŒ…å«è¡—é“çº§æ•°æ®ï¼‰

```bash
# ä¸‹è½½å¼€æºæ•°æ®é›†ï¼ˆåŒ…å« level=1/2/3/4ï¼‰
curl -o data/regions.json https://raw.githubusercontent.com/modood/Administrative-divisions-of-China/master/dist/data.json

# æ•°æ®è¯´æ˜ï¼š
# - åŒ…å«çœ/å¸‚/åŒºå¿/è¡—é“å››çº§æ•°æ®
# - æ€»è®¡çº¦ 44854 æ¡è®°å½•
# - æ•°æ®æ¥æºï¼šmodood/Administrative-divisions-of-Chinaï¼ˆå”¯ä¸€æ•°æ®æºï¼‰
```

**æ­¥éª¤2ï¼šç¼–å†™å¯¼å…¥è„šæœ¬**

```javascript
// scripts/database/import_regions.js
/**
 * è¡Œæ”¿åŒºåˆ’æ•°æ®å¯¼å…¥è„šæœ¬
 *
 * æ•°æ®æ¥æºï¼šhttps://github.com/modood/Administrative-divisions-of-China
 * æ‰§è¡Œæ–¹å¼ï¼šnode scripts/database/import_regions.js
 */

require('dotenv').config()
const fs = require('fs')
const path = require('path')
const { sequelize, AdministrativeRegion } = require('../../models')
const logger = require('../../utils/logger').logger

async function importRegions() {
  try {
    logger.info('å¼€å§‹å¯¼å…¥è¡Œæ”¿åŒºåˆ’æ•°æ®...')

    // 1. è¯»å– JSON æ•°æ®æ–‡ä»¶
    const dataPath = path.join(__dirname, '../../data/regions.json')
    const rawData = fs.readFileSync(dataPath, 'utf8')
    const regionsData = JSON.parse(rawData)

    logger.info(`è¯»å–åˆ° ${regionsData.length} æ¡åŒºåˆ’æ•°æ®`)

    // 2. å¼€å¯äº‹åŠ¡
    const transaction = await sequelize.transaction()

    try {
      // 3. æ¸…ç©ºæ—§æ•°æ®ï¼ˆå¯é€‰ï¼‰
      await AdministrativeRegion.destroy({ where: {}, transaction })
      logger.info('å·²æ¸…ç©ºæ—§æ•°æ®')

      // 4. æ‰¹é‡æ’å…¥
      let insertCount = 0
      const batchSize = 500

      for (let i = 0; i < regionsData.length; i += batchSize) {
        const batch = regionsData.slice(i, i + batchSize)
        await AdministrativeRegion.bulkCreate(batch, { transaction })
        insertCount += batch.length
        logger.info(`å·²å¯¼å…¥ ${insertCount}/${regionsData.length} æ¡`)
      }

      // 5. æäº¤äº‹åŠ¡
      await transaction.commit()
      logger.info(`âœ… è¡Œæ”¿åŒºåˆ’æ•°æ®å¯¼å…¥æˆåŠŸï¼Œå…± ${insertCount} æ¡`)

      // 6. éªŒè¯æ•°æ®
      const counts = await AdministrativeRegion.count({
        group: ['level']
      })
      logger.info('æ•°æ®ç»Ÿè®¡:', counts)
    } catch (error) {
      await transaction.rollback()
      throw error
    }
  } catch (error) {
    logger.error('âŒ å¯¼å…¥å¤±è´¥:', error)
    process.exit(1)
  } finally {
    await sequelize.close()
  }
}

if (require.main === module) {
  importRegions()
}

module.exports = { importRegions }
```

**æ­¥éª¤3ï¼šæ‰§è¡Œå¯¼å…¥**

```bash
# æ‰§è¡Œå¯¼å…¥è„šæœ¬
node scripts/database/import_regions.js

# é¢„æœŸè¾“å‡ºï¼ˆå·²æ‹æ¿ï¼šåŒ…å«è¡—é“çº§æ•°æ®ï¼‰
# å¼€å§‹å¯¼å…¥è¡Œæ”¿åŒºåˆ’æ•°æ®...
# è¯»å–åˆ° 44854 æ¡åŒºåˆ’æ•°æ®
# å·²æ¸…ç©ºæ—§æ•°æ®
# å·²å¯¼å…¥ 500/44854 æ¡
# å·²å¯¼å…¥ 1000/44854 æ¡
# ...
# âœ… è¡Œæ”¿åŒºåˆ’æ•°æ®å¯¼å…¥æˆåŠŸï¼Œå…± 44854 æ¡
# æ•°æ®ç»Ÿè®¡: [
#   { level: 1, count: 34 },     // çœçº§
#   { level: 2, count: 333 },    // å¸‚çº§
#   { level: 3, count: 2851 },   // åŒºå¿çº§
#   { level: 4, count: 41636 }   // è¡—é“çº§
# ]
```

---

## 7. å®æ–½è®¡åˆ’

### 7.1 åç«¯å¼€å‘ä»»åŠ¡

| ä»»åŠ¡ID      | ä»»åŠ¡æè¿°                                             | å·¥ä½œé‡ | ä¾èµ–           | å¤‡æ³¨                                             |
| ----------- | ---------------------------------------------------- | ------ | -------------- | ------------------------------------------------ |
| **åç«¯-1**  | åˆ›å»º `administrative_regions` è¡¨è¿ç§»                 | 0.5h   | -              | å­—å…¸è¡¨ç»“æ„å®šä¹‰ï¼ˆæ”¯æŒ level=1/2/3/4ï¼‰             |
| **åç«¯-2**  | åˆ›å»º `AdministrativeRegion` æ¨¡å‹                     | 0.5h   | åç«¯-1         | Sequelize æ¨¡å‹å®šä¹‰                               |
| **åç«¯-3**  | ä¿®æ”¹ `stores` è¡¨è¿ç§»ï¼ˆåˆ é™¤ `region`ï¼Œæ–°å¢ 8 ä¸ªå­—æ®µï¼‰ | 0.5h   | -              | **ä¸å…¼å®¹æ—§æ•°æ®ï¼Œç›´æ¥æ¸…ç©º**                       |
| **åç«¯-4**  | ä¿®æ”¹ `Store` æ¨¡å‹ï¼ˆæ–°å¢ 8 ä¸ªå­—æ®µï¼‰                   | 0.5h   | åç«¯-3         | code + name å†—ä½™å­˜å‚¨ï¼ˆå«è¡—é“çº§ï¼‰                 |
| **åç«¯-5**  | ç¼–å†™æ•°æ®å¯¼å…¥è„šæœ¬ï¼ˆä¸‹è½½+è½¬æ¢+å¯¼å…¥ï¼‰                   | 1h     | åç«¯-2         | ä» GitHub å¼€æºæ•°æ®é›†å¯¼å…¥ï¼ˆå”¯ä¸€æ•°æ®æºï¼‰           |
| **åç«¯-6**  | æ‰§è¡Œæ•°æ®å¯¼å…¥ï¼ˆ44854 æ¡åŒºåˆ’æ•°æ®ï¼‰                     | 1h     | åç«¯-5         | åŒ…å«è¡—é“çº§æ•°æ®ï¼ŒéªŒè¯æ•°æ®å®Œæ•´æ€§                   |
| **åç«¯-7**  | å®ç°åŒºåˆ’æŸ¥è¯¢ APIï¼ˆ4ä¸ªæ¥å£ï¼‰                          | 2h     | åç«¯-2         | provinces/children/search/detailï¼ˆæ”¯æŒè¡—é“çº§ï¼‰   |
| **åç«¯-8**  | åˆ›å»º `RegionService`ï¼ˆåŒºåˆ’ä¸šåŠ¡é€»è¾‘ + è‡ªåŠ¨å¡«å…… nameï¼‰ | 1h     | åç«¯-2         | **æ ¸å¿ƒé€»è¾‘ï¼šcode â†’ name æŸ¥è¯¢ï¼ˆæœ€æ–°å­—å…¸åï¼‰**     |
| **åç«¯-9**  | ä¿®æ”¹ `StoreService`ï¼ˆå¢åŠ åŒºåˆ’æ ¡éªŒ + è‡ªåŠ¨å¡«å……ï¼‰       | 1h     | åç«¯-4,8       | åˆ›å»º/ä¿®æ”¹æ—¶è‡ªåŠ¨å¡«å…… `*_name`ï¼ˆåˆ·æ–°ä¸ºæœ€æ–°å­—å…¸åï¼‰ |
| **åç«¯-10** | æ›´æ–°é—¨åº— CRUD è·¯ç”±ï¼ˆé›†æˆåŒºåˆ’æ ¡éªŒï¼‰                   | 0.5h   | åç«¯-9         | `/api/v4/console/stores`                         |
| **åç«¯-11** | å®ç°æ‰¹é‡å¯¼å…¥æ¥å£ï¼ˆCSV/JSONï¼‰                         | 1.5h   | åç«¯-9         | `/api/v4/console/stores/batch-import`            |
| **åç«¯-12** | ç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆAPI + Service + è¾¹ç•Œæƒ…å†µï¼‰             | 1h     | åç«¯-7,9,10,11 | æµ‹è¯•åŒºåˆ’æ ¡éªŒã€è‡ªåŠ¨å¡«å……ã€æ‰¹é‡å¯¼å…¥é€»è¾‘             |

**åç«¯æ€»å·¥ä½œé‡**ï¼š11hï¼ˆçº¦ 1.5 ä¸ªå·¥ä½œæ—¥ï¼‰

**å…³é”®æŠ€æœ¯ç‚¹**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

1. **code + name å†—ä½™å­˜å‚¨**ï¼šåˆ›å»º/ä¿®æ”¹é—¨åº—æ—¶ï¼Œåç«¯è‡ªåŠ¨ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶å†™å…¥
2. **name è‡ªåŠ¨åŒæ­¥**ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶ï¼Œ`*_name` å­—æ®µåˆ·æ–°ä¸ºæœ€æ–°å­—å…¸åï¼ˆéä¸¥æ ¼å¿«ç…§ï¼‰
3. **ä¸å…¼å®¹æ—§æ•°æ®**ï¼šè¿ç§»æ—¶ç›´æ¥æ¸…ç©ºé—¨åº—æ•°æ®ï¼ˆ`TRUNCATE TABLE stores`ï¼‰ï¼Œä¸å¯¼å‡ºå¤‡ä»½
4. **æ‰¹é‡å¯¼å…¥**ï¼šè¿ç§»åé€šè¿‡ CSV/JSON æ–‡ä»¶æ‰¹é‡å¯¼å…¥æ–°é—¨åº—æ•°æ®
5. **è¡—é“çº§æ”¯æŒ**ï¼šæ”¯æŒåˆ° level=4ï¼ˆè¡—é“/ä¹¡é•‡ï¼‰ï¼Œ`street_code`/`street_name` å¯é€‰
6. **å­—å…¸é»˜è®¤ä¸æ›´æ–°**ï¼šä¸Šçº¿åå­—å…¸è¡¨é»˜è®¤ä¸æ›´æ–°ï¼Œä»…åœ¨è¡Œæ”¿åŒºåˆ’é‡å¤§è°ƒæ•´æ—¶æ‰‹å·¥æ›´æ–°

### 7.2 å®æ–½æ­¥éª¤

#### é˜¶æ®µ1ï¼šæ•°æ®åº“å‡†å¤‡ï¼ˆä¸å…¼å®¹æ—§æ•°æ®ï¼Œå·²æ‹æ¿ï¼‰

1. **âš ï¸ ç›´æ¥æ¸…ç©ºé—¨åº—æ•°æ®**ï¼ˆ`TRUNCATE TABLE stores`ï¼Œä¸å¯¼å‡ºå¤‡ä»½ï¼‰
2. åˆ›å»º `administrative_regions` è¡¨ï¼ˆå­—å…¸è¡¨ï¼Œæ”¯æŒ level=1/2/3/4ï¼‰
3. **åˆ é™¤ `stores.region` å­—æ®µ**ï¼ˆä¸å…¼å®¹æ—§æ•°æ®ï¼‰
4. æ–°å¢ `stores` è¡¨ 8 ä¸ªå­—æ®µï¼ˆ`province_code/name`ã€`city_code/name`ã€`district_code/name`ã€`street_code/name`ï¼‰
5. ä¸‹è½½å¹¶å¯¼å…¥è¡Œæ”¿åŒºåˆ’æ•°æ®ï¼ˆ44854 æ¡ï¼ŒåŒ…å«è¡—é“çº§ï¼‰

#### é˜¶æ®µ2ï¼šåç«¯å¼€å‘ï¼ˆcode + name å†—ä½™å­˜å‚¨ï¼Œå·²æ‹æ¿ï¼‰

1. åˆ›å»º `AdministrativeRegion` æ¨¡å‹
2. åˆ›å»º `RegionService`ï¼ˆ**æ ¸å¿ƒï¼šcode â†’ name è‡ªåŠ¨å¡«å……é€»è¾‘ï¼ŒæŸ¥è¯¢æœ€æ–°å­—å…¸å**ï¼‰
3. å®ç°åŒºåˆ’æŸ¥è¯¢ APIï¼ˆ4ä¸ªæ¥å£ï¼šprovinces/children/search/detailï¼Œæ”¯æŒè¡—é“çº§ï¼‰
4. ä¿®æ”¹ `StoreService`ï¼ˆå¢åŠ åŒºåˆ’æ ¡éªŒ + **è‡ªåŠ¨å¡«å…… `*_name` å­—æ®µï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**ï¼‰
5. æ›´æ–°é—¨åº— CRUD è·¯ç”±ï¼ˆé›†æˆåŒºåˆ’æ ¡éªŒï¼‰
6. å®ç°æ‰¹é‡å¯¼å…¥æ¥å£ï¼ˆCSV/JSONï¼Œç”¨äºè¿ç§»åå¯¼å…¥æ–°é—¨åº—æ•°æ®ï¼‰
7. ç¼–å†™å•å…ƒæµ‹è¯•ï¼ˆæµ‹è¯•åŒºåˆ’æ ¡éªŒã€è‡ªåŠ¨å¡«å……ã€æ‰¹é‡å¯¼å…¥é€»è¾‘ï¼‰

#### é˜¶æ®µ3ï¼šæ•°æ®è¿ç§»ï¼ˆå·²æ‹æ¿ï¼‰

1. å‡†å¤‡é—¨åº—æ•°æ®æ–‡ä»¶ï¼ˆCSV/JSON æ ¼å¼ï¼‰
   - å­—æ®µï¼š`store_name`ã€`store_code`ã€`province_code`ã€`city_code`ã€`district_code`ã€`street_code`ã€`store_address`ã€`contact_name`ã€`contact_mobile`
   - æ•°æ®æ¥æºï¼šç”±ä¸šåŠ¡æ–¹æä¾›ï¼ˆæ—§æ•°æ®å·²åˆ é™¤ï¼‰
2. è°ƒç”¨æ‰¹é‡å¯¼å…¥æ¥å£ï¼ˆ`POST /api/v4/console/stores/batch-import`ï¼‰
3. éªŒè¯å¯¼å…¥ç»“æœï¼ˆæˆåŠŸæ•°é‡ã€å¤±è´¥æ•°é‡ã€é”™è¯¯è¯¦æƒ…ï¼‰

#### é˜¶æ®µ4ï¼šå‰ç«¯å¼€å‘ï¼ˆäº¤ç»™å‰ç«¯å¼€å‘äººå‘˜ï¼‰

1. å°è£…åŒºåˆ’æŸ¥è¯¢ API
2. å¼€å‘çº§è”é€‰æ‹©ç»„ä»¶ï¼ˆçœâ†’å¸‚â†’åŒºâ†’è¡—é“å››çº§è”åŠ¨ï¼‰
3. é›†æˆåˆ°é—¨åº—ç®¡ç†é¡µé¢
4. æäº¤æ•°æ®æ ¼å¼ï¼šä»…éœ€æäº¤ `*_code` å­—æ®µï¼Œ`*_name` ç”±åç«¯è‡ªåŠ¨å¡«å……ï¼ˆæŸ¥è¯¢æœ€æ–°å­—å…¸åï¼‰

### 7.3 é£é™©ä¸åº”å¯¹

| é£é™©                     | å½±å“                     | åº”å¯¹æªæ–½ï¼ˆå·²æ‹æ¿ï¼‰                                                 |
| ------------------------ | ------------------------ | ------------------------------------------------------------------ |
| **æ—§æ•°æ®ä¸¢å¤±**           | ç°æœ‰é—¨åº—æ•°æ®æ°¸ä¹…åˆ é™¤     | **å·²æ‹æ¿ï¼šç›´æ¥æ¸…ç©ºä¸å¯¼å‡ºï¼Œè¿ç§»åé€šè¿‡ CSV/JSON æ‰¹é‡å¯¼å…¥æ–°æ•°æ®**     |
| æ•°æ®æºæ›´æ–°ä¸åŠæ—¶         | æ–°å¢åŒºåˆ’æ— æ³•é€‰æ‹©         | **å·²æ‹æ¿ï¼šä¸Šçº¿åé»˜è®¤ä¸æ›´æ–°å­—å…¸è¡¨**ï¼Œä»…åœ¨è¡Œæ”¿åŒºåˆ’é‡å¤§è°ƒæ•´æ—¶æ‰‹å·¥æ›´æ–° |
| ç›´è¾–å¸‚å±‚çº§ç‰¹æ®Š           | å‰ç«¯é€»è¾‘å¤æ‚             | åç«¯ç»Ÿä¸€å¤„ç†ï¼ˆå¸‚çº§ code=çœçº§ codeï¼‰                                |
| æ€§èƒ½é—®é¢˜ï¼ˆ44854 æ¡åŒºåˆ’ï¼‰ | å‰ç«¯åŠ è½½æ…¢               | æŒ‰éœ€åŠ è½½ï¼ˆå››çº§è”åŠ¨ï¼‰+ å‰ç«¯ç¼“å­˜ + åç«¯ç´¢å¼•ä¼˜åŒ–                      |
| å­—å…¸è¡¨æ”¹åå½±å“å†å²æ•°æ®   | é—¨åº—åŒºåŸŸåç§°ä¸ä¸€è‡´       | **å·²æ‹æ¿ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ä¸ºæœ€æ–°å­—å…¸å**ï¼ˆéä¸¥æ ¼å¿«ç…§ï¼‰           |
| æ‰¹é‡å¯¼å…¥æ•°æ®è´¨é‡         | åŒºåˆ’ä»£ç é”™è¯¯å¯¼è‡´å¯¼å…¥å¤±è´¥ | åç«¯é€è¡Œæ ¡éªŒ + è¿”å›è¯¦ç»†é”™è¯¯ä¿¡æ¯ + æ”¯æŒéƒ¨åˆ†æˆåŠŸ                     |

### 7.4 åç»­ä¼˜åŒ–æ–¹å‘

1. ~~**è¡—é“/ä¹¡é•‡çº§åˆ«**~~ï¼šå·²å®ç°ï¼ˆlevel=4ï¼Œå·²æ‹æ¿ï¼‰
2. **åœ°å›¾å±•ç¤º**ï¼šåˆ©ç”¨ç»çº¬åº¦å­—æ®µï¼Œåœ¨åœ°å›¾ä¸Šæ ‡æ³¨é—¨åº—
3. **æ•°æ®åˆ†æ**ï¼šæŒ‰åŒºåŸŸç»´åº¦ç»Ÿè®¡é—¨åº—æ•°é‡ã€æ¶ˆè´¹é‡‘é¢ç­‰
4. **åŒºåŸŸæƒé™éš”ç¦»**ï¼šåŸºäº `province_code`/`city_code`/`district_code` å®ç°åŒºåŸŸç»ç†æƒé™éš”ç¦»
5. **å­—å…¸è¡¨æ›´æ–°æœºåˆ¶**ï¼šå»ºç«‹è¡Œæ”¿åŒºåˆ’å˜æ›´ç›‘æ§å’Œæ›´æ–°æµç¨‹ï¼ˆé»˜è®¤ä¸æ›´æ–°ï¼Œé‡å¤§è°ƒæ•´æ—¶æ‰‹å·¥æ›´æ–°ï¼‰

---

## 8. é™„å½•

### 8.1 å›½æ ‡è¡Œæ”¿åŒºåˆ’ä»£ç è§„åˆ™

**GB/T 2260-2007 æ ‡å‡†**ï¼š

- **çœçº§**ï¼š2ä½æ•°å­— + 0000ï¼ˆå¦‚ `110000` = åŒ—äº¬å¸‚ï¼‰
- **å¸‚çº§**ï¼šå‰2ä½ä¸ºçœä»£ç  + 2ä½å¸‚ä»£ç  + 00ï¼ˆå¦‚ `110100` = åŒ—äº¬å¸‚ï¼‰
- **åŒºå¿çº§**ï¼šå‰4ä½ä¸ºå¸‚ä»£ç  + 2ä½åŒºå¿ä»£ç ï¼ˆå¦‚ `110108` = æµ·æ·€åŒºï¼‰
- **è¡—é“çº§**ï¼ˆå¯é€‰ï¼‰ï¼šå‰6ä½ä¸ºåŒºå¿ä»£ç  + 3ä½è¡—é“ä»£ç ï¼ˆå¦‚ `110108001` = ä¸‡å¯¿è·¯è¡—é“ï¼‰

**ç‰¹æ®Šæƒ…å†µ**ï¼š

- **ç›´è¾–å¸‚**ï¼šçœçº§å’Œå¸‚çº§ä»£ç ç›¸åŒï¼ˆå¦‚åŒ—äº¬ `110000` = `110100`ï¼‰
- **çœç›´è¾–å¿çº§å¸‚**ï¼šå¸‚çº§ä»£ç ä¸º `XX9000`ï¼ˆå¦‚æµ·å—çœç›´è¾–å¿çº§å¸‚ï¼‰

### 8.2 æ•°æ®ç¤ºä¾‹ï¼ˆå®Œæ•´ï¼‰

```json
{
  "provinces": [
    {
      "region_code": "110000",
      "parent_code": null,
      "region_name": "åŒ—äº¬å¸‚",
      "level": 1,
      "short_name": "äº¬",
      "pinyin": "beijing",
      "status": "active"
    },
    {
      "region_code": "440000",
      "parent_code": null,
      "region_name": "å¹¿ä¸œçœ",
      "level": 1,
      "short_name": "ç²¤",
      "pinyin": "guangdong",
      "status": "active"
    }
  ],
  "cities": [
    {
      "region_code": "110100",
      "parent_code": "110000",
      "region_name": "åŒ—äº¬å¸‚",
      "level": 2,
      "pinyin": "beijing",
      "status": "active"
    },
    {
      "region_code": "440100",
      "parent_code": "440000",
      "region_name": "å¹¿å·å¸‚",
      "level": 2,
      "pinyin": "guangzhou",
      "status": "active"
    },
    {
      "region_code": "440300",
      "parent_code": "440000",
      "region_name": "æ·±åœ³å¸‚",
      "level": 2,
      "pinyin": "shenzhen",
      "status": "active"
    }
  ],
  "districts": [
    {
      "region_code": "110108",
      "parent_code": "110100",
      "region_name": "æµ·æ·€åŒº",
      "level": 3,
      "pinyin": "haidian",
      "longitude": 116.298056,
      "latitude": 39.959912,
      "status": "active"
    },
    {
      "region_code": "440106",
      "parent_code": "440100",
      "region_name": "å¤©æ²³åŒº",
      "level": 3,
      "pinyin": "tianhe",
      "longitude": 113.361328,
      "latitude": 23.124943,
      "status": "active"
    }
  ]
}
```

### 8.3 å‚è€ƒèµ„æº

- **å›½å®¶æ ‡å‡†**ï¼š[GB/T 2260-2007 ä¸­åäººæ°‘å…±å’Œå›½è¡Œæ”¿åŒºåˆ’ä»£ç ](http://www.mca.gov.cn/article/sj/xzqh/)
- **å¼€æºæ•°æ®é›†**ï¼š[modood/Administrative-divisions-of-China](https://github.com/modood/Administrative-divisions-of-China)
- **é«˜å¾·åœ°å›¾API**ï¼š[è¡Œæ”¿åŒºåŸŸæŸ¥è¯¢](https://lbs.amap.com/api/webservice/guide/api/district)
- **Element Plus çº§è”é€‰æ‹©å™¨**ï¼š[Cascader ç»„ä»¶](https://element-plus.org/zh-CN/component/cascader.html)

---

## 9. æ€»ç»“

æœ¬æ–¹æ¡ˆé€šè¿‡å¼•å…¥**æ ‡å‡†åŒ–è¡Œæ”¿åŒºåˆ’ä»£ç  + å†—ä½™ name å­˜å‚¨**ï¼Œè§£å†³äº†é—¨åº—åŒºåŸŸä¿¡æ¯çš„æ•°æ®è´¨é‡é—®é¢˜ï¼Œå¹¶ä¸ºåç»­çš„åŒºåŸŸç»Ÿè®¡ã€åœ°å›¾å±•ç¤ºç­‰åŠŸèƒ½å¥ å®šäº†åŸºç¡€ã€‚

**æ ¸å¿ƒä¼˜åŠ¿**ï¼š

1. âœ… **æ•°æ®æ ‡å‡†åŒ–**ï¼šä½¿ç”¨å›½æ ‡ GB/T 2260 ä»£ç ï¼Œé¿å…è„æ•°æ®
2. âœ… **ç»†ç²’åº¦æ”¯æŒ**ï¼šæ”¯æŒåˆ°è¡—é“/ä¹¡é•‡çº§åˆ«ï¼ˆlevel=4ï¼‰ï¼Œæ»¡è¶³ç²¾ç»†åŒ–ç®¡ç†éœ€æ±‚
3. âœ… **name è‡ªåŠ¨åŒæ­¥**ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶ï¼Œè‡ªåŠ¨ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶æ›´æ–°
4. âœ… **ç»Ÿè®¡åˆ†æå¼º**ï¼šæŒ‰çœ/å¸‚/åŒº/è¡—é“ç»´åº¦èšåˆæ•°æ®ï¼ˆä½¿ç”¨ `*_code` å­—æ®µç´¢å¼•ï¼‰
5. âœ… **ç»´æŠ¤æˆæœ¬ä½**ï¼šä½¿ç”¨å¼€æºæ•°æ®é›†ï¼ˆå”¯ä¸€æ•°æ®æºï¼‰ï¼Œä¸Šçº¿åé»˜è®¤ä¸æ›´æ–°ï¼Œé¿å…é¢‘ç¹å˜æ›´
6. âœ… **æ— å†å²åŒ…è¢±**ï¼šä¸å…¼å®¹æ—§æ•°æ®ï¼Œç›´æ¥æ¸…ç©ºä¸å¯¼å‡ºï¼Œé¿å…è¿‡æ¸¡æ–¹æ¡ˆå¤æ‚æ€§
7. âœ… **æ‰¹é‡å¯¼å…¥æ”¯æŒ**ï¼šè¿ç§»åé€šè¿‡ CSV/JSON æ–‡ä»¶æ‰¹é‡å¯¼å…¥æ–°é—¨åº—æ•°æ®

**æ–¹æ¡ˆé€‰å‹å†³ç­–**ï¼ˆå·²æ‹æ¿ï¼‰ï¼š

- **å­˜å‚¨æ–¹å¼**ï¼šcodeï¼ˆä¸»é”®ï¼Œç´¢å¼•ï¼‰ + nameï¼ˆå†—ä½™ï¼Œä¿®æ”¹åŒºåŸŸæ—¶åˆ·æ–°ï¼‰
- **æ•°æ®æ¥æº**ï¼šæœ¬åœ°æ•°æ®åº“å­—å…¸è¡¨ï¼ˆä¸ä¾èµ–ç¬¬ä¸‰æ–¹APIï¼‰ï¼Œ`modood/Administrative-divisions-of-China`ï¼ˆå”¯ä¸€æ•°æ®æºï¼‰
- **æ•°æ®èŒƒå›´**ï¼šlevel=1/2/3/4ï¼ˆçœ/å¸‚/åŒºå¿/è¡—é“ï¼‰ï¼Œæ€»è®¡çº¦ 44854 æ¡
- **å…¼å®¹æ€§**ï¼šä¸å…¼å®¹æ—§æ•°æ®ï¼Œç›´æ¥æ¸…ç©º `stores` è¡¨ï¼ˆ`TRUNCATE TABLE`ï¼‰ï¼Œä¸å¯¼å‡ºå¤‡ä»½
- **æ›´æ–°ç­–ç•¥**ï¼šä¸Šçº¿åé»˜è®¤ä¸æ›´æ–°å­—å…¸è¡¨ï¼Œä»…åœ¨è¡Œæ”¿åŒºåˆ’é‡å¤§è°ƒæ•´æ—¶æ‰‹å·¥æ›´æ–°
- **name æ›´æ–°è§„åˆ™**ï¼šé—¨åº—ä¿®æ”¹åŒºåŸŸæ—¶ï¼Œé‡æ–°ä»å­—å…¸è¡¨æŸ¥è¯¢æœ€æ–° `*_name` å¹¶æ›´æ–°ï¼ˆéä¸¥æ ¼å¿«ç…§ï¼‰
- **æ‰©å±•æ€§**ï¼šæ”¯æŒæœªæ¥åœ°å›¾å±•ç¤ºã€åŒºåŸŸæƒé™éš”ç¦»

**å®æ–½å»ºè®®**ï¼š

- **ä¼˜å…ˆçº§**ï¼šP1ï¼ˆæ•°æ®è´¨é‡é—®é¢˜ä¸¥é‡ï¼Œéœ€å°½å¿«æ ‡å‡†åŒ–ï¼‰
- **åç«¯å·¥ä½œé‡**ï¼š1.5ä¸ªå·¥ä½œæ—¥ï¼ˆ11å°æ—¶ï¼‰
- **é£é™©**ï¼šä¸­ç­‰ï¼ˆéœ€è¦é€šè¿‡ CSV/JSON æ‰¹é‡å¯¼å…¥æ–°é—¨åº—æ•°æ®ï¼Œä½†æŠ€æœ¯æ–¹æ¡ˆæˆç†Ÿï¼‰
- **å‰ç½®æ¡ä»¶**ï¼šå‡†å¤‡"é—¨åº—åˆ—è¡¨ + çœå¸‚åŒºè¡—é“ code + åœ°å€"æ–‡ä»¶ï¼ˆCSV/JSONï¼‰ï¼Œç”¨äºè¿ç§»åæ‰¹é‡å¯¼å…¥

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2026-01-12  
**ç»´æŠ¤äºº**: åç«¯å¼€å‘å›¢é˜Ÿ
