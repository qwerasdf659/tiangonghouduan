# 数据库备份 - 2025年10月13日

## 📦 备份文件说明

本文件夹包含 **2025年10月13日** 的数据库备份文件（多个时间点）。

### 文件清单

| 文件名 | 大小 | 备份时间 | 说明 |
|--------|------|----------|------|
| `COMPLETE_BACKUP_2025-10-13T17-19-15-446Z.sql` | 151 KB | 17:19 | SQL完整备份（推荐使用） ⭐ |
| `COMPLETE_DATA_2025-10-13T17-19-15-446Z.json` | 331 KB | 17:19 | JSON格式数据备份 ⭐ |
| `data_backup_2025-10-13T15-29-37.json` | 350 KB | 15:29 | 早期数据备份 |
| `full_2025-10-13_183701.sql` | 0 B | 18:37 | ⚠️ 空文件（失败的备份） |
| `BACKUP_MD5_2025-10-13.txt` | - | - | MD5校验文件 |
| `README.md` | - | - | 本说明文件 |

## 📊 推荐使用的备份

建议使用 **17:19** 时间点的完整备份（标记为⭐）：
- `COMPLETE_BACKUP_2025-10-13T17-19-15-446Z.sql` - SQL格式
- `COMPLETE_DATA_2025-10-13T17-19-15-446Z.json` - JSON格式

这两个文件是最完整的备份版本。

## ⚠️ 注意事项

- `full_2025-10-13_183701.sql` 是空文件（0字节），可能是备份失败，建议忽略
- 本文件夹包含3个有效备份和1个失败备份
- 多个备份文件来自不同时间点，请根据需要选择使用

## 🔄 如何使用

### 1. 验证备份完整性

```bash
cd /home/devbox/project/backups/backup_2025-10-13
md5sum -c BACKUP_MD5_2025-10-13.txt
```

### 2. 恢复完整数据库（推荐使用17:19的备份）

```bash
mysql -h <host> -P <port> -u <user> -p restaurant_points_dev < \
  /home/devbox/project/backups/backup_2025-10-13/COMPLETE_BACKUP_2025-10-13T17-19-15-446Z.sql
```

### 3. 从JSON恢复特定表数据

```javascript
// 使用17:19的完整备份
const backup = require('./COMPLETE_DATA_2025-10-13T17-19-15-446Z.json');
const tableData = backup.tables['table_name'];
// 然后插入到目标数据库

// 或使用15:29的早期备份
const earlyBackup = require('./data_backup_2025-10-13T15-29-37.json');
```

## 🔐 数据库信息

- **数据库**: restaurant_points_dev
- **MySQL版本**: 8.0.30
- **字符集**: utf8mb4
- **时区**: 北京时间 UTC+8

## 📅 备份时间线

1. **15:29** - 早期数据备份（350 KB JSON）
2. **17:19** - 完整备份（151 KB SQL + 331 KB JSON）⭐ 推荐
3. **18:37** - 备份失败（0字节文件）

## 💡 管理建议

- 优先使用17:19的完整备份
- 保留15:29的备份作为参考
- 可以删除18:37的空文件（full_2025-10-13_183701.sql）
- 建议将此文件夹打包保存或上传到云存储

---

**备份日期**: 2025年10月13日  
**推荐备份**: 17:19时间点的完整备份  
**文件数量**: 4个文件（3个有效 + 1个失败）
