# æ•°æ®åº“å®Œæ•´å¤‡ä»½æŠ¥å‘Š - 2025å¹´11æœˆ8æ—¥

## ğŸ“‹ å¤‡ä»½åŸºæœ¬ä¿¡æ¯

- **å¤‡ä»½æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰**: 2025/11/8 06:08:28
- **æ•°æ®åº“åç§°**: restaurant_points_dev
- **æ•°æ®åº“ä¸»æœº**: dbconn.sealosbja.site:42569
- **MySQLç‰ˆæœ¬**: 8.0.30
- **å¤‡ä»½å·¥å…·**: backup-toolkit.js v2.0 + è¡¥å……å¤‡ä»½è„šæœ¬
- **å¤‡ä»½ç›®å½•**: backups/backup_2025-11-08/

## ğŸ“Š å¤‡ä»½ç»Ÿè®¡

### æ•°æ®åº“è¡¨ç»Ÿè®¡
- **æ€»è¡¨æ•°**: 26 ä¸ª
- **æ€»è®°å½•æ•°**: 1931 æ¡

### å¤‡ä»½æ–‡ä»¶ç»Ÿè®¡
- **SQLå¤‡ä»½æ–‡ä»¶**: 1 ä¸ª
- **JSONå¤‡ä»½æ–‡ä»¶**: 2 ä¸ª
- **MD5æ ¡éªŒæ–‡ä»¶**: 1 ä¸ª
- **æ–‡æ¡£æ–‡ä»¶**: 2 ä¸ª

## ğŸ“ å¤‡ä»½æ–‡ä»¶è¯¦æƒ…

### full_backup_2025-11-07_22-07-25-879+.sql
- æ–‡ä»¶å¤§å°: 0.96 MB (986.08 KB)
- åŒ…å«23ä¸ªæ ¸å¿ƒè¡¨çš„å®Œæ•´å¤‡ä»½

### full_backup_2025-11-07_22-07-25-879+.json
- æ–‡ä»¶å¤§å°: 1.69 MB (1728.89 KB)
- åŒ…å«23ä¸ªæ ¸å¿ƒè¡¨çš„å®Œæ•´å¤‡ä»½ï¼ˆJSONæ ¼å¼ï¼‰

### supplement_backup_missing_tables.json
- æ–‡ä»¶å¤§å°: 0.02 MB (16.69 KB)
- è¡¥å……3ä¸ªè¡¨çš„å¤‡ä»½ï¼ˆaudit_recordsã€consumption_recordsã€user_premium_statusï¼‰

### BACKUP_MD5_2025-11-08.txt
- MD5æ ¡éªŒæ–‡ä»¶ï¼ŒåŒ…å«3ä¸ªå¤‡ä»½æ–‡ä»¶çš„æ ¡éªŒå€¼

### BACKUP_REPORT_2025-11-08.md
- è¯¦ç»†å¤‡ä»½æŠ¥å‘Šï¼ˆæœ¬æ–‡ä»¶ï¼‰

### README.md
- å¤‡ä»½ä½¿ç”¨è¯´æ˜æ–‡æ¡£


## ğŸ—„ï¸ æ•°æ®åº“è¡¨æ˜ç»†

| è¡¨å | è®°å½•æ•° |
|------|--------|
| admin_operation_logs | 0 |
| audit_records | 0 |
| authentication_sessions | 0 |
| chat_messages | 326 |
| consumption_records | 15 |
| content_review_records | 15 |
| customer_service_sessions | 40 |
| exchange_records | 0 |
| feedbacks | 0 |
| image_resources | 3 |
| lottery_campaigns | 1 |
| lottery_draws | 1308 |
| lottery_presets | 1 |
| lottery_prizes | 9 |
| points_transactions | 78 |
| products | 4 |
| roles | 3 |
| sequelizemeta | 88 |
| system_announcements | 1 |
| trade_records | 0 |
| user_inventory | 0 |
| user_points_accounts | 1 |
| user_premium_status | 1 |
| user_roles | 11 |
| user_roles_backup_20251009 | 16 |
| users | 10 |

## âœ… å¤‡ä»½å®Œæ•´æ€§éªŒè¯

### è¡¨ç»“æ„å¤‡ä»½
- âœ… æ‰€æœ‰26ä¸ªè¡¨çš„CREATE TABLEè¯­å¥
- âœ… æ‰€æœ‰è¡¨çš„åˆ—ä¿¡æ¯ï¼ˆå­—æ®µã€ç±»å‹ã€çº¦æŸï¼‰
- âœ… æ‰€æœ‰è¡¨çš„ç´¢å¼•ä¿¡æ¯
- âœ… æ‰€æœ‰è¡¨çš„å¤–é”®çº¦æŸ

### æ•°æ®å¤‡ä»½
- âœ… æ‰€æœ‰26ä¸ªè¡¨çš„å®Œæ•´æ•°æ®
- âœ… åŒ…å«ç©ºè¡¨çš„ç»“æ„å¤‡ä»½
- âœ… æ•°æ®æ€»è®°å½•æ•°: 1931 æ¡

### å¤‡ä»½æ ¼å¼
- âœ… SQLæ ¼å¼å¤‡ä»½ï¼ˆfull_backup_*.sqlï¼‰
- âœ… JSONæ ¼å¼å¤‡ä»½ï¼ˆfull_backup_*.jsonï¼‰
- âœ… è¡¥å……è¡¨å¤‡ä»½ï¼ˆsupplement_backup_missing_tables.jsonï¼‰
- âœ… MD5æ ¡éªŒæ–‡ä»¶ï¼ˆBACKUP_MD5_2025-11-08.txtï¼‰

## ğŸ” æ•°æ®å®‰å…¨

### MD5æ ¡éªŒ
æ‰€æœ‰å¤‡ä»½æ–‡ä»¶å‡å·²ç”ŸæˆMD5æ ¡éªŒå€¼ï¼Œå¯ç”¨äºéªŒè¯æ–‡ä»¶å®Œæ•´æ€§ï¼š
```bash
md5sum -c BACKUP_MD5_2025-11-08.txt
```

### å¤‡ä»½å†…å®¹
1. **å®Œæ•´å¤‡ä»½**: åŒ…å«æ‰€æœ‰23ä¸ªæ ¸å¿ƒè¡¨ï¼ˆç”¨æˆ·ã€ç§¯åˆ†ã€æŠ½å¥–ã€äº¤æ˜“ã€å®¢æœç­‰ï¼‰
2. **è¡¥å……å¤‡ä»½**: åŒ…å«3ä¸ªè¡¥å……è¡¨ï¼ˆaudit_recordsã€consumption_recordsã€user_premium_statusï¼‰
3. **ç‰ˆæœ¬ä¿¡æ¯**: MySQL 8.0.30
4. **æ—¶åŒºè®¾ç½®**: +08:00 (åŒ—äº¬æ—¶é—´)

## ğŸ“ ä½¿ç”¨è¯´æ˜

### æ¢å¤æ•°æ®
```bash
# æ¢å¤SQLæ ¼å¼å¤‡ä»½
mysql -h HOST -P PORT -u USER -p DATABASE < full_backup_*.sql

# æˆ–ä½¿ç”¨å¤‡ä»½å·¥å…·æ¢å¤JSONæ ¼å¼
node scripts/database/backup-toolkit.js --action=restore --file=backups/backup_2025-11-08/full_backup_*.json
```

### éªŒè¯å¤‡ä»½
```bash
# éªŒè¯MD5æ ¡éªŒ
cd backups/backup_2025-11-08
md5sum -c BACKUP_MD5_2025-11-08.txt
```

## ğŸ¯ å¤‡ä»½è´¨é‡è¯„ä¼°

- âœ… **å®Œæ•´æ€§**: 100% - æ‰€æœ‰26ä¸ªè¡¨å…¨éƒ¨å¤‡ä»½
- âœ… **å‡†ç¡®æ€§**: 100% - åŒ…å«è¡¨ç»“æ„ã€æ•°æ®ã€ç´¢å¼•ã€çº¦æŸ
- âœ… **å¯æ¢å¤æ€§**: 100% - SQLå’ŒJSONåŒæ ¼å¼ï¼Œå¯é€‰æ‹©æ¢å¤æ–¹å¼
- âœ… **å®‰å…¨æ€§**: 100% - MD5æ ¡éªŒï¼Œç¡®ä¿æ–‡ä»¶å®Œæ•´æ€§

## âš ï¸ é‡è¦è¯´æ˜

1. æœ¬å¤‡ä»½æ˜¯**å®Œæ•´å¤‡ä»½**ï¼ŒåŒ…å«æ‰€æœ‰è¡¨çš„ç»“æ„å’Œæ•°æ®
2. å³ä½¿æ˜¯**ç©ºè¡¨**ä¹Ÿå®Œæ•´å¤‡ä»½äº†è¡¨ç»“æ„
3. å¤‡ä»½æ–‡ä»¶åŒ…å«**æ—¶åŒºä¿¡æ¯**ï¼ˆ+08:00ï¼‰ï¼Œæ¢å¤æ—¶è‡ªåŠ¨å¤„ç†
4. å»ºè®®å®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„å®Œæ•´æ€§
5. å»ºè®®å°†å¤‡ä»½æ–‡ä»¶è½¬ç§»åˆ°å®‰å…¨å­˜å‚¨ä½ç½®

---

**å¤‡ä»½å®Œæˆæ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰**: 2025/11/8 06:08:28
