-- MySQL数据库备份
-- 数据库: restaurant_points_dev
-- 备份时间: 2025-09-30T14:41:01.190Z
-- ==========================================

SET FOREIGN_KEY_CHECKS = 0;

-- 表结构: chat_messages
DROP TABLE IF EXISTS `chat_messages`;
CREATE TABLE `chat_messages` (
  `id` bigint NOT NULL,
  `message_id` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '消息标识符',
  `session_id` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '会话标识符',
  `sender_id` int NOT NULL COMMENT '发送者ID',
  `sender_type` enum('user','admin') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '发送者类型',
  `message_source` enum('user_client','admin_client','system') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '消息来源：user_client=用户端，admin_client=管理员端，system=系统消息',
  `content` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '消息内容',
  `message_type` enum('text','image','system') COLLATE utf8mb4_unicode_ci DEFAULT 'text' COMMENT '消息类型',
  `status` enum('sending','sent','delivered','read') COLLATE utf8mb4_unicode_ci DEFAULT 'sent' COMMENT '消息状态',
  `reply_to_id` bigint DEFAULT NULL COMMENT '回复的消息ID',
  `temp_message_id` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '临时消息ID(前端生成)',
  `metadata` json DEFAULT NULL COMMENT '扩展数据(图片信息等)',
  `created_at` datetime NOT NULL COMMENT '创建时间',
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  UNIQUE KEY `message_id` (`message_id`),
  KEY `idx_chat_messages_session_id` (`session_id`),
  KEY `idx_chat_messages_sender_id` (`sender_id`),
  KEY `idx_chat_messages_created_at` (`created_at`),
  KEY `idx_chat_messages_temp_message_id` (`temp_message_id`),
  KEY `idx_chat_messages_source_type` (`message_source`,`sender_type`),
  CONSTRAINT `chat_messages_ibfk_1` FOREIGN KEY (`sender_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='聊天消息表';

-- 表数据: chat_messages (80条记录)
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (4, 'final_test_1755018325458', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '[最终测试] 管理员您好！这是用户界面发送的消息，请确认是否能在管理员界面收到 - 8/12/2025, 5:05:25 PM', 'text', 'sent', NULL, NULL, NULL, '2025-08-13 01:05:25', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (2, 'msg_1755018012807_realtime', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '[实时测试] 你好，我在用户界面发送这条消息，请问管理员能收到吗？- 8/12/2025, 5:00:12 PM', 'text', 'sent', NULL, NULL, NULL, '2025-08-13 01:00:12', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (6, 'msg_1755106553024_bf22dd76', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '123', 'text', 'sent', NULL, 'local_1755106594111', NULL, '2025-08-14 01:35:53', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (7, 'msg_1755106558954_a285aca7', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '11111', 'text', 'sent', NULL, 'local_1755106600062', NULL, '2025-08-14 01:35:58', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (8, 'msg_1755106953153_7c36875b', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '152233', 'text', 'sent', NULL, 'local_1755106994276', NULL, '2025-08-14 01:42:33', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (9, 'msg_1755113399260_071b5475', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '我是管理员13612227930，在用户界面测试发送消息', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:29:59', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (11, 'msg_1755113449386_6b59b7f6', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '我是管理员13612227930，在用户界面测试发送消息', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:30:49', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (13, 'msg_1755113620329_b0abb8a3', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1222', 'text', 'sent', NULL, 'local_1755113661399', NULL, '2025-08-14 03:33:40', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (14, 'msg_1755114692746_ce6e44c1', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:52:13', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:51:32', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (15, 'msg_1755114698475_f33f5634', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:52:19', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:51:38', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (16, 'msg_1755114702278_f92d59df', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:52:23', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:51:42', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (17, 'msg_1755114707640_45557d65', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:52:28', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:51:47', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (18, 'msg_1755114861372_90468c06', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:55:02', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:54:21', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (19, 'msg_1755115020232_b0fc62c3', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:57:41', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:57:00', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (20, 'msg_1755115022999_2f0ff4fc', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午3:57:44', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 03:57:02', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (21, 'msg_1755115355084_9a9c5746', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '[测试消息] 上午4:03:16', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:02:35', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (22, 'msg_1755115419673_58576163', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '12333', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:03:39', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (23, 'msg_1755115447113_57125d2c', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '12332', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:04:07', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (24, 'msg_1755115660538_29cd8703', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '11111', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:07:40', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (25, 'msg_1755115664321_18575608', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '111', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:07:44', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (26, 'msg_1755115677579_0a5b4350', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '333', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:07:57', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (27, 'msg_1755115923444_3cb4901c', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '测试API调用', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:12:03', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (28, 'msg_1755116240093_3fb9452c', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '修复测试', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:17:20', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (29, 'msg_1755116508856_1ba18c39', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '对对对', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:21:48', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (30, 'msg_1755116546474_ba6c1997', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '最终测试', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:22:26', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (31, 'msg_1755116554531_c8df71c4', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '最终测试', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 04:22:34', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (32, 'msg_1755116740174_b184118b', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', 'jxjdj', 'text', 'sent', NULL, 'local_1755116739434', NULL, '2025-08-14 04:25:40', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (33, 'msg_1755116761495_41b75a38', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', 'jsjs', 'text', 'sent', NULL, 'local_1755116760774', NULL, '2025-08-14 04:26:01', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (34, 'msg_1755125319598_837e96e4', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1111', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 06:48:39', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (35, 'msg_1755125339189_43d38777', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '11111', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 06:48:59', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (36, 'msg_1755125362433_01eb0aff', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '11111', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 06:49:22', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (37, 'msg_1755125578124_92dbfdcd', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '11111', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 06:52:58', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (38, 'msg_1755127308286_49e92d4a', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '888888', 'text', 'sent', NULL, 'local_1755127349364', NULL, '2025-08-14 07:21:48', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (39, 'msg_1755178166138_4299ce2a', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '12321', 'text', 'sent', NULL, 'local_1755178207596', NULL, '2025-08-14 21:29:26', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (40, 'msg_1755178172777_9a681a23', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '55555', 'text', 'sent', NULL, 'local_1755178214253', NULL, '2025-08-14 21:29:32', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (41, 'msg_1755178179011_7b0526e1', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '4564654654', 'text', 'sent', NULL, 'local_1755178220484', NULL, '2025-08-14 21:29:39', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (42, 'msg_1755178196182_61fbecd7', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '6454645', 'text', 'sent', NULL, 'local_1755178237663', NULL, '2025-08-14 21:29:56', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (43, 'msg_1755178200381_4ff67241', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '9876454', 'text', 'sent', NULL, 'local_1755178241848', NULL, '2025-08-14 21:30:00', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (44, 'msg_1755178210305_3300eee1', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '55555', 'text', 'sent', NULL, 'local_1755178251773', NULL, '2025-08-14 21:30:10', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (45, 'msg_1755178230605_8a5fde3e', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '55555', 'text', 'sent', NULL, 'local_1755178272073', NULL, '2025-08-14 21:30:30', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (46, 'msg_1755178616312_5314f0ad', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '11111', 'text', 'sent', NULL, 'local_1755178657746', NULL, '2025-08-14 21:36:56', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (47, 'msg_1755178625867_e63864d6', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1111', 'text', 'sent', NULL, 'local_1755178667338', NULL, '2025-08-14 21:37:05', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (48, 'msg_1755179002426_89f0c5d5', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '555555', 'text', 'sent', NULL, 'local_1755179043897', NULL, '2025-08-14 21:43:22', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (49, 'msg_1755179015812_ed039a5f', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '5555555', 'text', 'sent', NULL, 'local_1755179057278', NULL, '2025-08-14 21:43:35', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (50, 'msg_1755179020363_9e3f7cd3', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '55555555', 'text', 'sent', NULL, 'local_1755179061798', NULL, '2025-08-14 21:43:40', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (51, 'msg_1755179030470_bf25e16b', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '999999', 'text', 'sent', NULL, 'local_1755179071936', NULL, '2025-08-14 21:43:50', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (52, 'msg_1755179036567_f2e8f636', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '666666', 'text', 'sent', NULL, 'local_1755179077928', NULL, '2025-08-14 21:43:56', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (53, 'msg_1755179555615_e19814d5', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '555555', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 21:52:35', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (54, 'msg_1755179566865_ac710ac1', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '5201314', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 21:52:46', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (55, 'msg_1755179869653_584d1b0c', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '*99999', 'text', 'sent', NULL, 'local_1755179911081', NULL, '2025-08-14 21:57:49', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (56, 'msg_1755179876801_29ce9fcd', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '88888', 'text', 'sent', NULL, 'local_1755179918250', NULL, '2025-08-14 21:57:56', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (57, 'msg_1755179880251_ad477c30', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '777777', 'text', 'sent', NULL, 'local_1755179921709', NULL, '2025-08-14 21:58:00', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (58, 'msg_1755179883746_81317d07', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '666666', 'text', 'sent', NULL, 'local_1755179925200', NULL, '2025-08-14 21:58:03', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (59, 'msg_1755180313154_88ac28d0', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '88888888', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:05:13', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (60, 'msg_1755180327145_dd5b8df3', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '999999', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:05:27', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (61, 'msg_1755180901251_02c46019', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '57272772', 'text', 'sent', NULL, 'local_1755180942689', NULL, '2025-08-14 22:15:01', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (62, 'msg_1755180905416_b64095e8', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '225255252', 'text', 'sent', NULL, 'local_1755180946862', NULL, '2025-08-14 22:15:05', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (63, 'msg_1755180908111_abdf592f', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '2288828228', 'text', 'sent', NULL, 'local_1755180949569', NULL, '2025-08-14 22:15:08', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (64, 'msg_1755183214484_60ccd116', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '888888', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:53:34', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (65, 'msg_1755183236225_d009d34f', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '999999', 'text', 'sent', NULL, 'local_1755183277644', NULL, '2025-08-14 22:53:56', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (66, 'msg_1755183251644_13b185e1', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '1313131313131', 'text', 'sent', NULL, 'local_1755183293072', NULL, '2025-08-14 22:54:11', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (67, 'msg_1755183287708_338393bf', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '7878787878', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:54:47', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (68, 'msg_1755183306712_35a10c91', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '8798798798798798', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:55:06', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (69, 'msg_1755183338829_cdc92e73', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '00000000777878787', 'text', 'sent', NULL, 'local_1755183380234', NULL, '2025-08-14 22:55:38', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (70, 'msg_1755183348665_89ff0082', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '00000000006666666', 'text', 'sent', NULL, 'local_1755183390071', NULL, '2025-08-14 22:55:48', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (71, 'msg_1755183367637_c9a83e97', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '111111114444444', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:56:07', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (72, 'msg_1755183372824_9db57719', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '111111112222222', 'text', 'sent', NULL, NULL, NULL, '2025-08-14 22:56:12', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (74, 'msg_1755187287222_bb532b59', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1111118556855', 'text', 'sent', NULL, NULL, NULL, '2025-08-15 00:01:27', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (75, 'msg_1755187288724_da56eabd', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1111118556855', 'text', 'sent', NULL, NULL, NULL, '2025-08-15 00:01:28', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (76, 'msg_1755187290671_b295e091', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1111118556855', 'text', 'sent', NULL, NULL, NULL, '2025-08-15 00:01:30', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (77, 'msg_1755187292589_f356039f', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', '1111118556855', 'text', 'sent', NULL, NULL, NULL, '2025-08-15 00:01:32', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (78, 'msg_1755187308750_8e467af5', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '8888888', 'text', 'sent', NULL, 'local_1755187350200', NULL, '2025-08-15 00:01:48', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (79, 'msg_1755187313035_d3db3e7c', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '999999', 'text', 'sent', NULL, 'local_1755187354489', NULL, '2025-08-15 00:01:53', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (80, 'msg_1755187821547_6b9bf2da', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '889989898989898', 'text', 'sent', NULL, 'local_1755187862994', NULL, '2025-08-15 00:10:21', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (81, 'msg_1755187828735_3de3957a', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '9999999999', 'text', 'sent', NULL, 'local_1755187870184', NULL, '2025-08-15 00:10:28', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (82, 'msg_1755187837746_7a9b6b57', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '2222222222', 'text', 'sent', NULL, 'local_1755187879184', NULL, '2025-08-15 00:10:37', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (83, 'msg_1755187877668_b13cf621', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', 'zzzzzz', 'text', 'sent', NULL, NULL, NULL, '2025-08-15 00:11:17', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (84, 'msg_1755187900614_75b4afa9', 'session_1754985854512_4d116f10', 31, 'admin', 'admin_client', 'aaaaaaaa', 'text', 'sent', NULL, NULL, NULL, '2025-08-15 00:11:40', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (1, 'test_msg_1755016807840', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '测试消息 - 8/12/2025, 4:40:07 PM', 'text', 'sent', NULL, NULL, NULL, '2025-08-13 00:40:07', '2025-08-24 23:08:01');
INSERT INTO `chat_messages` (`id`, `message_id`, `session_id`, `sender_id`, `sender_type`, `message_source`, `content`, `message_type`, `status`, `reply_to_id`, `temp_message_id`, `metadata`, `created_at`, `updated_at`) VALUES (3, 'websocket_test_1755018209535', 'session_1754985854512_4d116f10', 31, 'user', 'user_client', '[WebSocket修复测试] 这条消息应该实时通知管理员 - 8/12/2025, 5:03:29 PM', 'text', 'sent', NULL, NULL, NULL, '2025-08-13 01:03:29', '2025-08-24 23:08:01');

-- 表结构: customer_sessions
DROP TABLE IF EXISTS `customer_sessions`;
CREATE TABLE `customer_sessions` (
  `id` bigint NOT NULL,
  `session_id` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '会话标识符',
  `user_id` int NOT NULL COMMENT '用户ID',
  `admin_id` int DEFAULT NULL COMMENT '分配的管理员ID（基于UUID角色系统验证管理员权限）',
  `status` enum('waiting','assigned','active','closed') COLLATE utf8mb4_unicode_ci DEFAULT 'waiting' COMMENT '会话状态',
  `source` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT 'mobile' COMMENT '来源渠道',
  `priority` int DEFAULT '1' COMMENT '优先级(1-5)',
  `last_message_at` datetime DEFAULT NULL COMMENT '最后消息时间',
  `closed_at` datetime DEFAULT NULL COMMENT '关闭时间',
  `satisfaction_score` int DEFAULT NULL COMMENT '满意度评分(1-5)',
  `created_at` datetime NOT NULL COMMENT '创建时间',
  `updated_at` datetime NOT NULL COMMENT '更新时间',
  UNIQUE KEY `session_id` (`session_id`),
  KEY `idx_customer_sessions_user_id` (`user_id`),
  KEY `idx_customer_sessions_admin_id` (`admin_id`),
  KEY `idx_customer_sessions_status` (`status`),
  KEY `idx_customer_sessions_created_at` (`created_at`),
  CONSTRAINT `customer_sessions_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE,
  CONSTRAINT `customer_sessions_ibfk_2` FOREIGN KEY (`admin_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='客户聊天会话表';

-- 表数据: customer_sessions (1条记录)
INSERT INTO `customer_sessions` (`id`, `session_id`, `user_id`, `admin_id`, `status`, `source`, `priority`, `last_message_at`, `closed_at`, `satisfaction_score`, `created_at`, `updated_at`) VALUES (1, 'session_1754985854512_4d116f10', 31, 31, 'active', 'mobile', 1, '2025-08-15 00:11:40', NULL, NULL, '2025-08-12 16:04:14', '2025-08-15 00:11:40');

-- 表结构: exchange_records
DROP TABLE IF EXISTS `exchange_records`;
CREATE TABLE `exchange_records` (
  `id` int NOT NULL,
  `exchange_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '兑换记录业务ID',
  `user_id` int NOT NULL COMMENT '用户ID',
  `product_id` int NOT NULL COMMENT '商品ID',
  `product_snapshot` json NOT NULL COMMENT '商品信息快照JSON',
  `quantity` int NOT NULL DEFAULT '1' COMMENT '兑换数量',
  `total_points` int NOT NULL COMMENT '总消耗积分',
  `exchange_code` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '兑换码（用户凭证）',
  `status` enum('pending','distributed','used','expired','cancelled') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'distributed' COMMENT '兑换状态：pending-待处理，distributed-已分发，used-已使用，expired-已过期，cancelled-已取消',
  `space` enum('lucky','premium') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '兑换空间',
  `exchange_time` datetime NOT NULL COMMENT '兑换时间',
  `expires_at` datetime DEFAULT NULL COMMENT '兑换码过期时间',
  `used_at` datetime DEFAULT NULL COMMENT '使用时间',
  `client_info` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '客户端信息',
  `usage_info` json DEFAULT NULL COMMENT '使用说明JSON',
  `notes` text COLLATE utf8mb4_unicode_ci COMMENT '备注信息',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  UNIQUE KEY `exchange_id` (`exchange_id`),
  UNIQUE KEY `exchange_code` (`exchange_code`),
  KEY `idx_exchange_records_user_id` (`user_id`),
  KEY `idx_exchange_records_product_id` (`product_id`),
  KEY `idx_exchange_records_status` (`status`),
  KEY `idx_exchange_records_space` (`space`),
  KEY `idx_exchange_records_exchange_time` (`exchange_time`),
  KEY `idx_exchange_records_status_time` (`status`,`exchange_time`),
  KEY `idx_exchange_records_user_time` (`user_id`,`created_at`),
  KEY `idx_exchange_records_product_status` (`product_id`,`status`),
  KEY `idx_exchange_status_time` (`status`,`created_at`),
  CONSTRAINT `fk_exchange_records_product_id` FOREIGN KEY (`product_id`) REFERENCES `products` (`commodity_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_exchange_records_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='兑换记录表 - 记录用户商品兑换信息';

-- 表结构: feedbacks
DROP TABLE IF EXISTS `feedbacks`;
CREATE TABLE `feedbacks` (
  `feedback_id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL COMMENT '用户ID',
  `category` enum('technical','feature','bug','complaint','suggestion','other') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'other' COMMENT '反馈分类',
  `content` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '反馈内容',
  `attachments` json DEFAULT NULL COMMENT '附件信息（图片URLs等）',
  `status` enum('pending','processing','replied','closed') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'pending' COMMENT '处理状态',
  `priority` enum('high','medium','low') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'medium' COMMENT '优先级',
  `user_ip` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '用户IP（管理员可见）',
  `device_info` json DEFAULT NULL COMMENT '设备信息（管理员可见）',
  `admin_id` int DEFAULT NULL COMMENT '处理反馈的管理员ID（基于UUID角色系统验证管理员权限）',
  `reply_content` text COLLATE utf8mb4_unicode_ci COMMENT '回复内容',
  `replied_at` datetime DEFAULT NULL COMMENT '回复时间',
  `internal_notes` text COLLATE utf8mb4_unicode_ci COMMENT '内部备注（管理员可见）',
  `estimated_response_time` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '预计响应时间',
  `created_at` datetime NOT NULL COMMENT '创建时间',
  `updated_at` datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (`feedback_id`),
  KEY `user_id` (`user_id`),
  KEY `admin_id` (`admin_id`),
  CONSTRAINT `feedbacks_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `feedbacks_ibfk_2` FOREIGN KEY (`admin_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户反馈表 - 支持客服反馈功能';

-- 表结构: image_resources
DROP TABLE IF EXISTS `image_resources`;
CREATE TABLE `image_resources` (
  `image_id` int NOT NULL AUTO_INCREMENT,
  `business_type` enum('lottery','exchange','trade','uploads','user_upload_review') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '业务类型：抽奖/兑换/交易/上传/用户上传审核',
  `category` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '资源分类：prizes/products/items/pending_review等',
  `context_id` int NOT NULL COMMENT '上下文ID：用户ID/奖品ID/商品ID等',
  `user_id` int DEFAULT NULL COMMENT '关联用户ID（上传用户）',
  `file_path` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '文件存储路径',
  `thumbnail_paths` json DEFAULT NULL COMMENT '缩略图路径集合：{small: "", medium: "", large: ""}',
  `original_filename` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '原始文件名',
  `file_size` int NOT NULL COMMENT '文件大小（字节）',
  `mime_type` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'MIME类型',
  `status` enum('active','archived','deleted') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active' COMMENT '资源状态',
  `review_status` enum('pending','approved','rejected','reviewing') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '审核状态',
  `reviewer_id` int DEFAULT NULL COMMENT '审核员ID',
  `review_reason` text COLLATE utf8mb4_unicode_ci COMMENT '审核说明',
  `reviewed_at` datetime DEFAULT NULL COMMENT '审核时间',
  `points_awarded` int DEFAULT NULL COMMENT '奖励积分数量',
  `created_at` datetime NOT NULL COMMENT '创建时间',
  `upload_id` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '上传记录业务ID（兼容原UploadReview）',
  `is_upload_review` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否为上传审核资源',
  `source_module` enum('system','lottery','exchange','user_upload','admin') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'system' COMMENT '来源模块',
  `ip_address` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'IP地址',
  PRIMARY KEY (`image_id`),
  UNIQUE KEY `upload_id` (`upload_id`),
  KEY `idx_business_category` (`business_type`,`category`),
  KEY `idx_user_business` (`user_id`,`business_type`,`status`),
  KEY `idx_review_status` (`review_status`,`business_type`,`created_at`),
  KEY `idx_context_category` (`context_id`,`category`,`status`),
  KEY `idx_created_status` (`created_at`,`status`),
  KEY `reviewer_id` (`reviewer_id`),
  CONSTRAINT `image_resources_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`),
  CONSTRAINT `image_resources_ibfk_2` FOREIGN KEY (`reviewer_id`) REFERENCES `users` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='统一图片资源管理表';

-- 表数据: image_resources (3条记录)
INSERT INTO `image_resources` (`image_id`, `business_type`, `category`, `context_id`, `user_id`, `file_path`, `thumbnail_paths`, `original_filename`, `file_size`, `mime_type`, `status`, `review_status`, `reviewer_id`, `review_reason`, `reviewed_at`, `points_awarded`, `created_at`, `upload_id`, `is_upload_review`, `source_module`, `ip_address`) VALUES (1, 'lottery', 'prize_image', 1, NULL, '/prizes/prize_001.jpg', NULL, 'prize_001.jpg', 1024, 'image/jpeg', 'active', NULL, NULL, NULL, NULL, 0, '2025-09-23 01:15:43', NULL, 0, 'system', NULL);
INSERT INTO `image_resources` (`image_id`, `business_type`, `category`, `context_id`, `user_id`, `file_path`, `thumbnail_paths`, `original_filename`, `file_size`, `mime_type`, `status`, `review_status`, `reviewer_id`, `review_reason`, `reviewed_at`, `points_awarded`, `created_at`, `upload_id`, `is_upload_review`, `source_module`, `ip_address`) VALUES (2, 'user_upload_review', 'user_upload', 1, NULL, '/uploads/test_receipt.jpg', NULL, 'receipt.jpg', 2048, 'image/jpeg', 'active', 'approved', NULL, '上传凭证清晰有效', '2025-09-23 01:15:43', 10, '2025-09-23 01:15:42', NULL, 1, '', NULL);
INSERT INTO `image_resources` (`image_id`, `business_type`, `category`, `context_id`, `user_id`, `file_path`, `thumbnail_paths`, `original_filename`, `file_size`, `mime_type`, `status`, `review_status`, `reviewer_id`, `review_reason`, `reviewed_at`, `points_awarded`, `created_at`, `upload_id`, `is_upload_review`, `source_module`, `ip_address`) VALUES (3, 'user_upload_review', 'user_upload', 1, NULL, '/uploads/test_receipt.jpg', NULL, 'receipt.jpg', 2048, 'image/jpeg', 'active', 'pending', NULL, NULL, NULL, 0, '2025-09-23 01:15:27', NULL, 1, '', NULL);

-- 表结构: lottery_campaigns
DROP TABLE IF EXISTS `lottery_campaigns`;
CREATE TABLE `lottery_campaigns` (
  `campaign_id` int NOT NULL AUTO_INCREMENT COMMENT '活动唯一标识',
  `campaign_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '活动名称',
  `campaign_code` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '活动代码(唯一)',
  `campaign_type` enum('daily','weekly','event','permanent','pool_basic','pool_advanced','pool_vip','pool_newbie') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '活动类型，新增池类型支持',
  `cost_per_draw` decimal(10,2) NOT NULL COMMENT '每次抽奖消耗积分',
  `max_draws_per_user_daily` int NOT NULL DEFAULT '1',
  `max_draws_per_user_total` int DEFAULT NULL COMMENT '每用户总最大抽奖次数',
  `total_prize_pool` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT '总奖池价值',
  `remaining_prize_pool` decimal(15,2) NOT NULL DEFAULT '0.00' COMMENT '剩余奖池价值',
  `prize_distribution_config` json NOT NULL COMMENT '奖品分布配置',
  `start_time` datetime NOT NULL COMMENT '活动开始时间',
  `end_time` datetime NOT NULL COMMENT '活动结束时间',
  `daily_reset_time` time NOT NULL DEFAULT '00:00:00',
  `banner_image_url` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '活动横幅图片',
  `description` text COLLATE utf8mb4_unicode_ci COMMENT '活动描述',
  `rules_text` text COLLATE utf8mb4_unicode_ci COMMENT '活动规则说明',
  `status` enum('draft','active','paused','ended','cancelled') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'draft',
  `total_participants` int NOT NULL DEFAULT '0',
  `total_draws` int NOT NULL DEFAULT '0',
  `total_prizes_awarded` int NOT NULL DEFAULT '0',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`campaign_id`),
  UNIQUE KEY `campaign_code` (`campaign_code`),
  KEY `idx_campaign_type` (`campaign_type`),
  KEY `idx_time_range` (`start_time`,`end_time`),
  KEY `idx_cost_per_draw` (`cost_per_draw`),
  KEY `idx_lc_status` (`status`),
  KEY `idx_lottery_campaigns_status_time` (`status`,`start_time`,`end_time`),
  KEY `idx_lc_pool_type` (`campaign_type`),
  KEY `idx_campaigns_status` (`status`),
  KEY `idx_campaigns_time_range` (`start_time`,`end_time`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='抽奖活动配置表';

-- 表数据: lottery_campaigns (1条记录)
INSERT INTO `lottery_campaigns` (`campaign_id`, `campaign_name`, `campaign_code`, `campaign_type`, `cost_per_draw`, `max_draws_per_user_daily`, `max_draws_per_user_total`, `total_prize_pool`, `remaining_prize_pool`, `prize_distribution_config`, `start_time`, `end_time`, `daily_reset_time`, `banner_image_url`, `description`, `rules_text`, `status`, `total_participants`, `total_draws`, `total_prizes_awarded`, `created_at`, `updated_at`) VALUES (2, '餐厅积分抽奖', 'RESTAURANT_LOTTERY_2025', 'permanent', '100.00', 50, NULL, '10000.00', '10000.00', '{}', '2025-08-19 00:00:00', '2025-12-31 23:59:59', '00:00:00', NULL, '餐厅积分抽奖 - 100积分抽一次，累计10次保底中九八折劵', NULL, 'active', 1570, 0, 0, '2025-08-20 03:55:06', '2025-09-22 00:11:49');

-- 表结构: lottery_draws
DROP TABLE IF EXISTS `lottery_draws`;
CREATE TABLE `lottery_draws` (
  `draw_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '抽奖记录唯一标识',
  `user_id` int NOT NULL COMMENT '用户ID',
  `campaign_id` int NOT NULL DEFAULT '2' COMMENT '活动ID',
  `prize_id` int DEFAULT NULL COMMENT '奖品ID',
  `prize_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '奖品名称',
  `prize_type` enum('points','product','coupon','special') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '奖品类型',
  `prize_value` int DEFAULT NULL COMMENT '奖品价值',
  `draw_type` enum('single','triple','five','ten') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '抽奖类型：single=单抽，triple=三连抽，five=五连抽，ten=十连抽',
  `draw_sequence` int DEFAULT NULL COMMENT '抽奖序号',
  `cost_points` int DEFAULT NULL COMMENT '消耗积分',
  `stop_angle` decimal(5,2) DEFAULT NULL COMMENT '停止角度',
  `batch_id` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '批次ID',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `draw_count` int DEFAULT NULL COMMENT '抽奖次数',
  `prize_description` text COLLATE utf8mb4_unicode_ci COMMENT '奖品描述',
  `prize_image` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '奖品图片',
  `is_winner` tinyint(1) DEFAULT '0' COMMENT '是否中奖',
  `guarantee_triggered` tinyint(1) DEFAULT '0' COMMENT '是否触发保底机制',
  `remaining_guarantee` int DEFAULT '0' COMMENT '剩余保底次数',
  `draw_config` json DEFAULT NULL COMMENT '抽奖配置快照',
  `result_metadata` json DEFAULT NULL COMMENT '抽奖结果元数据',
  `ip_address` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '用户IP地址',
  `lottery_id` char(36) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '关联的抽奖活动ID，允许为空用于测试',
  PRIMARY KEY (`draw_id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_prize_id` (`prize_id`),
  KEY `idx_draw_type` (`draw_type`),
  KEY `idx_batch_id` (`batch_id`),
  KEY `idx_created_at` (`created_at`),
  KEY `idx_user_created` (`user_id`,`created_at`),
  KEY `idx_user_type_time` (`user_id`,`draw_type`,`created_at`),
  KEY `lottery_records_draw_type_created_at` (`draw_type`,`created_at`),
  KEY `idx_prize_type` (`prize_type`),
  KEY `idx_lottery_records_user_created` (`user_id`,`created_at`),
  KEY `idx_lottery_batch_query` (`user_id`,`batch_id`,`draw_sequence`),
  KEY `idx_batch_integrity` (`batch_id`,`draw_count`),
  KEY `idx_user_campaign_time` (`user_id`,`campaign_id`,`created_at`),
  KEY `idx_records_user_id` (`user_id`),
  KEY `idx_records_campaign_id` (`campaign_id`),
  KEY `idx_records_is_winner` (`is_winner`),
  KEY `idx_records_created_at` (`created_at`),
  KEY `idx_lottery_records_lottery_winner` (`lottery_id`,`is_winner`),
  KEY `idx_lottery_records_time_winner` (`created_at`,`is_winner`),
  CONSTRAINT `fk_lottery_records_campaign` FOREIGN KEY (`campaign_id`) REFERENCES `lottery_campaigns` (`campaign_id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_lottery_records_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_lottery_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE,
  CONSTRAINT `lottery_draws_ibfk_4` FOREIGN KEY (`prize_id`) REFERENCES `lottery_prizes` (`prize_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `lottery_draws_ibfk_5` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表数据: lottery_draws (128条记录)
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162478961_31_k13eyj', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:38', '2025-09-30 00:14:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479023_31_g3ks1f', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479061_31_qjja8g', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479128_31_y5lgjv', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479159_31_twilky', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479209_31_spb7b1', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479353_31_413hwp', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479363_31_6kx257', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479378_31_59bcjb', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479388_31_ap5a8l', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759162479398_31_bwte24', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 00:14:39', '2025-09-30 00:14:39', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333492_31_l9xr5q', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333549_31_qui9eb', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333586_31_iunmwe', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333621_31_nbfivr', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333650_31_yvads6', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333697_31_u89gc0', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333729_31_wmb1lx', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333762_31_fk9pja', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333900_31_xbkbpd', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333902_31_dpbjev', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333906_31_pyf5ie', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165333908_31_2xsgli', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:13', '2025-09-30 01:02:13', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759165334186_31_fbcwav', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:02:14', '2025-09-30 01:02:14', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231251_31_xebroj', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231288_31_i9g6ma', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231326_31_p1v5v2', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231360_31_4a0nv5', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231395_31_wvxjlk', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231446_31_m166jh', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231474_31_1c2fo7', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231504_31_xomg8x', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231651_31_ay3i6d', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231655_31_wwo7bd', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231659_31_k9ae9k', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231667_31_nrgay2', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759168231669_31_rved4e', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 01:50:31', '2025-09-30 01:50:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751684_31_u2n157', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751739_31_h780tw', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751771_31_v083yp', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751799_31_luorxq', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751826_31_zhfixz', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751884_31_ws15hr', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751920_31_my9a6v', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170751954_31_ogj05e', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:31', '2025-09-30 02:32:31', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170752082_31_232taw', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:32', '2025-09-30 02:32:32', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170752085_31_4sfrdm', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:32', '2025-09-30 02:32:32', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170752088_31_9emw2v', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:32', '2025-09-30 02:32:32', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170752091_31_daakl1', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:32', '2025-09-30 02:32:32', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759170752094_31_b8y2zj', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:32:32', '2025-09-30 02:32:32', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348462_31_q04nl3', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348508_31_dh9lwn', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348542_31_0cs83f', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348573_31_8eoo31', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348610_31_61842u', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348651_31_m328ix', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348681_31_ot71r8', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348712_31_1ocloy', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171348842_31_gg6d49', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:28', '2025-09-30 02:42:28', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171349068_31_3zuivu', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171349078_31_v6w77j', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171349082_31_u4z2xo', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759171349090_31_g0twny', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174418688_31_ahu2nu', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:38', '2025-09-30 03:33:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174418772_31_d71q2i', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:38', '2025-09-30 03:33:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174418819_31_lsioo1', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:38', '2025-09-30 03:33:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174418866_31_3zseqm', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:38', '2025-09-30 03:33:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174418898_31_mp51ga', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:38', '2025-09-30 03:33:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174418967_31_1fyrl2', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:38', '2025-09-30 03:33:38', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419009_31_8v9zal', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419063_31_8q2u5k', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419214_31_c8h9dp', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419218_31_sc9l75', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419226_31_ryhirh', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419234_31_6uun60', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174419242_31_vutfn7', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:33:39', '2025-09-30 03:33:39', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595155_31_4obu1b', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595203_31_nb9ltl', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595239_31_cwk81b', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595268_31_k38oay', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595301_31_xaofhg', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595357_31_0mu3yj', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595385_31_fm20p2', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595416_31_5jfk05', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595547_31_plhfz1', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595555_31_v1vm1a', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595557_31_g1eree', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595559_31_0z3ctt', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759174595564_31_wkbmqe', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:36:35', '2025-09-30 03:36:35', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340155_31_oa7929', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340245_31_jl490d', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340281_31_ivl0js', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340310_31_yhtmhk', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340340_31_297dnm', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340381_31_rf5yzk', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340417_31_gl0ke7', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340450_31_li6dsy', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340587_31_ia5c1c', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340591_31_hl6390', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340594_31_jmm7z1', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340596_31_y4omt0', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759175340612_31_xiy39z', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 03:49:00', '2025-09-30 03:49:00', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601139_31_rk7x55', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601191_31_hw6am6', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601230_31_o7bole', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601263_31_pu8118', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601302_31_jcno1o', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601342_31_9zwp65', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601371_31_vdyg2k', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601399_31_gos1er', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601569_31_e1fvyt', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601577_31_t8eguh', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601579_31_bijohj', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601581_31_09vfyg', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242601592_31_d2d4r7', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:01', '2025-09-30 22:30:01', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630177_31_4c6hh8', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630226_31_m45oae', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630259_31_rwuxfq', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630287_31_nvfkf8', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630317_31_h9846t', 31, 2, 9, '九八折券', 'coupon', 98, NULL, NULL, 100, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 1, 1, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630377_31_vz45rh', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630412_31_l8q4t4', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630446_31_t80t1j', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630644_31_7xxoqe', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630651_31_0xv18u', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630653_31_d6l9lm', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 1, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630659_31_3d5obi', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');
INSERT INTO `lottery_draws` (`draw_id`, `user_id`, `campaign_id`, `prize_id`, `prize_name`, `prize_type`, `prize_value`, `draw_type`, `draw_sequence`, `cost_points`, `stop_angle`, `batch_id`, `created_at`, `updated_at`, `draw_count`, `prize_description`, `prize_image`, `is_winner`, `guarantee_triggered`, `remaining_guarantee`, `draw_config`, `result_metadata`, `ip_address`, `lottery_id`) VALUES ('draw_1759242630664_31_p3js4w', 31, 2, NULL, NULL, NULL, NULL, 'single', NULL, NULL, NULL, NULL, '2025-09-30 22:30:30', '2025-09-30 22:30:30', NULL, NULL, NULL, 0, 0, 0, NULL, NULL, NULL, '2');

-- 表结构: lottery_pity
DROP TABLE IF EXISTS `lottery_pity`;
CREATE TABLE `lottery_pity` (
  `pity_id` int NOT NULL AUTO_INCREMENT COMMENT '保底记录ID',
  `user_id` int NOT NULL COMMENT '用户ID',
  `current_count` int NOT NULL DEFAULT '0' COMMENT '当前抽奖次数计数',
  `remaining_draws` int NOT NULL DEFAULT '10' COMMENT '距离保底剩余次数',
  `pity_limit` int NOT NULL DEFAULT '10' COMMENT '保底次数限制',
  `pity_prize_id` int NOT NULL DEFAULT '2' COMMENT '保底奖品ID (九八折券)',
  `last_draw_time` datetime DEFAULT NULL COMMENT '最后抽奖时间',
  `pity_triggered_count` int NOT NULL DEFAULT '0' COMMENT '保底触发次数',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`pity_id`),
  UNIQUE KEY `idx_user_unique` (`user_id`),
  KEY `idx_current_count` (`current_count`),
  KEY `idx_last_draw_time` (`last_draw_time`),
  CONSTRAINT `lottery_pity_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表数据: lottery_pity (1条记录)
INSERT INTO `lottery_pity` (`pity_id`, `user_id`, `current_count`, `remaining_draws`, `pity_limit`, `pity_prize_id`, `last_draw_time`, `pity_triggered_count`, `created_at`, `updated_at`) VALUES (24, 31, 4, 6, 10, 2, '2025-07-27 21:19:32', 111, '2025-07-07 00:11:13', '2025-07-27 21:19:32');

-- 表结构: lottery_presets
DROP TABLE IF EXISTS `lottery_presets`;
CREATE TABLE `lottery_presets` (
  `preset_id` varchar(50) NOT NULL,
  `user_id` int NOT NULL,
  `prize_id` int NOT NULL,
  `queue_order` int NOT NULL,
  `status` enum('pending','used') DEFAULT 'pending',
  `created_by` int DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`preset_id`),
  KEY `prize_id` (`prize_id`),
  KEY `idx_user_status` (`user_id`,`status`),
  KEY `idx_queue_order` (`queue_order`),
  KEY `idx_created_by` (`created_by`),
  KEY `idx_created_at` (`created_at`),
  CONSTRAINT `lottery_presets_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE,
  CONSTRAINT `lottery_presets_ibfk_2` FOREIGN KEY (`prize_id`) REFERENCES `lottery_prizes` (`prize_id`) ON DELETE CASCADE,
  CONSTRAINT `lottery_presets_ibfk_3` FOREIGN KEY (`created_by`) REFERENCES `users` (`user_id`) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='抽奖结果预设表（简化版）';

-- 表数据: lottery_presets (1条记录)
INSERT INTO `lottery_presets` (`preset_id`, `user_id`, `prize_id`, `queue_order`, `status`, `created_by`, `created_at`) VALUES ('preset_1758829833421_0bhib3', 31, 1, 1, 'used', 31, '2025-09-26 03:50:33');

-- 表结构: lottery_prizes
DROP TABLE IF EXISTS `lottery_prizes`;
CREATE TABLE `lottery_prizes` (
  `prize_id` int NOT NULL AUTO_INCREMENT COMMENT '奖品ID',
  `prize_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '奖品名称（前端显示）',
  `prize_type` enum('points','coupon','physical','empty') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '奖品类型',
  `prize_value` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '奖品价值',
  `angle` int NOT NULL COMMENT '转盘角度（Canvas渲染位置，0-315度45度间隔）',
  `color` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '#FF6B6B' COMMENT '转盘颜色（前端渲染，十六进制格式）',
  `probability` decimal(6,4) NOT NULL DEFAULT '0.0000' COMMENT '中奖概率（抽奖算法核心）',
  `is_activity` tinyint(1) NOT NULL DEFAULT '0' COMMENT '特殊动效标记（差点中奖动画）',
  `cost_points` int NOT NULL DEFAULT '100' COMMENT '每次抽奖消耗积分',
  `status` enum('active','inactive') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active' COMMENT '奖品状态',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `campaign_id` int DEFAULT '1' COMMENT '关联活动ID',
  `prize_description` text COLLATE utf8mb4_unicode_ci COMMENT '奖品描述',
  `image_id` int DEFAULT NULL COMMENT '奖品图片ID',
  `win_probability` decimal(8,6) NOT NULL DEFAULT '0.100000' COMMENT '中奖概率',
  `stock_quantity` int NOT NULL DEFAULT '0' COMMENT '库存数量',
  `max_daily_wins` int DEFAULT NULL COMMENT '每日最大中奖次数',
  `total_win_count` int NOT NULL DEFAULT '0' COMMENT '总中奖次数',
  `daily_win_count` int NOT NULL DEFAULT '0' COMMENT '今日中奖次数',
  `sort_order` int NOT NULL DEFAULT '100' COMMENT '排序权重',
  PRIMARY KEY (`prize_id`),
  KEY `idx_angle` (`angle`),
  KEY `idx_probability` (`probability`),
  KEY `idx_status` (`status`),
  KEY `idx_prize_type` (`prize_type`),
  KEY `idx_status_probability` (`status`,`probability`),
  KEY `idx_prizes_campaign_id` (`campaign_id`),
  KEY `idx_prizes_type` (`prize_type`)
) ENGINE=InnoDB AUTO_INCREMENT=67 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表数据: lottery_prizes (9条记录)
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (1, '八八折', 'coupon', '150.00', 0, '#FF6B35', '0.0000', 1, 100, 'active', '2025-06-28 03:53:22', '2025-09-26 22:24:50', 2, '八八折优惠券', NULL, '0.000000', 10, NULL, 0, 0, 1);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (2, '100积分', 'points', '100.00', 36, '#FFD700', '0.3000', 1, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '100积分奖励', NULL, '0.300000', 1000, NULL, 0, 0, 2);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (3, '甜品1份', 'physical', '150.00', 72, '#F39C12', '0.2000', 0, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '绿茶饼或馒头', NULL, '0.200000', 1000, NULL, 0, 0, 3);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (4, '青菜1份', 'physical', '120.00', 108, '#2ECC71', '0.3000', 0, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '新鲜青菜', NULL, '0.300000', 1000, NULL, 0, 0, 4);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (5, '2000积分券', 'points', '2000.00', 144, '#9B59B6', '0.0100', 0, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '2000积分兑换券', NULL, '0.010000', 100, NULL, 0, 0, 5);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (6, '500积分券', 'points', '500.00', 180, '#3498DB', '0.1800', 0, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '500积分兑换券', NULL, '0.180000', 1000, NULL, 0, 0, 6);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (7, '精品首饰一个', 'physical', '800.00', 216, '#E74C3C', '0.0100', 0, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '精品首饰', NULL, '0.010000', 50, NULL, 0, 0, 7);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (8, '生腌拼盘158', 'physical', '1580.00', 252, '#1ABC9C', '0.0000', 1, 100, 'active', '2025-06-28 03:53:22', '2025-09-18 08:32:10', 2, '招牌生腌拼盘', NULL, '0.000000', 100, NULL, 0, 0, 8);
INSERT INTO `lottery_prizes` (`prize_id`, `prize_name`, `prize_type`, `prize_value`, `angle`, `color`, `probability`, `is_activity`, `cost_points`, `status`, `created_at`, `updated_at`, `campaign_id`, `prize_description`, `image_id`, `win_probability`, `stock_quantity`, `max_daily_wins`, `total_win_count`, `daily_win_count`, `sort_order`) VALUES (9, '九八折券', 'coupon', '98.00', 288, '#27AE60', '0.0000', 0, 100, 'active', '2025-09-18 02:02:33', '2025-09-30 22:30:30', 2, '保底抽奖专用券', NULL, '0.000000', 886, NULL, 0, 0, 9);

-- 表结构: points_transactions
DROP TABLE IF EXISTS `points_transactions`;
CREATE TABLE `points_transactions` (
  `transaction_id` bigint NOT NULL AUTO_INCREMENT COMMENT '交易唯一标识',
  `user_id` int NOT NULL COMMENT '用户ID',
  `account_id` bigint NOT NULL COMMENT '积分账户ID',
  `transaction_type` enum('earn','consume','expire','refund') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '交易类型',
  `points_amount` decimal(10,2) NOT NULL COMMENT '积分数量(正数=获得,负数=消耗)',
  `points_balance_before` decimal(10,2) NOT NULL COMMENT '交易前余额',
  `points_balance_after` decimal(10,2) NOT NULL COMMENT '交易后余额',
  `business_type` enum('task_complete','lottery_consume','admin_adjust','refund','expire','behavior_reward','recommendation_bonus','activity_bonus') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '业务类型',
  `source_type` enum('system','user','admin','api','batch') COLLATE utf8mb4_unicode_ci DEFAULT 'system' COMMENT '积分来源类型',
  `business_id` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '关联业务ID',
  `reference_data` json DEFAULT NULL COMMENT '业务参考数据',
  `behavior_context` json DEFAULT NULL COMMENT '行为上下文数据',
  `trigger_event` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '触发事件类型',
  `recommendation_source` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '推荐来源',
  `transaction_title` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '交易标题',
  `transaction_description` text COLLATE utf8mb4_unicode_ci COMMENT '交易描述',
  `operator_id` int DEFAULT NULL COMMENT '操作员ID(管理员调整时使用)',
  `transaction_time` datetime(3) NOT NULL COMMENT '交易时间(毫秒精度)',
  `effective_time` datetime DEFAULT NULL COMMENT '生效时间',
  `expire_time` datetime DEFAULT NULL COMMENT '过期时间(仅earn类型)',
  `status` enum('pending','completed','failed','cancelled') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'pending' COMMENT '交易状态',
  `failure_reason` text COLLATE utf8mb4_unicode_ci COMMENT '失败原因',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`transaction_id`),
  KEY `idx_user_time` (`user_id`,`transaction_time`),
  KEY `idx_account_id` (`account_id`),
  KEY `idx_transaction_type` (`transaction_type`,`transaction_time`),
  KEY `idx_business_type` (`business_type`,`business_id`),
  KEY `idx_status` (`status`),
  KEY `idx_effective_time` (`effective_time`),
  KEY `idx_expire_time` (`expire_time`),
  KEY `idx_trigger_event` (`trigger_event`),
  KEY `idx_recommendation_source` (`recommendation_source`),
  KEY `idx_pt_transaction_type` (`transaction_type`),
  KEY `idx_pt_business_type` (`business_type`),
  KEY `idx_points_transactions_source_type` (`source_type`),
  KEY `idx_points_tx_user_type_time` (`user_id`,`transaction_type`,`transaction_time`),
  KEY `idx_pt_user_time` (`user_id`,`transaction_time`),
  KEY `idx_pt_account_id` (`account_id`),
  KEY `idx_pt_status` (`status`),
  KEY `idx_pt_transaction_time` (`transaction_time`),
  KEY `idx_points_transactions_user_type` (`user_id`,`transaction_type`),
  CONSTRAINT `points_transactions_ibfk_3` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `points_transactions_ibfk_4` FOREIGN KEY (`account_id`) REFERENCES `user_points_accounts` (`account_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=1097 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='积分交易记录表 - 记录所有积分变动';

-- 表数据: points_transactions (192条记录)
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (28, 31, 100, 'earn', '50.00', '0.00', '50.00', 'admin_adjust', 'system', 'welcome_bonus_31', NULL, NULL, NULL, NULL, '新用户注册奖励', '系统自动发放的新用户积分奖励', NULL, '2025-08-20 03:55:06', NULL, NULL, 'completed', NULL, '2025-08-20 03:55:06', '2025-08-20 03:55:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (36, 31, 100, 'earn', '2000.00', '50.00', '2050.00', 'admin_adjust', 'system', 'test_recharge_31_1755989488840', NULL, NULL, NULL, NULL, '测试积分充值', '为增强抽奖测试添加的积分', NULL, '2025-08-24 06:51:28', NULL, NULL, 'completed', NULL, '2025-08-24 06:51:28', '2025-08-24 06:51:28');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (37, 31, 100, 'consume', '-5.00', '2050.00', '2045.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 06:55:01', NULL, NULL, 'completed', NULL, '2025-08-24 06:55:01', '2025-08-24 06:55:01');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (38, 31, 100, 'consume', '-5.00', '2045.00', '2040.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 06:58:14', NULL, NULL, 'completed', NULL, '2025-08-24 06:58:14', '2025-08-24 06:58:14');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (39, 31, 100, 'consume', '-5.00', '2040.00', '2035.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 06:58:42', NULL, NULL, 'completed', NULL, '2025-08-24 06:58:42', '2025-08-24 06:58:42');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (40, 31, 100, 'consume', '-5.00', '2035.00', '2030.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 07:00:15', NULL, NULL, 'completed', NULL, '2025-08-24 07:00:15', '2025-08-24 07:00:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (41, 31, 100, 'consume', '-5.00', '2030.00', '2025.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 07:02:43', NULL, NULL, 'completed', NULL, '2025-08-24 07:02:43', '2025-08-24 07:02:43');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (42, 31, 100, 'consume', '-5.00', '2025.00', '2020.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 07:04:48', NULL, NULL, 'completed', NULL, '2025-08-24 07:04:48', '2025-08-24 07:04:48');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (43, 31, 100, 'consume', '-100.00', '2020.00', '1920.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:05:09', NULL, NULL, 'completed', NULL, '2025-08-24 07:05:09', '2025-08-24 07:05:09');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (44, 31, 100, 'consume', '-100.00', '1920.00', '1820.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:05:09', NULL, NULL, 'completed', NULL, '2025-08-24 07:05:09', '2025-08-24 07:05:09');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (45, 31, 100, 'consume', '-100.00', '1820.00', '1720.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:05:10', NULL, NULL, 'completed', NULL, '2025-08-24 07:05:10', '2025-08-24 07:05:10');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (46, 31, 100, 'consume', '-100.00', '1720.00', '1620.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:05:11', NULL, NULL, 'completed', NULL, '2025-08-24 07:05:11', '2025-08-24 07:05:11');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (47, 31, 100, 'consume', '-100.00', '1620.00', '1520.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:05:12', NULL, NULL, 'completed', NULL, '2025-08-24 07:05:12', '2025-08-24 07:05:12');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (48, 31, 100, 'consume', '-100.00', '1520.00', '1420.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:07:03', NULL, NULL, 'completed', NULL, '2025-08-24 07:07:03', '2025-08-24 07:07:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (49, 31, 100, 'consume', '-100.00', '1420.00', '1320.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:07:03', NULL, NULL, 'completed', NULL, '2025-08-24 07:07:03', '2025-08-24 07:07:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (50, 31, 100, 'consume', '-100.00', '1320.00', '1220.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:07:04', NULL, NULL, 'completed', NULL, '2025-08-24 07:07:04', '2025-08-24 07:07:04');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (51, 31, 100, 'consume', '-100.00', '1220.00', '1120.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:07:05', NULL, NULL, 'completed', NULL, '2025-08-24 07:07:05', '2025-08-24 07:07:05');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (52, 31, 100, 'consume', '-100.00', '1120.00', '1020.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：VIP黄金时段专享', NULL, '2025-08-24 07:07:06', NULL, NULL, 'completed', NULL, '2025-08-24 07:07:06', '2025-08-24 07:07:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (53, 31, 100, 'consume', '-5.00', '1020.00', '1015.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 07:17:00', NULL, NULL, 'completed', NULL, '2025-08-24 07:17:00', '2025-08-24 07:17:00');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (54, 31, 100, 'consume', '-5.00', '1015.00', '1010.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 07:23:01', NULL, NULL, 'completed', NULL, '2025-08-24 07:23:01', '2025-08-24 07:23:01');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (924, 31, 100, 'consume', '-5.00', '349730.00', '349725.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 08:04:14', NULL, NULL, 'completed', NULL, '2025-08-24 08:04:14', '2025-08-24 08:04:14');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (925, 31, 100, 'consume', '-5.00', '349725.00', '349720.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '参与抽奖活动：新手池', NULL, '2025-08-24 08:05:15', NULL, NULL, 'completed', NULL, '2025-08-24 08:05:15', '2025-08-24 08:05:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (926, 31, 100, 'earn', '10.00', '349730.00', '349730.00', 'behavior_reward', 'admin', NULL, NULL, NULL, NULL, NULL, '积分获得', '每日签到奖励', 31, '2025-08-24 21:36:49', NULL, NULL, 'completed', NULL, '2025-08-24 21:36:49', '2025-08-24 21:36:49');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (927, 31, 100, 'earn', '50.00', '349780.00', '349780.00', 'behavior_reward', 'admin', NULL, NULL, NULL, NULL, NULL, '积分获得', '完成任务奖励', 31, '2025-08-24 21:36:49', NULL, NULL, 'completed', NULL, '2025-08-24 21:36:49', '2025-08-24 21:36:49');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (928, 31, 100, 'earn', '10.00', '349790.00', '349790.00', 'behavior_reward', 'admin', NULL, NULL, NULL, NULL, NULL, '积分获得', '每日签到奖励', 31, '2025-08-24 21:37:58', NULL, NULL, 'completed', NULL, '2025-08-24 21:37:58', '2025-08-24 21:37:58');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (929, 31, 100, 'earn', '50.00', '349840.00', '349840.00', 'behavior_reward', 'admin', NULL, NULL, NULL, NULL, NULL, '积分获得', '完成任务奖励', 31, '2025-08-24 21:37:58', NULL, NULL, 'completed', NULL, '2025-08-24 21:37:58', '2025-08-24 21:37:58');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (930, 31, 100, 'consume', '-10.00', '349840.00', '349830.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '抽奖消费', 31, '2025-08-24 21:37:58', NULL, NULL, 'completed', NULL, '2025-08-24 21:37:58', '2025-08-24 21:37:58');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (931, 31, 100, 'earn', '10.00', '349840.00', '349840.00', 'behavior_reward', 'admin', NULL, NULL, NULL, NULL, NULL, '积分获得', '每日签到奖励', 31, '2025-08-24 21:43:31', NULL, NULL, 'completed', NULL, '2025-08-24 21:43:31', '2025-08-24 21:43:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (932, 31, 100, 'earn', '50.00', '349890.00', '349890.00', 'behavior_reward', 'admin', NULL, NULL, NULL, NULL, NULL, '积分获得', '完成任务奖励', 31, '2025-08-24 21:43:31', NULL, NULL, 'completed', NULL, '2025-08-24 21:43:31', '2025-08-24 21:43:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (933, 31, 100, 'consume', '-10.00', '349890.00', '349880.00', 'lottery_consume', 'user', NULL, NULL, NULL, NULL, NULL, '积分消费', '抽奖消费', 31, '2025-08-24 21:43:31', NULL, NULL, 'completed', NULL, '2025-08-24 21:43:31', '2025-08-24 21:43:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (934, 31, 100, 'earn', '100.00', '392980.00', '393080.00', 'admin_adjust', 'api', 'api_add_1758216472010', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 01:27:52', NULL, NULL, 'completed', NULL, '2025-09-19 01:27:52', '2025-09-19 01:27:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (935, 31, 100, 'consume', '-50.00', '393080.00', '393030.00', 'admin_adjust', 'api', 'api_deduct_1758216472072', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 01:27:52', NULL, NULL, 'completed', NULL, '2025-09-19 01:27:52', '2025-09-19 01:27:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (936, 31, 100, 'earn', '25.00', '393030.00', '393055.00', 'admin_adjust', 'api', 'api_add_1758216472153', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 01:27:52', NULL, NULL, 'completed', NULL, '2025-09-19 01:27:52', '2025-09-19 01:27:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (937, 31, 100, 'earn', '75.00', '393055.00', '393130.00', 'admin_adjust', 'api', 'api_add_1758216472212', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 01:27:52', NULL, NULL, 'completed', NULL, '2025-09-19 01:27:52', '2025-09-19 01:27:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (938, 31, 100, 'earn', '100.00', '393130.00', '393230.00', 'admin_adjust', 'api', 'api_add_1758216613040', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 01:30:13', NULL, NULL, 'completed', NULL, '2025-09-19 01:30:13', '2025-09-19 01:30:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (939, 31, 100, 'consume', '-50.00', '393230.00', '393180.00', 'admin_adjust', 'api', 'api_deduct_1758216613081', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 01:30:13', NULL, NULL, 'completed', NULL, '2025-09-19 01:30:13', '2025-09-19 01:30:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (940, 31, 100, 'earn', '25.00', '393180.00', '393205.00', 'admin_adjust', 'api', 'api_add_1758216613140', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 01:30:13', NULL, NULL, 'completed', NULL, '2025-09-19 01:30:13', '2025-09-19 01:30:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (941, 31, 100, 'earn', '75.00', '393205.00', '393280.00', 'admin_adjust', 'api', 'api_add_1758216613167', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 01:30:13', NULL, NULL, 'completed', NULL, '2025-09-19 01:30:13', '2025-09-19 01:30:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (942, 31, 100, 'earn', '100.00', '393280.00', '393380.00', 'admin_adjust', 'api', 'api_add_1758216681832', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 01:31:21', NULL, NULL, 'completed', NULL, '2025-09-19 01:31:21', '2025-09-19 01:31:21');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (943, 31, 100, 'consume', '-50.00', '393380.00', '393330.00', 'admin_adjust', 'api', 'api_deduct_1758216681874', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 01:31:21', NULL, NULL, 'completed', NULL, '2025-09-19 01:31:21', '2025-09-19 01:31:21');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (944, 31, 100, 'earn', '25.00', '393330.00', '393355.00', 'admin_adjust', 'api', 'api_add_1758216681938', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 01:31:21', NULL, NULL, 'completed', NULL, '2025-09-19 01:31:21', '2025-09-19 01:31:21');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (945, 31, 100, 'earn', '75.00', '393355.00', '393430.00', 'admin_adjust', 'api', 'api_add_1758216681965', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 01:31:21', NULL, NULL, 'completed', NULL, '2025-09-19 01:31:21', '2025-09-19 01:31:21');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (946, 31, 100, 'earn', '100.00', '393430.00', '393530.00', 'admin_adjust', 'api', 'api_add_1758216775150', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 01:32:55', NULL, NULL, 'completed', NULL, '2025-09-19 01:32:55', '2025-09-19 01:32:55');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (947, 31, 100, 'consume', '-50.00', '393530.00', '393480.00', 'admin_adjust', 'api', 'api_deduct_1758216775191', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 01:32:55', NULL, NULL, 'completed', NULL, '2025-09-19 01:32:55', '2025-09-19 01:32:55');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (948, 31, 100, 'earn', '25.00', '393480.00', '393505.00', 'admin_adjust', 'api', 'api_add_1758216775249', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 01:32:55', NULL, NULL, 'completed', NULL, '2025-09-19 01:32:55', '2025-09-19 01:32:55');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (949, 31, 100, 'earn', '75.00', '393505.00', '393580.00', 'admin_adjust', 'api', 'api_add_1758216775282', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 01:32:55', NULL, NULL, 'completed', NULL, '2025-09-19 01:32:55', '2025-09-19 01:32:55');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (950, 31, 100, 'earn', '100.00', '389180.00', '389280.00', 'admin_adjust', 'api', 'api_add_1758222723373', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 03:12:03', NULL, NULL, 'completed', NULL, '2025-09-19 03:12:03', '2025-09-19 03:12:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (951, 31, 100, 'consume', '-50.00', '389280.00', '389230.00', 'admin_adjust', 'api', 'api_deduct_1758222723405', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 03:12:03', NULL, NULL, 'completed', NULL, '2025-09-19 03:12:03', '2025-09-19 03:12:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (952, 31, 100, 'earn', '25.00', '389230.00', '389255.00', 'admin_adjust', 'api', 'api_add_1758222723455', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 03:12:03', NULL, NULL, 'completed', NULL, '2025-09-19 03:12:03', '2025-09-19 03:12:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (953, 31, 100, 'earn', '75.00', '389255.00', '389330.00', 'admin_adjust', 'api', 'api_add_1758222723477', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 03:12:03', NULL, NULL, 'completed', NULL, '2025-09-19 03:12:03', '2025-09-19 03:12:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (954, 31, 100, 'earn', '100.00', '388230.00', '388330.00', 'admin_adjust', 'api', 'api_add_1758222853660', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 03:14:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:14:13', '2025-09-19 03:14:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (955, 31, 100, 'consume', '-50.00', '388330.00', '388280.00', 'admin_adjust', 'api', 'api_deduct_1758222853741', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 03:14:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:14:13', '2025-09-19 03:14:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (956, 31, 100, 'earn', '25.00', '388280.00', '388305.00', 'admin_adjust', 'api', 'api_add_1758222853790', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 03:14:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:14:13', '2025-09-19 03:14:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (957, 31, 100, 'earn', '75.00', '388305.00', '388380.00', 'admin_adjust', 'api', 'api_add_1758222853812', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 03:14:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:14:13', '2025-09-19 03:14:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (958, 31, 100, 'earn', '100.00', '386480.00', '386580.00', 'admin_adjust', 'api', 'api_add_1758222930082', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 03:15:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:15:30', '2025-09-19 03:15:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (959, 31, 100, 'consume', '-50.00', '386580.00', '386530.00', 'admin_adjust', 'api', 'api_deduct_1758222930110', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 03:15:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:15:30', '2025-09-19 03:15:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (960, 31, 100, 'earn', '25.00', '386530.00', '386555.00', 'admin_adjust', 'api', 'api_add_1758222930161', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 03:15:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:15:30', '2025-09-19 03:15:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (961, 31, 100, 'earn', '75.00', '386555.00', '386630.00', 'admin_adjust', 'api', 'api_add_1758222930182', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 03:15:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:15:30', '2025-09-19 03:15:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (962, 31, 100, 'earn', '100.00', '377730.00', '377830.00', 'admin_adjust', 'api', 'api_add_1758225493651', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 03:58:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:58:13', '2025-09-19 03:58:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (963, 31, 100, 'consume', '-50.00', '377830.00', '377780.00', 'admin_adjust', 'api', 'api_deduct_1758225493688', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 03:58:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:58:13', '2025-09-19 03:58:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (964, 31, 100, 'earn', '25.00', '377780.00', '377805.00', 'admin_adjust', 'api', 'api_add_1758225493738', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 03:58:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:58:13', '2025-09-19 03:58:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (965, 31, 100, 'earn', '75.00', '377805.00', '377880.00', 'admin_adjust', 'api', 'api_add_1758225493764', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 03:58:13', NULL, NULL, 'completed', NULL, '2025-09-19 03:58:13', '2025-09-19 03:58:13');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (966, 31, 100, 'earn', '100.00', '376880.00', '376980.00', 'admin_adjust', 'api', 'api_add_1758225570663', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 03:59:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:59:30', '2025-09-19 03:59:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (967, 31, 100, 'consume', '-50.00', '376980.00', '376930.00', 'admin_adjust', 'api', 'api_deduct_1758225570696', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 03:59:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:59:30', '2025-09-19 03:59:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (968, 31, 100, 'earn', '25.00', '376930.00', '376955.00', 'admin_adjust', 'api', 'api_add_1758225570744', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 03:59:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:59:30', '2025-09-19 03:59:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (969, 31, 100, 'earn', '75.00', '376955.00', '377030.00', 'admin_adjust', 'api', 'api_add_1758225570766', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 03:59:30', NULL, NULL, 'completed', NULL, '2025-09-19 03:59:30', '2025-09-19 03:59:30');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (970, 31, 100, 'earn', '100.00', '376030.00', '376130.00', 'admin_adjust', 'api', 'api_add_1758225623459', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 04:00:23', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:23', '2025-09-19 04:00:23');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (971, 31, 100, 'consume', '-50.00', '376130.00', '376080.00', 'admin_adjust', 'api', 'api_deduct_1758225623491', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 04:00:23', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:23', '2025-09-19 04:00:23');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (972, 31, 100, 'earn', '25.00', '376080.00', '376105.00', 'admin_adjust', 'api', 'api_add_1758225623566', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 04:00:23', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:23', '2025-09-19 04:00:23');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (973, 31, 100, 'earn', '75.00', '376105.00', '376180.00', 'admin_adjust', 'api', 'api_add_1758225623637', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 04:00:23', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:23', '2025-09-19 04:00:23');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (974, 31, 100, 'earn', '100.00', '375780.00', '375880.00', 'admin_adjust', 'api', 'api_add_1758225652472', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 04:00:52', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:52', '2025-09-19 04:00:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (975, 31, 100, 'consume', '-50.00', '375880.00', '375830.00', 'admin_adjust', 'api', 'api_deduct_1758225652504', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 04:00:52', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:52', '2025-09-19 04:00:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (976, 31, 100, 'earn', '25.00', '375830.00', '375855.00', 'admin_adjust', 'api', 'api_add_1758225652549', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 04:00:52', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:52', '2025-09-19 04:00:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (977, 31, 100, 'earn', '75.00', '375855.00', '375930.00', 'admin_adjust', 'api', 'api_add_1758225652570', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 04:00:52', NULL, NULL, 'completed', NULL, '2025-09-19 04:00:52', '2025-09-19 04:00:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (978, 31, 100, 'earn', '100.00', '373930.00', '374030.00', 'admin_adjust', 'api', 'api_add_1758226431797', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 04:13:51', NULL, NULL, 'completed', NULL, '2025-09-19 04:13:51', '2025-09-19 04:13:51');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (979, 31, 100, 'consume', '-50.00', '374030.00', '373980.00', 'admin_adjust', 'api', 'api_deduct_1758226431828', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 04:13:51', NULL, NULL, 'completed', NULL, '2025-09-19 04:13:51', '2025-09-19 04:13:51');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (980, 31, 100, 'earn', '25.00', '373980.00', '374005.00', 'admin_adjust', 'api', 'api_add_1758226431876', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 04:13:51', NULL, NULL, 'completed', NULL, '2025-09-19 04:13:51', '2025-09-19 04:13:51');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (981, 31, 100, 'earn', '75.00', '374005.00', '374080.00', 'admin_adjust', 'api', 'api_add_1758226431898', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 04:13:51', NULL, NULL, 'completed', NULL, '2025-09-19 04:13:51', '2025-09-19 04:13:51');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (982, 31, 100, 'earn', '100.00', '373080.00', '373180.00', 'admin_adjust', 'api', 'api_add_1758226506445', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 04:15:06', NULL, NULL, 'completed', NULL, '2025-09-19 04:15:06', '2025-09-19 04:15:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (983, 31, 100, 'consume', '-50.00', '373180.00', '373130.00', 'admin_adjust', 'api', 'api_deduct_1758226506475', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 04:15:06', NULL, NULL, 'completed', NULL, '2025-09-19 04:15:06', '2025-09-19 04:15:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (984, 31, 100, 'earn', '25.00', '373130.00', '373155.00', 'admin_adjust', 'api', 'api_add_1758226506526', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 04:15:06', NULL, NULL, 'completed', NULL, '2025-09-19 04:15:06', '2025-09-19 04:15:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (985, 31, 100, 'earn', '75.00', '373155.00', '373230.00', 'admin_adjust', 'api', 'api_add_1758226506548', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 04:15:06', NULL, NULL, 'completed', NULL, '2025-09-19 04:15:06', '2025-09-19 04:15:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (986, 31, 100, 'earn', '100.00', '355030.00', '355130.00', 'admin_adjust', 'api', 'api_add_1758236235782', NULL, NULL, 'api_points_add', NULL, 'API调整：API测试 - 完成任务奖励', '管理员通过API为用户31增加100积分', NULL, '2025-09-19 06:57:15', NULL, NULL, 'completed', NULL, '2025-09-19 06:57:15', '2025-09-19 06:57:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (987, 31, 100, 'consume', '-50.00', '355130.00', '355080.00', 'admin_adjust', 'api', 'api_deduct_1758236235813', NULL, NULL, 'api_points_deduct', NULL, 'API调整：API测试 - 抽奖消耗', '管理员通过API为用户31扣除50积分', NULL, '2025-09-19 06:57:15', NULL, NULL, 'completed', NULL, '2025-09-19 06:57:15', '2025-09-19 06:57:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (988, 31, 100, 'earn', '25.00', '355080.00', '355105.00', 'admin_adjust', 'api', 'api_add_1758236235863', NULL, NULL, 'api_points_add', NULL, 'API调整：集成测试 - 验证交易记录', '管理员通过API为用户31增加25积分', NULL, '2025-09-19 06:57:15', NULL, NULL, 'completed', NULL, '2025-09-19 06:57:15', '2025-09-19 06:57:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (989, 31, 100, 'earn', '75.00', '355105.00', '355180.00', 'admin_adjust', 'api', 'api_add_1758236235886', NULL, NULL, 'api_points_add', NULL, 'API调整：多层验证测试', '管理员通过API为用户31增加75积分', NULL, '2025-09-19 06:57:15', NULL, NULL, 'completed', NULL, '2025-09-19 06:57:15', '2025-09-19 06:57:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (991, 31, 100, 'earn', '50.00', '273580.00', '273630.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 00:32:17', NULL, NULL, 'completed', NULL, '2025-09-29 00:32:17', '2025-09-29 00:32:17');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (992, 31, 100, 'consume', '30.00', '273630.00', '273600.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 00:32:17', NULL, NULL, 'completed', NULL, '2025-09-29 00:32:17', '2025-09-29 00:32:17');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (993, 31, 100, 'earn', '20.00', '273600.00', '273620.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 00:32:17', NULL, NULL, 'completed', NULL, '2025-09-29 00:32:17', '2025-09-29 00:32:17');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (994, 31, 100, 'consume', '10.00', '273620.00', '273610.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 00:32:17', NULL, NULL, 'completed', NULL, '2025-09-29 00:32:17', '2025-09-29 00:32:17');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (995, 31, 100, 'earn', '10.00', '273610.00', '273620.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 00:32:17', NULL, NULL, 'completed', NULL, '2025-09-29 00:32:17', '2025-09-29 00:32:17');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (996, 31, 100, 'earn', '100.00', '273620.00', '273720.00', 'admin_adjust', 'admin', NULL, NULL, NULL, NULL, NULL, '管理员积分调整', '测试积分系统统一', NULL, '2025-09-29 00:37:51', NULL, NULL, 'completed', NULL, '2025-09-29 00:37:51', '2025-09-29 00:37:51');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (997, 31, 100, 'earn', '50.00', '269520.00', '269570.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 06:01:52', NULL, NULL, 'completed', NULL, '2025-09-29 06:01:52', '2025-09-29 06:01:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (998, 31, 100, 'consume', '30.00', '269570.00', '269540.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 06:01:52', NULL, NULL, 'completed', NULL, '2025-09-29 06:01:52', '2025-09-29 06:01:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (999, 31, 100, 'earn', '20.00', '269540.00', '269560.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 06:01:52', NULL, NULL, 'completed', NULL, '2025-09-29 06:01:52', '2025-09-29 06:01:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1000, 31, 100, 'consume', '10.00', '269560.00', '269550.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 06:01:52', NULL, NULL, 'completed', NULL, '2025-09-29 06:01:52', '2025-09-29 06:01:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1001, 31, 100, 'earn', '10.00', '269550.00', '269560.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 06:01:52', NULL, NULL, 'completed', NULL, '2025-09-29 06:01:52', '2025-09-29 06:01:52');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1002, 31, 100, 'earn', '50.00', '243260.00', '243310.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 20:16:25', NULL, NULL, 'completed', NULL, '2025-09-29 20:16:25', '2025-09-29 20:16:25');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1003, 31, 100, 'consume', '30.00', '243310.00', '243280.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 20:16:25', NULL, NULL, 'completed', NULL, '2025-09-29 20:16:25', '2025-09-29 20:16:25');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1004, 31, 100, 'earn', '20.00', '243280.00', '243300.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 20:16:25', NULL, NULL, 'completed', NULL, '2025-09-29 20:16:25', '2025-09-29 20:16:25');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1005, 31, 100, 'consume', '10.00', '243300.00', '243290.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 20:16:25', NULL, NULL, 'completed', NULL, '2025-09-29 20:16:25', '2025-09-29 20:16:25');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1006, 31, 100, 'earn', '10.00', '243290.00', '243300.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 20:16:25', NULL, NULL, 'completed', NULL, '2025-09-29 20:16:25', '2025-09-29 20:16:25');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1007, 31, 100, 'earn', '50.00', '239100.00', '239150.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 20:24:27', NULL, NULL, 'completed', NULL, '2025-09-29 20:24:27', '2025-09-29 20:24:27');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1008, 31, 100, 'consume', '30.00', '239150.00', '239120.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 20:24:27', NULL, NULL, 'completed', NULL, '2025-09-29 20:24:27', '2025-09-29 20:24:27');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1009, 31, 100, 'earn', '20.00', '239120.00', '239140.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 20:24:27', NULL, NULL, 'completed', NULL, '2025-09-29 20:24:27', '2025-09-29 20:24:27');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1010, 31, 100, 'consume', '10.00', '239140.00', '239130.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 20:24:27', NULL, NULL, 'completed', NULL, '2025-09-29 20:24:27', '2025-09-29 20:24:27');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1011, 31, 100, 'earn', '10.00', '239130.00', '239140.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 20:24:27', NULL, NULL, 'completed', NULL, '2025-09-29 20:24:27', '2025-09-29 20:24:27');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1012, 31, 100, 'earn', '50.00', '235340.00', '235390.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 21:07:38', NULL, NULL, 'completed', NULL, '2025-09-29 21:07:38', '2025-09-29 21:07:38');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1013, 31, 100, 'consume', '30.00', '235390.00', '235360.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 21:07:38', NULL, NULL, 'completed', NULL, '2025-09-29 21:07:38', '2025-09-29 21:07:38');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1014, 31, 100, 'earn', '20.00', '235360.00', '235380.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 21:07:38', NULL, NULL, 'completed', NULL, '2025-09-29 21:07:38', '2025-09-29 21:07:38');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1015, 31, 100, 'consume', '10.00', '235380.00', '235370.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 21:07:38', NULL, NULL, 'completed', NULL, '2025-09-29 21:07:38', '2025-09-29 21:07:38');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1016, 31, 100, 'earn', '10.00', '235370.00', '235380.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 21:07:38', NULL, NULL, 'completed', NULL, '2025-09-29 21:07:38', '2025-09-29 21:07:38');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1017, 31, 100, 'earn', '50.00', '234080.00', '234130.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 21:16:54', NULL, NULL, 'completed', NULL, '2025-09-29 21:16:54', '2025-09-29 21:16:54');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1018, 31, 100, 'consume', '30.00', '234130.00', '234100.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 21:16:54', NULL, NULL, 'completed', NULL, '2025-09-29 21:16:54', '2025-09-29 21:16:54');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1019, 31, 100, 'earn', '20.00', '234100.00', '234120.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 21:16:54', NULL, NULL, 'completed', NULL, '2025-09-29 21:16:54', '2025-09-29 21:16:54');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1020, 31, 100, 'consume', '10.00', '234120.00', '234110.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 21:16:54', NULL, NULL, 'completed', NULL, '2025-09-29 21:16:54', '2025-09-29 21:16:54');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1021, 31, 100, 'earn', '10.00', '234110.00', '234120.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 21:16:54', NULL, NULL, 'completed', NULL, '2025-09-29 21:16:54', '2025-09-29 21:16:54');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1022, 31, 100, 'earn', '50.00', '232720.00', '232770.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 21:31:31', NULL, NULL, 'completed', NULL, '2025-09-29 21:31:31', '2025-09-29 21:31:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1023, 31, 100, 'consume', '30.00', '232770.00', '232740.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 21:31:31', NULL, NULL, 'completed', NULL, '2025-09-29 21:31:31', '2025-09-29 21:31:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1024, 31, 100, 'earn', '20.00', '232740.00', '232760.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 21:31:31', NULL, NULL, 'completed', NULL, '2025-09-29 21:31:31', '2025-09-29 21:31:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1025, 31, 100, 'consume', '10.00', '232760.00', '232750.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 21:31:31', NULL, NULL, 'completed', NULL, '2025-09-29 21:31:31', '2025-09-29 21:31:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1026, 31, 100, 'earn', '10.00', '232750.00', '232760.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 21:31:31', NULL, NULL, 'completed', NULL, '2025-09-29 21:31:31', '2025-09-29 21:31:31');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1027, 31, 100, 'earn', '50.00', '231860.00', '231910.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 21:39:53', NULL, NULL, 'completed', NULL, '2025-09-29 21:39:53', '2025-09-29 21:39:53');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1028, 31, 100, 'consume', '30.00', '231910.00', '231880.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 21:39:53', NULL, NULL, 'completed', NULL, '2025-09-29 21:39:53', '2025-09-29 21:39:53');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1029, 31, 100, 'earn', '20.00', '231880.00', '231900.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 21:39:53', NULL, NULL, 'completed', NULL, '2025-09-29 21:39:53', '2025-09-29 21:39:53');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1030, 31, 100, 'consume', '10.00', '231900.00', '231890.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 21:39:53', NULL, NULL, 'completed', NULL, '2025-09-29 21:39:53', '2025-09-29 21:39:53');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1031, 31, 100, 'earn', '10.00', '231890.00', '231900.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 21:39:54', NULL, NULL, 'completed', NULL, '2025-09-29 21:39:54', '2025-09-29 21:39:54');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1032, 31, 100, 'earn', '50.00', '231000.00', '231050.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 21:54:46', NULL, NULL, 'completed', NULL, '2025-09-29 21:54:46', '2025-09-29 21:54:46');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1033, 31, 100, 'consume', '30.00', '231050.00', '231020.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 21:54:46', NULL, NULL, 'completed', NULL, '2025-09-29 21:54:46', '2025-09-29 21:54:46');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1034, 31, 100, 'earn', '20.00', '231020.00', '231040.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 21:54:46', NULL, NULL, 'completed', NULL, '2025-09-29 21:54:46', '2025-09-29 21:54:46');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1035, 31, 100, 'consume', '10.00', '231040.00', '231030.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 21:54:46', NULL, NULL, 'completed', NULL, '2025-09-29 21:54:46', '2025-09-29 21:54:46');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1036, 31, 100, 'earn', '10.00', '231030.00', '231040.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 21:54:46', NULL, NULL, 'completed', NULL, '2025-09-29 21:54:46', '2025-09-29 21:54:46');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1037, 31, 100, 'earn', '50.00', '229640.00', '229690.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 14:08:57', NULL, NULL, 'completed', NULL, '2025-09-29 14:08:57', '2025-09-29 14:08:57');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1038, 31, 100, 'consume', '30.00', '229690.00', '229660.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 14:08:57', NULL, NULL, 'completed', NULL, '2025-09-29 14:08:57', '2025-09-29 14:08:57');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1039, 31, 100, 'earn', '20.00', '229660.00', '229680.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 14:08:57', NULL, NULL, 'completed', NULL, '2025-09-29 14:08:57', '2025-09-29 14:08:57');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1040, 31, 100, 'consume', '10.00', '229680.00', '229670.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 14:08:57', NULL, NULL, 'completed', NULL, '2025-09-29 14:08:57', '2025-09-29 14:08:57');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1041, 31, 100, 'earn', '10.00', '229670.00', '229680.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 14:08:57', NULL, NULL, 'completed', NULL, '2025-09-29 14:08:57', '2025-09-29 14:08:57');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1042, 31, 100, 'earn', '50.00', '228780.00', '228830.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-29 22:35:06', NULL, NULL, 'completed', NULL, '2025-09-29 22:35:06', '2025-09-29 22:35:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1043, 31, 100, 'consume', '30.00', '228830.00', '228800.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-29 22:35:06', NULL, NULL, 'completed', NULL, '2025-09-29 22:35:06', '2025-09-29 22:35:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1044, 31, 100, 'earn', '20.00', '228800.00', '228820.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-29 22:35:06', NULL, NULL, 'completed', NULL, '2025-09-29 22:35:06', '2025-09-29 22:35:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1045, 31, 100, 'consume', '10.00', '228820.00', '228810.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-29 22:35:06', NULL, NULL, 'completed', NULL, '2025-09-29 22:35:06', '2025-09-29 22:35:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1046, 31, 100, 'earn', '10.00', '228810.00', '228820.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-29 22:35:06', NULL, NULL, 'completed', NULL, '2025-09-29 22:35:06', '2025-09-29 22:35:06');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1047, 31, 100, 'earn', '50.00', '227620.00', '227670.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 00:14:41', NULL, NULL, 'completed', NULL, '2025-09-30 00:14:41', '2025-09-30 00:14:41');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1048, 31, 100, 'consume', '30.00', '227670.00', '227640.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 00:14:41', NULL, NULL, 'completed', NULL, '2025-09-30 00:14:41', '2025-09-30 00:14:41');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1049, 31, 100, 'earn', '20.00', '227640.00', '227660.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 00:14:41', NULL, NULL, 'completed', NULL, '2025-09-30 00:14:41', '2025-09-30 00:14:41');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1050, 31, 100, 'consume', '10.00', '227660.00', '227650.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 00:14:41', NULL, NULL, 'completed', NULL, '2025-09-30 00:14:41', '2025-09-30 00:14:41');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1051, 31, 100, 'earn', '10.00', '227650.00', '227660.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 00:14:41', NULL, NULL, 'completed', NULL, '2025-09-30 00:14:41', '2025-09-30 00:14:41');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1052, 31, 100, 'earn', '50.00', '226360.00', '226410.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 01:02:15', NULL, NULL, 'completed', NULL, '2025-09-30 01:02:15', '2025-09-30 01:02:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1053, 31, 100, 'consume', '30.00', '226410.00', '226380.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 01:02:15', NULL, NULL, 'completed', NULL, '2025-09-30 01:02:15', '2025-09-30 01:02:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1054, 31, 100, 'earn', '20.00', '226380.00', '226400.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 01:02:15', NULL, NULL, 'completed', NULL, '2025-09-30 01:02:15', '2025-09-30 01:02:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1055, 31, 100, 'consume', '10.00', '226400.00', '226390.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 01:02:15', NULL, NULL, 'completed', NULL, '2025-09-30 01:02:15', '2025-09-30 01:02:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1056, 31, 100, 'earn', '10.00', '226390.00', '226400.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 01:02:15', NULL, NULL, 'completed', NULL, '2025-09-30 01:02:15', '2025-09-30 01:02:15');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1057, 31, 100, 'earn', '50.00', '225500.00', '225550.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 01:50:33', NULL, NULL, 'completed', NULL, '2025-09-30 01:50:33', '2025-09-30 01:50:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1058, 31, 100, 'consume', '30.00', '225550.00', '225520.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 01:50:33', NULL, NULL, 'completed', NULL, '2025-09-30 01:50:33', '2025-09-30 01:50:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1059, 31, 100, 'earn', '20.00', '225520.00', '225540.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 01:50:33', NULL, NULL, 'completed', NULL, '2025-09-30 01:50:33', '2025-09-30 01:50:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1060, 31, 100, 'consume', '10.00', '225540.00', '225530.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 01:50:33', NULL, NULL, 'completed', NULL, '2025-09-30 01:50:33', '2025-09-30 01:50:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1061, 31, 100, 'earn', '10.00', '225530.00', '225540.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 01:50:33', NULL, NULL, 'completed', NULL, '2025-09-30 01:50:33', '2025-09-30 01:50:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1062, 31, 100, 'earn', '50.00', '224240.00', '224290.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 02:32:33', NULL, NULL, 'completed', NULL, '2025-09-30 02:32:33', '2025-09-30 02:32:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1063, 31, 100, 'consume', '30.00', '224290.00', '224260.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 02:32:33', NULL, NULL, 'completed', NULL, '2025-09-30 02:32:33', '2025-09-30 02:32:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1064, 31, 100, 'earn', '20.00', '224260.00', '224280.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 02:32:33', NULL, NULL, 'completed', NULL, '2025-09-30 02:32:33', '2025-09-30 02:32:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1065, 31, 100, 'consume', '10.00', '224280.00', '224270.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 02:32:33', NULL, NULL, 'completed', NULL, '2025-09-30 02:32:33', '2025-09-30 02:32:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1066, 31, 100, 'earn', '10.00', '224270.00', '224280.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 02:32:33', NULL, NULL, 'completed', NULL, '2025-09-30 02:32:33', '2025-09-30 02:32:33');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1067, 31, 100, 'earn', '50.00', '223980.00', '224030.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 02:42:29', NULL, NULL, 'completed', NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1068, 31, 100, 'consume', '30.00', '224030.00', '224000.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 02:42:29', NULL, NULL, 'completed', NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1069, 31, 100, 'earn', '20.00', '224000.00', '224020.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 02:42:29', NULL, NULL, 'completed', NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1070, 31, 100, 'consume', '10.00', '224020.00', '224010.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 02:42:29', NULL, NULL, 'completed', NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1071, 31, 100, 'earn', '10.00', '224010.00', '224020.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 02:42:29', NULL, NULL, 'completed', NULL, '2025-09-30 02:42:29', '2025-09-30 02:42:29');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1072, 31, 100, 'earn', '50.00', '222620.00', '222670.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 03:33:40', NULL, NULL, 'completed', NULL, '2025-09-30 03:33:40', '2025-09-30 03:33:40');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1073, 31, 100, 'consume', '30.00', '222670.00', '222640.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 03:33:40', NULL, NULL, 'completed', NULL, '2025-09-30 03:33:40', '2025-09-30 03:33:40');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1074, 31, 100, 'earn', '20.00', '222640.00', '222660.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 03:33:40', NULL, NULL, 'completed', NULL, '2025-09-30 03:33:40', '2025-09-30 03:33:40');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1075, 31, 100, 'consume', '10.00', '222660.00', '222650.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 03:33:40', NULL, NULL, 'completed', NULL, '2025-09-30 03:33:40', '2025-09-30 03:33:40');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1076, 31, 100, 'earn', '10.00', '222650.00', '222660.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 03:33:40', NULL, NULL, 'completed', NULL, '2025-09-30 03:33:40', '2025-09-30 03:33:40');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1077, 31, 100, 'earn', '50.00', '221260.00', '221310.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 03:36:36', NULL, NULL, 'completed', NULL, '2025-09-30 03:36:36', '2025-09-30 03:36:36');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1078, 31, 100, 'consume', '30.00', '221310.00', '221280.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 03:36:36', NULL, NULL, 'completed', NULL, '2025-09-30 03:36:36', '2025-09-30 03:36:36');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1079, 31, 100, 'earn', '20.00', '221280.00', '221300.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 03:36:37', NULL, NULL, 'completed', NULL, '2025-09-30 03:36:37', '2025-09-30 03:36:37');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1080, 31, 100, 'consume', '10.00', '221300.00', '221290.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 03:36:37', NULL, NULL, 'completed', NULL, '2025-09-30 03:36:37', '2025-09-30 03:36:37');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1081, 31, 100, 'earn', '10.00', '221290.00', '221300.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 03:36:37', NULL, NULL, 'completed', NULL, '2025-09-30 03:36:37', '2025-09-30 03:36:37');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1082, 31, 100, 'earn', '50.00', '220300.00', '220350.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 03:49:02', NULL, NULL, 'completed', NULL, '2025-09-30 03:49:02', '2025-09-30 03:49:02');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1083, 31, 100, 'consume', '30.00', '220350.00', '220320.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 03:49:02', NULL, NULL, 'completed', NULL, '2025-09-30 03:49:02', '2025-09-30 03:49:02');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1084, 31, 100, 'earn', '20.00', '220320.00', '220340.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 03:49:02', NULL, NULL, 'completed', NULL, '2025-09-30 03:49:02', '2025-09-30 03:49:02');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1085, 31, 100, 'consume', '10.00', '220340.00', '220330.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 03:49:02', NULL, NULL, 'completed', NULL, '2025-09-30 03:49:02', '2025-09-30 03:49:02');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1086, 31, 100, 'earn', '10.00', '220330.00', '220340.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 03:49:02', NULL, NULL, 'completed', NULL, '2025-09-30 03:49:02', '2025-09-30 03:49:02');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1087, 31, 100, 'earn', '50.00', '219040.00', '219090.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 22:30:03', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:03', '2025-09-30 22:30:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1088, 31, 100, 'consume', '30.00', '219090.00', '219060.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 22:30:03', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:03', '2025-09-30 22:30:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1089, 31, 100, 'earn', '20.00', '219060.00', '219080.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 22:30:03', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:03', '2025-09-30 22:30:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1090, 31, 100, 'consume', '10.00', '219080.00', '219070.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 22:30:03', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:03', '2025-09-30 22:30:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1091, 31, 100, 'earn', '10.00', '219070.00', '219080.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 22:30:03', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:03', '2025-09-30 22:30:03');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1092, 31, 100, 'earn', '50.00', '217680.00', '217730.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分增加', '单元测试', NULL, '2025-09-30 22:30:32', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:32', '2025-09-30 22:30:32');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1093, 31, 100, 'consume', '30.00', '217730.00', '217700.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '测试积分消费', '单元测试', NULL, '2025-09-30 22:30:32', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:32', '2025-09-30 22:30:32');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1094, 31, 100, 'earn', '20.00', '217700.00', '217720.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试增加', '', NULL, '2025-09-30 22:30:32', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:32', '2025-09-30 22:30:32');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1095, 31, 100, 'consume', '10.00', '217720.00', '217710.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '批量测试消费', '', NULL, '2025-09-30 22:30:32', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:32', '2025-09-30 22:30:32');
INSERT INTO `points_transactions` (`transaction_id`, `user_id`, `account_id`, `transaction_type`, `points_amount`, `points_balance_before`, `points_balance_after`, `business_type`, `source_type`, `business_id`, `reference_data`, `behavior_context`, `trigger_event`, `recommendation_source`, `transaction_title`, `transaction_description`, `operator_id`, `transaction_time`, `effective_time`, `expire_time`, `status`, `failure_reason`, `created_at`, `updated_at`) VALUES (1096, 31, 100, 'earn', '10.00', '217710.00', '217720.00', '', 'system', NULL, NULL, NULL, NULL, NULL, '应该回滚的操作', '', NULL, '2025-09-30 22:30:32', NULL, NULL, 'completed', NULL, '2025-09-30 22:30:32', '2025-09-30 22:30:32');

-- 表结构: products
DROP TABLE IF EXISTS `products`;
CREATE TABLE `products` (
  `commodity_id` int NOT NULL AUTO_INCREMENT COMMENT '商品ID',
  `name` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '商品名称',
  `description` text COLLATE utf8mb4_unicode_ci COMMENT '商品描述',
  `category` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '商品分类（前端筛选用）',
  `exchange_points` int NOT NULL COMMENT '兑换所需积分（前端价格显示）',
  `stock` int NOT NULL DEFAULT '0' COMMENT '库存数量（前端实时显示，WebSocket同步）',
  `image` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '商品图片URL',
  `status` enum('active','offline','deleted') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'active' COMMENT '商品状态',
  `is_hot` tinyint(1) NOT NULL DEFAULT '0' COMMENT '热门商品标记（前端推荐）',
  `sort_order` int NOT NULL DEFAULT '0' COMMENT '排序权重（前端排序）',
  `rating` decimal(3,2) NOT NULL DEFAULT '5.00' COMMENT '评分（前端星级显示）',
  `sales_count` int NOT NULL DEFAULT '0' COMMENT '销量（前端排序用）',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `space` enum('lucky','premium','both') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'lucky' COMMENT '所属空间：lucky-幸运空间，premium-臻选空间，both-两个空间都有',
  `original_price` decimal(10,2) DEFAULT NULL COMMENT '原价（显示用）',
  `discount` int NOT NULL DEFAULT '0' COMMENT '折扣百分比',
  `low_stock_threshold` int NOT NULL DEFAULT '5' COMMENT '低库存预警阈值',
  `is_new` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否新品',
  `is_limited` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否限量商品',
  `view_count` int NOT NULL DEFAULT '0' COMMENT '浏览次数统计',
  `warranty` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '售后说明信息',
  `delivery_info` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '配送信息',
  `expires_at` datetime DEFAULT NULL COMMENT '商品过期时间',
  `created_by` int DEFAULT NULL COMMENT '创建者用户ID',
  `updated_by` int DEFAULT NULL COMMENT '最后更新者用户ID',
  `primary_image_id` int DEFAULT NULL COMMENT '主图片ID',
  PRIMARY KEY (`commodity_id`),
  KEY `idx_category` (`category`),
  KEY `idx_exchange_points` (`exchange_points`),
  KEY `idx_status` (`status`),
  KEY `idx_stock` (`stock`),
  KEY `idx_is_hot` (`is_hot`),
  KEY `idx_sort_order` (`sort_order`),
  KEY `idx_sales_count` (`sales_count`),
  KEY `idx_category_points_stock` (`category`,`exchange_points`,`stock`),
  KEY `idx_products_space_status` (`space`,`status`),
  KEY `idx_products_is_new_hot` (`is_new`,`is_hot`),
  KEY `idx_products_created_at` (`created_at`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表数据: products (3条记录)
INSERT INTO `products` (`commodity_id`, `name`, `description`, `category`, `exchange_points`, `stock`, `image`, `status`, `is_hot`, `sort_order`, `rating`, `sales_count`, `created_at`, `updated_at`, `space`, `original_price`, `discount`, `low_stock_threshold`, `is_new`, `is_limited`, `view_count`, `warranty`, `delivery_info`, `expires_at`, `created_by`, `updated_by`, `primary_image_id`) VALUES (12, '玉石1', '1', '实物商品', 5000, 10, NULL, 'active', 0, 0, '5.00', 0, '2025-07-16 22:22:11', '2025-07-18 07:35:04', 'lucky', NULL, 0, 5, 0, 0, 0, NULL, NULL, NULL, NULL, 1, NULL);
INSERT INTO `products` (`commodity_id`, `name`, `description`, `category`, `exchange_points`, `stock`, `image`, `status`, `is_hot`, `sort_order`, `rating`, `sales_count`, `created_at`, `updated_at`, `space`, `original_price`, `discount`, `low_stock_threshold`, `is_new`, `is_limited`, `view_count`, `warranty`, `delivery_info`, `expires_at`, `created_by`, `updated_by`, `primary_image_id`) VALUES (13, '玉石2', '111', '实物商品', 6000, 500, NULL, 'active', 0, 0, '5.00', 0, '2025-07-18 00:29:20', '2025-07-18 00:29:20', 'lucky', NULL, 0, 5, 0, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `products` (`commodity_id`, `name`, `description`, `category`, `exchange_points`, `stock`, `image`, `status`, `is_hot`, `sort_order`, `rating`, `sales_count`, `created_at`, `updated_at`, `space`, `original_price`, `discount`, `low_stock_threshold`, `is_new`, `is_limited`, `view_count`, `warranty`, `delivery_info`, `expires_at`, `created_by`, `updated_by`, `primary_image_id`) VALUES (14, '玉石3', '11', '实物商品', 7000, 500, NULL, 'active', 0, 0, '5.00', 0, '2025-07-18 00:41:32', '2025-07-18 00:41:32', 'lucky', NULL, 0, 5, 0, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL);

-- 表结构: roles
DROP TABLE IF EXISTS `roles`;
CREATE TABLE `roles` (
  `role_id` int NOT NULL AUTO_INCREMENT,
  `role_uuid` varchar(36) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '角色UUID标识（安全不可推测）',
  `role_name` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '角色名称（仅内部使用）',
  `role_level` int NOT NULL DEFAULT '0' COMMENT '角色级别（0=普通用户，100=超级管理员）',
  `permissions` json DEFAULT NULL COMMENT '角色权限配置（JSON格式）',
  `description` text COLLATE utf8mb4_unicode_ci COMMENT '角色描述',
  `is_active` tinyint(1) DEFAULT '1' COMMENT '角色是否启用',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`role_id`),
  UNIQUE KEY `role_uuid` (`role_uuid`),
  UNIQUE KEY `role_name` (`role_name`),
  UNIQUE KEY `roles_role_uuid` (`role_uuid`),
  UNIQUE KEY `roles_role_name` (`role_name`),
  UNIQUE KEY `role_uuid_2` (`role_uuid`),
  UNIQUE KEY `role_name_2` (`role_name`),
  KEY `roles_role_level` (`role_level`),
  KEY `roles_is_active` (`is_active`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='角色管理表';

-- 表数据: roles (2条记录)
INSERT INTO `roles` (`role_id`, `role_uuid`, `role_name`, `role_level`, `permissions`, `description`, `is_active`, `created_at`, `updated_at`) VALUES (1, '5f2c25c2-d507-408d-b6c6-a5c448895afd', 'user', 0, '{"points":["read"],"lottery":["read","participate"],"profile":["read","update"]}', '普通用户', 1, '2025-09-29 01:01:17', '2025-09-30 04:24:47');
INSERT INTO `roles` (`role_id`, `role_uuid`, `role_name`, `role_level`, `permissions`, `description`, `is_active`, `created_at`, `updated_at`) VALUES (2, 'a4657bb4-c9f1-4506-a016-f2fd61580088', 'admin', 100, '{"*":["*"]}', '管理员', 1, '2025-09-29 01:01:17', '2025-09-30 04:24:47');

-- 表结构: sequelizemeta
DROP TABLE IF EXISTS `sequelizemeta`;
CREATE TABLE `sequelizemeta` (
  `name` varchar(255) COLLATE utf8mb3_unicode_ci NOT NULL,
  PRIMARY KEY (`name`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 COLLATE=utf8mb3_unicode_ci;

-- 表数据: sequelizemeta (61条记录)
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250121000000-fix-field-inconsistencies.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250121120000-fix-null-constraints-comprehensive.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250121180713-create-prize-distribution-table.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250121200000-create-admin-security-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250123-simplify-image-resources.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250128000000-fix-database-consistency.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250804215008-upgrade-products-table.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250804215013-create-exchange-records.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250805154928-add-consecutive-fail-count-to-users.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250811211941-create-chat-system-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250814154700-add-message-source-to-chat-messages.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250814211437-add-history-total-points-and-update-premium-config.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250819173637-create-new-separated-architecture.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250819211009-fix-null-constraints-v3.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250819225427-create-analytics-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250820175943-fix-database-consistency-v3-correct.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250820180135-cleanup-duplicate-indexes-v3.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250820183819-cleanup-all-duplicate-indexes.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250820190000-fix-null-constraints-comprehensive.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250820192700-fix-user-points-redundancy.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250821201735-add-pool-support-to-campaigns.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250821201919-create-collection-system-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250822113830-create-social-lottery-and-task-system.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250822122417-add-social-lottery-room-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250822125208-create-scheduled-tasks-table.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250822135133-create-synthesis-system.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250824150725-add-missing-timestamp-fields.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250824193102-remove-redundant-draw-types.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250910164901-create-unified-engine-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250912000306-create-user-specific-prize-queues.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250912182559-remove-unused-collection-tables.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250915204909-comprehensive-status-enum-standardization.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250915204909-update-user-specific-prize-queue-status-enum.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250915221255-update-prize-distribution-status-enum.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250915221355-update-exchange-records-status-enum.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250916234942-fix-decision-record-field-standard.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917114041-remove-legacy-draw-result-field.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917163026-comprehensive-field-standardization.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917163026-rename-awarded-at-to-distributed-at.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917163209-fix-user-specific-prize-queue-status-enum.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917164650-add-expires-at-field.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917165558-add-performance-indexes-fixed.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917165558-comprehensive-performance-indexes.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917172238-fix-missing-foreign-keys.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917172316-add-final-performance-index.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917182946-fix-status-field-standardization.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250917183118-add-missing-database-indexes.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250918182055-add-strategy-type-to-decision-records.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250918182055-comprehensive-decision-records-enhancement.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250918182235-add-json-fields-to-decision-records.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250918182356-add-updated-at-to-decision-records.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250919191714-remove-avatar-url-field.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250923181047-remove-redundant-fields-from-image-resources.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250923205044-add-icon-field-to-user-inventory.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250925120051-remove-over-designed-fields.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250925120608-remove-user-agent-risk-level-behavior-analysis-fields.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250925123254-rename-fee-net-fields-to-points.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250925130804-rename-lottery-records-to-lottery-draws.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250929153227-create-system-announcements-and-feedbacks.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('20250929165731-add-market-fields-to-user-inventory.js');
INSERT INTO `sequelizemeta` (`name`) VALUES ('v4_unified_lottery_engine_migration.js');

-- 表结构: system_announcements
DROP TABLE IF EXISTS `system_announcements`;
CREATE TABLE `system_announcements` (
  `announcement_id` int NOT NULL AUTO_INCREMENT,
  `title` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '公告标题',
  `content` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '公告内容',
  `type` enum('system','activity','maintenance','notice') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'notice' COMMENT '公告类型：系统/活动/维护/通知',
  `priority` enum('high','medium','low') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'medium' COMMENT '优先级：高/中/低',
  `target_groups` json DEFAULT NULL COMMENT '目标用户组（管理员可见）',
  `is_active` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否激活',
  `expires_at` datetime DEFAULT NULL COMMENT '过期时间',
  `admin_id` int NOT NULL COMMENT '发布公告的管理员ID（基于UUID角色系统验证管理员权限）',
  `internal_notes` text COLLATE utf8mb4_unicode_ci COMMENT '内部备注（管理员可见）',
  `view_count` int NOT NULL DEFAULT '0' COMMENT '查看次数',
  `created_at` datetime NOT NULL COMMENT '创建时间',
  `updated_at` datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (`announcement_id`),
  KEY `admin_id` (`admin_id`),
  CONSTRAINT `system_announcements_ibfk_1` FOREIGN KEY (`admin_id`) REFERENCES `users` (`user_id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='系统公告表 - 支持首页公告功能';

-- 表数据: system_announcements (1条记录)
INSERT INTO `system_announcements` (`announcement_id`, `title`, `content`, `type`, `priority`, `target_groups`, `is_active`, `expires_at`, `admin_id`, `internal_notes`, `view_count`, `created_at`, `updated_at`) VALUES (1, '系统维护通知', '为提升系统性能，将于今晚进行系统维护', 'system', 'high', NULL, 1, NULL, 31, NULL, 13, '2025-09-29 23:51:36', '2025-09-30 01:46:34');

-- 表结构: trade_records
DROP TABLE IF EXISTS `trade_records`;
CREATE TABLE `trade_records` (
  `trade_id` int NOT NULL AUTO_INCREMENT,
  `trade_code` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `trade_type` enum('point_transfer','exchange_refund','prize_claim','admin_adjustment','system_reward') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '交易类型',
  `from_user_id` int DEFAULT NULL COMMENT '发送方用户ID（系统操作时为null）',
  `to_user_id` int NOT NULL COMMENT '接收方用户ID',
  `operator_id` int DEFAULT NULL COMMENT '操作员ID（管理员操作时使用）',
  `points_amount` int NOT NULL COMMENT '交易积分数量',
  `fee_points_amount` int NOT NULL DEFAULT '0' COMMENT '交易手续积分数量',
  `net_points_amount` int NOT NULL COMMENT '实际到账积分数量（扣除手续积分后）',
  `status` enum('pending','processing','completed','failed','cancelled','refunded') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'pending' COMMENT '交易状态',
  `verification_status` enum('none','required','verified','rejected') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'none' COMMENT '验证状态',
  `related_id` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '关联记录ID（如兑换记录ID、抽奖记录ID）',
  `related_type` enum('exchange','lottery','review','refund','system') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '关联记录类型',
  `trade_reason` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '交易原因或描述',
  `remarks` text COLLATE utf8mb4_unicode_ci COMMENT '交易备注',
  `trade_password_hash` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '交易密码哈希（用户设置时）',
  `security_code` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '安全验证码',
  `client_ip` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '客户端IP地址',
  `device_info` json DEFAULT NULL COMMENT '设备信息JSON',
  `trade_time` datetime NOT NULL COMMENT '交易发起时间',
  `processed_time` datetime DEFAULT NULL COMMENT '交易处理完成时间',
  `expires_at` datetime DEFAULT NULL COMMENT '交易过期时间',
  `version` int NOT NULL DEFAULT '1' COMMENT '记录版本（乐观锁）',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`trade_id`),
  UNIQUE KEY `trade_id` (`trade_code`),
  UNIQUE KEY `trade_code` (`trade_code`),
  KEY `operator_id` (`operator_id`),
  KEY `trade_records_from_user_id_created_at` (`from_user_id`,`created_at`),
  KEY `trade_records_to_user_id_created_at` (`to_user_id`,`created_at`),
  KEY `trade_records_trade_type_status` (`trade_type`,`status`),
  KEY `trade_records_related_id_related_type` (`related_id`,`related_type`),
  KEY `trade_records_trade_time` (`trade_time`),
  KEY `trade_records_status_verification_status` (`status`,`verification_status`),
  KEY `idx_trade_records_status_created_at` (`status`,`created_at`),
  CONSTRAINT `trade_records_ibfk_1` FOREIGN KEY (`from_user_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `trade_records_ibfk_2` FOREIGN KEY (`to_user_id`) REFERENCES `users` (`user_id`) ON UPDATE CASCADE,
  CONSTRAINT `trade_records_ibfk_3` FOREIGN KEY (`operator_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表结构: user_inventory
DROP TABLE IF EXISTS `user_inventory`;
CREATE TABLE `user_inventory` (
  `inventory_id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL COMMENT '用户ID',
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '物品名称',
  `description` text COLLATE utf8mb4_unicode_ci COMMENT '物品描述',
  `icon` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '显示图标（用于UI展示的emoji或图标标识）',
  `type` enum('voucher','product','service') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '物品类型：优惠券/实物商品/服务',
  `value` int NOT NULL DEFAULT '0' COMMENT '物品价值（积分等价值）',
  `status` enum('available','pending','used','expired','transferred') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'available' COMMENT '物品状态',
  `source_type` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '获得来源：抽奖中奖/兑换获得/系统赠送等',
  `source_id` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '来源记录ID',
  `acquired_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '获得时间',
  `expires_at` timestamp NULL DEFAULT NULL COMMENT '过期时间（可选）',
  `used_at` timestamp NULL DEFAULT NULL COMMENT '使用时间',
  `verification_code` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '核销码',
  `verification_expires_at` timestamp NULL DEFAULT NULL COMMENT '核销码过期时间',
  `transfer_to_user_id` int DEFAULT NULL COMMENT '转让给的用户ID',
  `transfer_at` timestamp NULL DEFAULT NULL COMMENT '转让时间',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `market_status` enum('on_sale','sold','withdrawn') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '市场状态：在售/已售/已撤回',
  `selling_points` int DEFAULT NULL COMMENT '出售价格（积分）',
  `condition` enum('new','excellent','good','fair','poor') COLLATE utf8mb4_unicode_ci DEFAULT 'good' COMMENT '物品成色：全新/优秀/良好/一般/较差',
  `transfer_count` int NOT NULL DEFAULT '0' COMMENT '转让次数',
  `acquisition_method` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '获得方式：lottery/exchange/transfer/admin等',
  `acquisition_cost` int DEFAULT NULL COMMENT '获得成本（积分）',
  `can_transfer` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否可转让',
  `can_use` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否可使用',
  `item_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '物品名称（兼容新字段）',
  `item_type` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '物品类型（兼容新字段）',
  `is_available` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否可用',
  PRIMARY KEY (`inventory_id`),
  UNIQUE KEY `verification_code` (`verification_code`),
  UNIQUE KEY `user_inventory_verification_code` (`verification_code`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_type` (`type`),
  KEY `idx_status` (`status`),
  KEY `idx_source_type` (`source_type`),
  KEY `idx_acquired_at` (`acquired_at`),
  KEY `idx_expires_at` (`expires_at`),
  KEY `idx_verification_code` (`verification_code`),
  KEY `fk_user_inventory_transfer_to` (`transfer_to_user_id`),
  KEY `user_inventory_user_id_status` (`user_id`,`status`),
  KEY `user_inventory_type` (`type`),
  KEY `user_inventory_expires_at` (`expires_at`),
  KEY `user_inventory_source_type_source_id` (`source_type`,`source_id`),
  KEY `idx_user_inventory_market_status` (`market_status`),
  KEY `idx_user_inventory_user_market` (`user_id`,`market_status`),
  KEY `idx_user_inventory_selling_points` (`selling_points`),
  CONSTRAINT `fk_inventory_user` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE,
  CONSTRAINT `fk_user_inventory_transfer_to` FOREIGN KEY (`transfer_to_user_id`) REFERENCES `users` (`user_id`) ON DELETE SET NULL,
  CONSTRAINT `fk_user_inventory_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户物品库存表';

-- 表结构: user_points_accounts
DROP TABLE IF EXISTS `user_points_accounts`;
CREATE TABLE `user_points_accounts` (
  `account_id` bigint NOT NULL AUTO_INCREMENT COMMENT '账户唯一标识',
  `user_id` int NOT NULL COMMENT '关联用户ID',
  `available_points` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '可用积分余额',
  `total_earned` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '累计获得积分',
  `total_consumed` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '累计消耗积分',
  `last_earn_time` datetime DEFAULT NULL COMMENT '最后获得积分时间',
  `last_consume_time` datetime DEFAULT NULL COMMENT '最后消耗积分时间',
  `is_active` tinyint(1) NOT NULL DEFAULT '1' COMMENT '账户是否激活',
  `freeze_reason` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '冻结原因',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`account_id`),
  UNIQUE KEY `user_id` (`user_id`),
  UNIQUE KEY `unique_user_points_account` (`user_id`),
  KEY `idx_available_points` (`available_points`),
  KEY `idx_last_earn_time` (`last_earn_time`),
  KEY `idx_is_active` (`is_active`),
  KEY `idx_upa_available_points` (`available_points`),
  KEY `idx_upa_is_active` (`is_active`),
  CONSTRAINT `user_points_accounts_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=135 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户积分账户表 - 积分系统核心表';

-- 表数据: user_points_accounts (1条记录)
INSERT INTO `user_points_accounts` (`account_id`, `user_id`, `available_points`, `total_earned`, `total_consumed`, `last_earn_time`, `last_consume_time`, `is_active`, `freeze_reason`, `created_at`, `updated_at`) VALUES (100, 31, '217720.00', '481990.00', '75570.00', '2025-09-30 22:30:32', '2025-09-30 22:30:32', 1, NULL, '2025-08-20 03:55:06', '2025-09-30 22:30:32');

-- 表结构: user_roles
DROP TABLE IF EXISTS `user_roles`;
CREATE TABLE `user_roles` (
  `user_role_id` int NOT NULL AUTO_INCREMENT,
  `user_id` int NOT NULL,
  `role_id` int NOT NULL,
  `assigned_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `assigned_by` int DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`user_role_id`),
  UNIQUE KEY `user_role_unique` (`user_id`,`role_id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_role_id` (`role_id`),
  KEY `idx_is_active` (`is_active`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表数据: user_roles (12条记录)
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (1, 31, 2, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (2, 34, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (3, 36, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (4, 37, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (5, 38, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (6, 39, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (7, 40, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (8, 173, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (9, 174, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (10, 175, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (11, 279, 1, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');
INSERT INTO `user_roles` (`user_role_id`, `user_id`, `role_id`, `assigned_at`, `assigned_by`, `is_active`, `created_at`, `updated_at`) VALUES (12, 2147483647, 2, '2025-09-29 01:09:44', NULL, 1, '2025-09-29 01:09:44', '2025-09-29 01:09:44');

-- 表结构: user_sessions
DROP TABLE IF EXISTS `user_sessions`;
CREATE TABLE `user_sessions` (
  `user_session_id` bigint NOT NULL AUTO_INCREMENT,
  `session_token` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '会话令牌（JWT Token的jti）',
  `user_type` enum('user','admin') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '用户类型',
  `user_id` int NOT NULL,
  `login_ip` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '登录IP',
  `is_active` tinyint(1) DEFAULT '1' COMMENT '是否活跃',
  `last_activity` datetime NOT NULL COMMENT '最后活动时间',
  `expires_at` datetime NOT NULL COMMENT '过期时间',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  PRIMARY KEY (`user_session_id`),
  UNIQUE KEY `session_token` (`session_token`),
  UNIQUE KEY `session_token_2` (`session_token`),
  UNIQUE KEY `session_token_3` (`session_token`),
  UNIQUE KEY `user_sessions_session_token` (`session_token`),
  KEY `idx_user_sessions_token` (`session_token`),
  KEY `idx_user_sessions_user_active` (`user_type`,`user_id`,`is_active`),
  KEY `idx_user_sessions_expires` (`expires_at`,`is_active`),
  KEY `idx_user_sessions_user_created` (`user_id`,`created_at`),
  KEY `user_sessions_user_type_user_id_is_active` (`user_type`,`user_id`,`is_active`),
  KEY `user_sessions_expires_at_is_active` (`expires_at`,`is_active`),
  KEY `user_sessions_last_activity` (`last_activity`),
  CONSTRAINT `user_sessions_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='用户会话管理表';

-- 表结构: users
DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `user_id` int NOT NULL AUTO_INCREMENT COMMENT '用户唯一标识',
  `mobile` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '手机号，唯一标识+登录凭证',
  `nickname` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '用户昵称',
  `status` enum('active','inactive','banned') COLLATE utf8mb4_unicode_ci DEFAULT 'active' COMMENT '用户状态',
  `last_login` datetime DEFAULT NULL COMMENT '最后登录时间',
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `login_count` int DEFAULT '0' COMMENT '登录次数统计',
  `consecutive_fail_count` int DEFAULT '0' COMMENT '连续未中奖次数（保底机制核心）',
  `history_total_points` int DEFAULT '0' COMMENT '历史累计总积分（臻选空间解锁条件）',
  PRIMARY KEY (`user_id`),
  UNIQUE KEY `mobile` (`mobile`),
  UNIQUE KEY `idx_users_mobile` (`mobile`),
  UNIQUE KEY `mobile_2` (`mobile`),
  UNIQUE KEY `users_mobile` (`mobile`),
  UNIQUE KEY `mobile_3` (`mobile`),
  KEY `idx_status` (`status`),
  KEY `users_is_admin_status` (`status`),
  KEY `users_last_login` (`last_login`),
  KEY `idx_users_mobile_status` (`mobile`,`status`),
  KEY `idx_users_status` (`status`),
  KEY `users_status_is_admin` (`status`),
  KEY `users_history_total_points` (`history_total_points`)
) ENGINE=InnoDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- 表数据: users (1条记录)
INSERT INTO `users` (`user_id`, `mobile`, `nickname`, `status`, `last_login`, `created_at`, `updated_at`, `login_count`, `consecutive_fail_count`, `history_total_points`) VALUES (31, '13612227930', '管理员用户', 'active', '2025-09-30 22:30:31', '2025-07-07 00:11:11', '2025-09-30 22:30:32', 974, 0, 481990);

SET FOREIGN_KEY_CHECKS = 1;
