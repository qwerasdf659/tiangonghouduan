# æ•°æ®åº“å¤‡ä»½æŠ¥å‘Š

## ğŸ“‹ å¤‡ä»½åŸºæœ¬ä¿¡æ¯

- **å¤‡ä»½æ—¶é—´**: 2025å¹´11æœˆ04æ—¥ 22:43:35 (åŒ—äº¬æ—¶é—´GMT+8)
- **æ•°æ®åº“åç§°**: restaurant_points_dev
- **æ•°æ®åº“ä¸»æœº**: dbconn.sealosbja.site:42569
- **å¤‡ä»½ç±»å‹**: å®Œæ•´å¤‡ä»½ï¼ˆç»“æ„+æ•°æ®+ç´¢å¼•+å¤–é”®çº¦æŸï¼‰
- **å¤‡ä»½æ ¼å¼**: SQL + JSON

## ğŸ“Š å¤‡ä»½ç»Ÿè®¡

- **æ€»è¡¨æ•°**: 26 ä¸ª
- **éç©ºè¡¨æ•°**: 19 ä¸ª
- **ç©ºè¡¨æ•°**: 7 ä¸ª
- **æ€»è®°å½•æ•°**: 1919 æ¡

## ğŸ“ å¤‡ä»½æ–‡ä»¶æ¸…å•

| æ–‡ä»¶å | å¤§å° | MD5æ ¡éªŒ |
|--------|------|---------|
| full_backup_2025-11-04_22-43-35.sql | 1060.67 KB | 73f6c3b2e623f8b932511f962534dce4 |
| full_backup_2025-11-04_22-43-35.json | 1462.72 KB | ee55c6cf5c065d787a5881c3f283eb80 |

## ğŸ“‹ æ•°æ®è¡¨è¯¦ç»†æ¸…å•

| è¡¨å | è®°å½•æ•° | çŠ¶æ€ |
|------|--------|------|
| admin_operation_logs | 0 | âšª (ç©ºè¡¨) |
| audit_records | 0 | âšª (ç©ºè¡¨) |
| authentication_sessions | 0 | âšª (ç©ºè¡¨) |
| chat_messages | 326 | âœ… |
| consumption_records | 12 | âœ… |
| content_review_records | 12 | âœ… |
| customer_service_sessions | 40 | âœ… |
| exchange_records | 0 | âšª (ç©ºè¡¨) |
| feedbacks | 0 | âšª (ç©ºè¡¨) |
| image_resources | 3 | âœ… |
| lottery_campaigns | 1 | âœ… |
| lottery_draws | 1308 | âœ… |
| lottery_presets | 1 | âœ… |
| lottery_prizes | 9 | âœ… |
| points_transactions | 73 | âœ… |
| products | 4 | âœ… |
| roles | 3 | âœ… |
| sequelizemeta | 87 | âœ… |
| system_announcements | 1 | âœ… |
| trade_records | 0 | âšª (ç©ºè¡¨) |
| user_inventory | 0 | âšª (ç©ºè¡¨) |
| user_points_accounts | 1 | âœ… |
| user_premium_status | 1 | âœ… |
| user_roles | 11 | âœ… |
| user_roles_backup_20251009 | 16 | âœ… |
| users | 10 | âœ… |

## âœ… å¤‡ä»½å†…å®¹å®Œæ•´æ€§

### 1. è¡¨ç»“æ„å¤‡ä»½ âœ…
- âœ… æ‰€æœ‰è¡¨çš„CREATE TABLEè¯­å¥
- âœ… å­—æ®µå®šä¹‰ï¼ˆç±»å‹ã€é•¿åº¦ã€é»˜è®¤å€¼ã€æ³¨é‡Šï¼‰
- âœ… ä¸»é”®çº¦æŸ
- âœ… å”¯ä¸€ç´¢å¼•
- âœ… æ™®é€šç´¢å¼•
- âœ… å¤–é”®çº¦æŸ
- âœ… å­—ç¬¦é›†å’Œæ’åºè§„åˆ™

### 2. æ•°æ®å¤‡ä»½ âœ…
- âœ… æ‰€æœ‰è¡¨çš„å®Œæ•´æ•°æ®ï¼ˆåŒ…æ‹¬ç©ºè¡¨ç»“æ„ï¼‰
- âœ… æ•°æ®ç±»å‹æ­£ç¡®è½¬æ¢
- âœ… NULLå€¼æ­£ç¡®å¤„ç†
- âœ… äºŒè¿›åˆ¶æ•°æ®ï¼ˆBLOBï¼‰æ­£ç¡®ç¼–ç 
- âœ… æ—¥æœŸæ—¶é—´æ ¼å¼ç»Ÿä¸€

### 3. å®Œæ•´æ€§éªŒè¯ âœ…
- âœ… SQLæ–‡ä»¶è¯­æ³•æ­£ç¡®
- âœ… JSONæ•°æ®ç»“æ„å®Œæ•´
- âœ… MD5æ ¡éªŒå€¼å·²ç”Ÿæˆ
- âœ… æ‰€æœ‰26ä¸ªè¡¨å‡å·²å¤‡ä»½

## ğŸ”„ å¤‡ä»½æ¢å¤è¯´æ˜

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨SQLæ–‡ä»¶æ¢å¤
```bash
# æ¢å¤å®Œæ•´æ•°æ®åº“
mysql -h dbconn.sealosbja.site -P 42569 -u root -p restaurant_points_dev < full_backup_2025-11-04_22-43-35.sql
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨JSONæ–‡ä»¶æ¢å¤
```bash
# ä½¿ç”¨Node.jsè„šæœ¬æ¢å¤
node scripts/restore-from-json.js backups/backup_2025-11-04/full_backup_2025-11-04_22-43-35.json
```

## ğŸ”’ å¤‡ä»½éªŒè¯

### MD5æ ¡éªŒ
```bash
cd backups/backup_2025-11-04
md5sum -c BACKUP_MD5_2025-11-04.txt
```

### æ–‡ä»¶å®Œæ•´æ€§
- âœ… SQLæ–‡ä»¶å¤§å°: 1060.67 KB
- âœ… JSONæ–‡ä»¶å¤§å°: 1462.72 KB
- âœ… æ‰€æœ‰è¡¨ç»“æ„å®Œæ•´
- âœ… æ‰€æœ‰æ•°æ®è®°å½•å®Œæ•´

## ğŸ“ å¤‡ä»½æ—¥å¿—

```
[2025-11-04 22:43:35] å¼€å§‹æ•°æ®åº“å¤‡ä»½
[2025-11-04 22:43:36] è¿æ¥æ•°æ®åº“æˆåŠŸ
[2025-11-04 22:43:36] å¼€å§‹å¤‡ä»½26ä¸ªè¡¨
[2025-11-04 22:43:40] è¡¨ç»“æ„å¤‡ä»½å®Œæˆ
[2025-11-04 22:43:42] æ•°æ®å¤‡ä»½å®Œæˆ (1919æ¡è®°å½•)
[2025-11-04 22:43:43] ç”ŸæˆSQLæ–‡ä»¶
[2025-11-04 22:43:44] ç”ŸæˆJSONæ–‡ä»¶
[2025-11-04 22:43:45] ç”ŸæˆMD5æ ¡éªŒ
[2025-11-04 22:43:45] å¤‡ä»½ä»»åŠ¡å®Œæˆ âœ…
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®å®‰å…¨**
   - å¤‡ä»½æ–‡ä»¶åŒ…å«æ•æ„Ÿæ•°æ®ï¼Œè¯·å¦¥å–„ä¿ç®¡
   - ä¸è¦å°†å¤‡ä»½æ–‡ä»¶ä¸Šä¼ åˆ°å…¬å¼€ä»“åº“
   - å®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„å®Œæ•´æ€§

2. **æ¢å¤å‰å‡†å¤‡**
   - æ¢å¤å‰è¯·å…ˆå¤‡ä»½å½“å‰æ•°æ®åº“
   - ç¡®è®¤ç›®æ ‡æ•°æ®åº“ç‰ˆæœ¬å…¼å®¹æ€§
   - æ£€æŸ¥ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³

3. **ç‰ˆæœ¬å…¼å®¹æ€§**
   - MySQLç‰ˆæœ¬: 5.7+
   - å­—ç¬¦é›†: utf8mb4
   - æ—¶åŒº: Asia/Shanghai (GMT+8)

---
**å¤‡ä»½å®Œæˆæ—¶é—´**: 2025å¹´11æœˆ04æ—¥ 22:43:35 (åŒ—äº¬æ—¶é—´GMT+8)  
**å¤‡ä»½å·¥å…·**: Node.js + Sequelize  
**å¤‡ä»½çŠ¶æ€**: âœ… å®Œæ•´å¤‡ä»½æˆåŠŸ
